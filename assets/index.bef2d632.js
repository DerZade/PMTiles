function a5(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in e)){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const s5=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerpolicy&&(h.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?h.credentials="include":s.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(s){if(s.ep)return;s.ep=!0;const h=n(s);fetch(s.href,h)}};s5();var Kd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},j={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),l5=Symbol.for("react.portal"),u5=Symbol.for("react.fragment"),c5=Symbol.for("react.strict_mode"),h5=Symbol.for("react.profiler"),d5=Symbol.for("react.provider"),f5=Symbol.for("react.context"),p5=Symbol.for("react.forward_ref"),m5=Symbol.for("react.suspense"),g5=Symbol.for("react.memo"),y5=Symbol.for("react.lazy"),P2=Symbol.iterator;function _5(e){return e===null||typeof e!="object"?null:(e=P2&&e[P2]||e["@@iterator"],typeof e=="function"?e:null)}var TC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PC=Object.assign,IC={};function Kc(e,t,n){this.props=e,this.context=t,this.refs=IC,this.updater=n||TC}Kc.prototype.isReactComponent={};Kc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AC(){}AC.prototype=Kc.prototype;function ax(e,t,n){this.props=e,this.context=t,this.refs=IC,this.updater=n||TC}var sx=ax.prototype=new AC;sx.constructor=ax;PC(sx,Kc.prototype);sx.isPureReactComponent=!0;var I2=Array.isArray,MC=Object.prototype.hasOwnProperty,lx={current:null},zC={key:!0,ref:!0,__self:!0,__source:!0};function DC(e,t,n){var i,s={},h=null,f=null;if(t!=null)for(i in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(h=""+t.key),t)MC.call(t,i)&&!zC.hasOwnProperty(i)&&(s[i]=t[i]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var w=Array(u),b=0;b<u;b++)w[b]=arguments[b+2];s.children=w}if(e&&e.defaultProps)for(i in u=e.defaultProps,u)s[i]===void 0&&(s[i]=u[i]);return{$$typeof:Tf,type:e,key:h,ref:f,props:s,_owner:lx.current}}function v5(e,t){return{$$typeof:Tf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ux(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tf}function x5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var A2=/\/+/g;function u_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x5(""+e.key):t.toString(36)}function km(e,t,n,i,s){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(h){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Tf:case l5:f=!0}}if(f)return f=e,s=s(f),e=i===""?"."+u_(f,0):i,I2(s)?(n="",e!=null&&(n=e.replace(A2,"$&/")+"/"),km(s,t,n,"",function(b){return b})):s!=null&&(ux(s)&&(s=v5(s,n+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(A2,"$&/")+"/")+e)),t.push(s)),1;if(f=0,i=i===""?".":i+":",I2(e))for(var u=0;u<e.length;u++){h=e[u];var w=i+u_(h,u);f+=km(h,t,n,w,s)}else if(w=_5(e),typeof w=="function")for(e=w.call(e),u=0;!(h=e.next()).done;)h=h.value,w=i+u_(h,u++),f+=km(h,t,n,w,s);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function jp(e,t,n){if(e==null)return e;var i=[],s=0;return km(e,i,"","",function(h){return t.call(n,h,s++)}),i}function w5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zi={current:null},Cm={transition:null},b5={ReactCurrentDispatcher:zi,ReactCurrentBatchConfig:Cm,ReactCurrentOwner:lx};Qt.Children={map:jp,forEach:function(e,t,n){jp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jp(e,function(){t++}),t},toArray:function(e){return jp(e,function(t){return t})||[]},only:function(e){if(!ux(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qt.Component=Kc;Qt.Fragment=u5;Qt.Profiler=h5;Qt.PureComponent=ax;Qt.StrictMode=c5;Qt.Suspense=m5;Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b5;Qt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=PC({},e.props),s=e.key,h=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,f=lx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(w in t)MC.call(t,w)&&!zC.hasOwnProperty(w)&&(i[w]=t[w]===void 0&&u!==void 0?u[w]:t[w])}var w=arguments.length-2;if(w===1)i.children=n;else if(1<w){u=Array(w);for(var b=0;b<w;b++)u[b]=arguments[b+2];i.children=u}return{$$typeof:Tf,type:e.type,key:s,ref:h,props:i,_owner:f}};Qt.createContext=function(e){return e={$$typeof:f5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d5,_context:e},e.Consumer=e};Qt.createElement=DC;Qt.createFactory=function(e){var t=DC.bind(null,e);return t.type=e,t};Qt.createRef=function(){return{current:null}};Qt.forwardRef=function(e){return{$$typeof:p5,render:e}};Qt.isValidElement=ux;Qt.lazy=function(e){return{$$typeof:y5,_payload:{_status:-1,_result:e},_init:w5}};Qt.memo=function(e,t){return{$$typeof:g5,type:e,compare:t===void 0?null:t}};Qt.startTransition=function(e){var t=Cm.transition;Cm.transition={};try{e()}finally{Cm.transition=t}};Qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Qt.useCallback=function(e,t){return zi.current.useCallback(e,t)};Qt.useContext=function(e){return zi.current.useContext(e)};Qt.useDebugValue=function(){};Qt.useDeferredValue=function(e){return zi.current.useDeferredValue(e)};Qt.useEffect=function(e,t){return zi.current.useEffect(e,t)};Qt.useId=function(){return zi.current.useId()};Qt.useImperativeHandle=function(e,t,n){return zi.current.useImperativeHandle(e,t,n)};Qt.useInsertionEffect=function(e,t){return zi.current.useInsertionEffect(e,t)};Qt.useLayoutEffect=function(e,t){return zi.current.useLayoutEffect(e,t)};Qt.useMemo=function(e,t){return zi.current.useMemo(e,t)};Qt.useReducer=function(e,t,n){return zi.current.useReducer(e,t,n)};Qt.useRef=function(e){return zi.current.useRef(e)};Qt.useState=function(e){return zi.current.useState(e)};Qt.useSyncExternalStore=function(e,t,n){return zi.current.useSyncExternalStore(e,t,n)};Qt.useTransition=function(){return zi.current.useTransition()};Qt.version="18.1.0";j.exports=Qt;var Le=j.exports,yv=a5({__proto__:null,default:Le},[j.exports]),_v={},Qg={exports:{}},xo={},RC={exports:{}},LC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ne,nt){var ut=Ne.length;Ne.push(nt);e:for(;0<ut;){var Ft=ut-1>>>1,ct=Ne[Ft];if(0<s(ct,nt))Ne[Ft]=nt,Ne[ut]=ct,ut=Ft;else break e}}function n(Ne){return Ne.length===0?null:Ne[0]}function i(Ne){if(Ne.length===0)return null;var nt=Ne[0],ut=Ne.pop();if(ut!==nt){Ne[0]=ut;e:for(var Ft=0,ct=Ne.length,mn=ct>>>1;Ft<mn;){var rn=2*(Ft+1)-1,Jn=Ne[rn],Ht=rn+1,Gn=Ne[Ht];if(0>s(Jn,ut))Ht<ct&&0>s(Gn,Jn)?(Ne[Ft]=Gn,Ne[Ht]=ut,Ft=Ht):(Ne[Ft]=Jn,Ne[rn]=ut,Ft=rn);else if(Ht<ct&&0>s(Gn,ut))Ne[Ft]=Gn,Ne[Ht]=ut,Ft=Ht;else break e}}return nt}function s(Ne,nt){var ut=Ne.sortIndex-nt.sortIndex;return ut!==0?ut:Ne.id-nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var f=Date,u=f.now();e.unstable_now=function(){return f.now()-u}}var w=[],b=[],C=1,M=null,T=3,N=!1,W=!1,H=!1,le=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(Ne){for(var nt=n(b);nt!==null;){if(nt.callback===null)i(b);else if(nt.startTime<=Ne)i(b),nt.sortIndex=nt.expirationTime,t(w,nt);else break;nt=n(b)}}function se(Ne){if(H=!1,Y(Ne),!W)if(n(w)!==null)W=!0,tt(oe);else{var nt=n(b);nt!==null&&dn(se,nt.startTime-Ne)}}function oe(Ne,nt){W=!1,H&&(H=!1,V(xe),xe=-1),N=!0;var ut=T;try{for(Y(nt),M=n(w);M!==null&&(!(M.expirationTime>nt)||Ne&&!Qe());){var Ft=M.callback;if(typeof Ft=="function"){M.callback=null,T=M.priorityLevel;var ct=Ft(M.expirationTime<=nt);nt=e.unstable_now(),typeof ct=="function"?M.callback=ct:M===n(w)&&i(w),Y(nt)}else i(w);M=n(w)}if(M!==null)var mn=!0;else{var rn=n(b);rn!==null&&dn(se,rn.startTime-nt),mn=!1}return mn}finally{M=null,T=ut,N=!1}}var de=!1,me=null,xe=-1,Be=5,Ie=-1;function Qe(){return!(e.unstable_now()-Ie<Be)}function Tt(){if(me!==null){var Ne=e.unstable_now();Ie=Ne;var nt=!0;try{nt=me(!0,Ne)}finally{nt?Ct():(de=!1,me=null)}}else de=!1}var Ct;if(typeof B=="function")Ct=function(){B(Tt)};else if(typeof MessageChannel!="undefined"){var Et=new MessageChannel,jt=Et.port2;Et.port1.onmessage=Tt,Ct=function(){jt.postMessage(null)}}else Ct=function(){le(Tt,0)};function tt(Ne){me=Ne,de||(de=!0,Ct())}function dn(Ne,nt){xe=le(function(){Ne(e.unstable_now())},nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ne){Ne.callback=null},e.unstable_continueExecution=function(){W||N||(W=!0,tt(oe))},e.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<Ne?Math.floor(1e3/Ne):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return n(w)},e.unstable_next=function(Ne){switch(T){case 1:case 2:case 3:var nt=3;break;default:nt=T}var ut=T;T=nt;try{return Ne()}finally{T=ut}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ne,nt){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var ut=T;T=Ne;try{return nt()}finally{T=ut}},e.unstable_scheduleCallback=function(Ne,nt,ut){var Ft=e.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ft+ut:Ft):ut=Ft,Ne){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=ut+ct,Ne={id:C++,callback:nt,priorityLevel:Ne,startTime:ut,expirationTime:ct,sortIndex:-1},ut>Ft?(Ne.sortIndex=ut,t(b,Ne),n(w)===null&&Ne===n(b)&&(H?(V(xe),xe=-1):H=!0,dn(se,ut-Ft))):(Ne.sortIndex=ct,t(w,Ne),W||N||(W=!0,tt(oe))),Ne},e.unstable_shouldYield=Qe,e.unstable_wrapCallback=function(Ne){var nt=T;return function(){var ut=T;T=nt;try{return Ne.apply(this,arguments)}finally{T=ut}}}})(LC);RC.exports=LC;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC=j.exports,yo=RC.exports;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FC=new Set,Yd={};function lu(e,t){Oc(e,t),Oc(e+"Capture",t)}function Oc(e,t){for(Yd[e]=t,e=0;e<t.length;e++)FC.add(t[e])}var ts=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),vv=Object.prototype.hasOwnProperty,S5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M2={},z2={};function E5(e){return vv.call(z2,e)?!0:vv.call(M2,e)?!1:S5.test(e)?z2[e]=!0:(M2[e]=!0,!1)}function k5(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C5(e,t,n,i){if(t===null||typeof t=="undefined"||k5(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Di(e,t,n,i,s,h,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=f}var Jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jr[e]=new Di(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jr[t]=new Di(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jr[e]=new Di(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jr[e]=new Di(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jr[e]=new Di(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jr[e]=new Di(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jr[e]=new Di(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jr[e]=new Di(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jr[e]=new Di(e,5,!1,e.toLowerCase(),null,!1,!1)});var cx=/[\-:]([a-z])/g;function hx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cx,hx);Jr[t]=new Di(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cx,hx);Jr[t]=new Di(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cx,hx);Jr[t]=new Di(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jr[e]=new Di(e,1,!1,e.toLowerCase(),null,!1,!1)});Jr.xlinkHref=new Di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jr[e]=new Di(e,1,!1,e.toLowerCase(),null,!0,!0)});function dx(e,t,n,i){var s=Jr.hasOwnProperty(t)?Jr[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C5(t,n,s,i)&&(n=null),i||s===null?E5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var cs=OC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Up=Symbol.for("react.element"),fc=Symbol.for("react.portal"),pc=Symbol.for("react.fragment"),fx=Symbol.for("react.strict_mode"),xv=Symbol.for("react.profiler"),$C=Symbol.for("react.provider"),BC=Symbol.for("react.context"),px=Symbol.for("react.forward_ref"),wv=Symbol.for("react.suspense"),bv=Symbol.for("react.suspense_list"),mx=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),VC=Symbol.for("react.offscreen"),D2=Symbol.iterator;function cd(e){return e===null||typeof e!="object"?null:(e=D2&&e[D2]||e["@@iterator"],typeof e=="function"?e:null)}var ir=Object.assign,c_;function kd(e){if(c_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);c_=t&&t[1]||""}return`
`+c_+e}var h_=!1;function d_(e,t){if(!e||h_)return"";h_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var i=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){i=b}e.call(t.prototype)}else{try{throw Error()}catch(b){i=b}e()}}catch(b){if(b&&i&&typeof b.stack=="string"){for(var s=b.stack.split(`
`),h=i.stack.split(`
`),f=s.length-1,u=h.length-1;1<=f&&0<=u&&s[f]!==h[u];)u--;for(;1<=f&&0<=u;f--,u--)if(s[f]!==h[u]){if(f!==1||u!==1)do if(f--,u--,0>u||s[f]!==h[u]){var w=`
`+s[f].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=f&&0<=u);break}}}finally{h_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kd(e):""}function T5(e){switch(e.tag){case 5:return kd(e.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return e=d_(e.type,!1),e;case 11:return e=d_(e.type.render,!1),e;case 1:return e=d_(e.type,!0),e;default:return""}}function Sv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pc:return"Fragment";case fc:return"Portal";case xv:return"Profiler";case fx:return"StrictMode";case wv:return"Suspense";case bv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BC:return(e.displayName||"Context")+".Consumer";case $C:return(e._context.displayName||"Context")+".Provider";case px:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mx:return t=e.displayName||null,t!==null?t:Sv(e.type)||"Memo";case Ls:t=e._payload,e=e._init;try{return Sv(e(t))}catch{}}return null}function P5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sv(t);case 8:return t===fx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Js(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function NC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I5(e){var t=NC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){i=""+f,h.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gp(e){e._valueTracker||(e._valueTracker=I5(e))}function jC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=NC(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function tg(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ev(e,t){var n=t.checked;return ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function R2(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Js(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UC(e,t){t=t.checked,t!=null&&dx(e,"checked",t,!1)}function kv(e,t){UC(e,t);var n=Js(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Cv(e,t.type,Js(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function L2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Cv(e,t,n){(t!=="number"||tg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cd=Array.isArray;function Tc(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Js(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function O2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ve(92));if(Cd(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Js(n)}}function GC(e,t){var n=Js(t.value),i=Js(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function F2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wp,qC=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wp=Wp||document.createElement("div"),Wp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A5=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(e){A5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Od[t]=Od[e]})});function ZC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Od.hasOwnProperty(e)&&Od[e]?(""+t).trim():t+"px"}function HC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=ZC(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var M5=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iv(e,t){if(t){if(M5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function Av(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mv=null;function gx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zv=null,Pc=null,Ic=null;function $2(e){if(e=Af(e)){if(typeof zv!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=iy(t),zv(e.stateNode,e.type,t))}}function XC(e){Pc?Ic?Ic.push(e):Ic=[e]:Pc=e}function KC(){if(Pc){var e=Pc,t=Ic;if(Ic=Pc=null,$2(e),t)for(e=0;e<t.length;e++)$2(t[e])}}function YC(e,t){return e(t)}function JC(){}var f_=!1;function QC(e,t,n){if(f_)return e(t,n);f_=!0;try{return YC(e,t,n)}finally{f_=!1,(Pc!==null||Ic!==null)&&(JC(),KC())}}function Qd(e,t){var n=e.stateNode;if(n===null)return null;var i=iy(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ve(231,t,typeof n));return n}var Dv=!1;if(ts)try{var hd={};Object.defineProperty(hd,"passive",{get:function(){Dv=!0}}),window.addEventListener("test",hd,hd),window.removeEventListener("test",hd,hd)}catch{Dv=!1}function z5(e,t,n,i,s,h,f,u,w){var b=Array.prototype.slice.call(arguments,3);try{t.apply(n,b)}catch(C){this.onError(C)}}var Fd=!1,ng=null,rg=!1,Rv=null,D5={onError:function(e){Fd=!0,ng=e}};function R5(e,t,n,i,s,h,f,u,w){Fd=!1,ng=null,z5.apply(D5,arguments)}function L5(e,t,n,i,s,h,f,u,w){if(R5.apply(this,arguments),Fd){if(Fd){var b=ng;Fd=!1,ng=null}else throw Error(Ve(198));rg||(rg=!0,Rv=b)}}function uu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B2(e){if(uu(e)!==e)throw Error(Ve(188))}function O5(e){var t=e.alternate;if(!t){if(t=uu(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var h=s.alternate;if(h===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===h.child){for(h=s.child;h;){if(h===n)return B2(s),e;if(h===i)return B2(s),t;h=h.sibling}throw Error(Ve(188))}if(n.return!==i.return)n=s,i=h;else{for(var f=!1,u=s.child;u;){if(u===n){f=!0,n=s,i=h;break}if(u===i){f=!0,i=s,n=h;break}u=u.sibling}if(!f){for(u=h.child;u;){if(u===n){f=!0,n=h,i=s;break}if(u===i){f=!0,i=h,n=s;break}u=u.sibling}if(!f)throw Error(Ve(189))}}if(n.alternate!==i)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?e:t}function tT(e){return e=O5(e),e!==null?nT(e):null}function nT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nT(e);if(t!==null)return t;e=e.sibling}return null}var rT=yo.unstable_scheduleCallback,V2=yo.unstable_cancelCallback,F5=yo.unstable_shouldYield,$5=yo.unstable_requestPaint,vr=yo.unstable_now,B5=yo.unstable_getCurrentPriorityLevel,yx=yo.unstable_ImmediatePriority,iT=yo.unstable_UserBlockingPriority,ig=yo.unstable_NormalPriority,V5=yo.unstable_LowPriority,oT=yo.unstable_IdlePriority,ey=null,va=null;function N5(e){if(va&&typeof va.onCommitFiberRoot=="function")try{va.onCommitFiberRoot(ey,e,void 0,(e.current.flags&128)===128)}catch{}}var ra=Math.clz32?Math.clz32:G5,j5=Math.log,U5=Math.LN2;function G5(e){return e>>>=0,e===0?32:31-(j5(e)/U5|0)|0}var qp=64,Zp=4194304;function Td(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function og(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,h=e.pingedLanes,f=n&268435455;if(f!==0){var u=f&~s;u!==0?i=Td(u):(h&=f,h!==0&&(i=Td(h)))}else f=n&~s,f!==0?i=Td(f):h!==0&&(i=Td(h));if(i===0)return 0;if(t!==0&&t!==i&&(t&s)===0&&(s=i&-i,h=t&-t,s>=h||s===16&&(h&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-ra(t),s=1<<n,i|=e[n],t&=~s;return i}function W5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q5(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,h=e.pendingLanes;0<h;){var f=31-ra(h),u=1<<f,w=s[f];w===-1?((u&n)===0||(u&i)!==0)&&(s[f]=W5(u,t)):w<=t&&(e.expiredLanes|=u),h&=~u}}function Lv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aT(){var e=qp;return qp<<=1,(qp&4194240)===0&&(qp=64),e}function p_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ra(t),e[t]=n}function Z5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ra(n),h=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~h}}function _x(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ra(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Sn=0;function sT(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var lT,vx,uT,cT,hT,Ov=!1,Hp=[],Gs=null,Ws=null,qs=null,ef=new Map,tf=new Map,Fs=[],H5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N2(e,t){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(t.pointerId)}}function dd(e,t,n,i,s,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:h,targetContainers:[s]},t!==null&&(t=Af(t),t!==null&&vx(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function X5(e,t,n,i,s){switch(t){case"focusin":return Gs=dd(Gs,e,t,n,i,s),!0;case"dragenter":return Ws=dd(Ws,e,t,n,i,s),!0;case"mouseover":return qs=dd(qs,e,t,n,i,s),!0;case"pointerover":var h=s.pointerId;return ef.set(h,dd(ef.get(h)||null,e,t,n,i,s)),!0;case"gotpointercapture":return h=s.pointerId,tf.set(h,dd(tf.get(h)||null,e,t,n,i,s)),!0}return!1}function dT(e){var t=Ul(e.target);if(t!==null){var n=uu(t);if(n!==null){if(t=n.tag,t===13){if(t=eT(n),t!==null){e.blockedOn=t,hT(e.priority,function(){uT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Mv=i,n.target.dispatchEvent(i),Mv=null}else return t=Af(n),t!==null&&vx(t),e.blockedOn=n,!1;t.shift()}return!0}function j2(e,t,n){Tm(e)&&n.delete(t)}function K5(){Ov=!1,Gs!==null&&Tm(Gs)&&(Gs=null),Ws!==null&&Tm(Ws)&&(Ws=null),qs!==null&&Tm(qs)&&(qs=null),ef.forEach(j2),tf.forEach(j2)}function fd(e,t){e.blockedOn===t&&(e.blockedOn=null,Ov||(Ov=!0,yo.unstable_scheduleCallback(yo.unstable_NormalPriority,K5)))}function nf(e){function t(s){return fd(s,e)}if(0<Hp.length){fd(Hp[0],e);for(var n=1;n<Hp.length;n++){var i=Hp[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Gs!==null&&fd(Gs,e),Ws!==null&&fd(Ws,e),qs!==null&&fd(qs,e),ef.forEach(t),tf.forEach(t),n=0;n<Fs.length;n++)i=Fs[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)dT(n),n.blockedOn===null&&Fs.shift()}var Ac=cs.ReactCurrentBatchConfig,ag=!0;function Y5(e,t,n,i){var s=Sn,h=Ac.transition;Ac.transition=null;try{Sn=1,xx(e,t,n,i)}finally{Sn=s,Ac.transition=h}}function J5(e,t,n,i){var s=Sn,h=Ac.transition;Ac.transition=null;try{Sn=4,xx(e,t,n,i)}finally{Sn=s,Ac.transition=h}}function xx(e,t,n,i){if(ag){var s=Fv(e,t,n,i);if(s===null)E_(e,t,i,sg,n),N2(e,i);else if(X5(s,e,t,n,i))i.stopPropagation();else if(N2(e,i),t&4&&-1<H5.indexOf(e)){for(;s!==null;){var h=Af(s);if(h!==null&&lT(h),h=Fv(e,t,n,i),h===null&&E_(e,t,i,sg,n),h===s)break;s=h}s!==null&&i.stopPropagation()}else E_(e,t,i,null,n)}}var sg=null;function Fv(e,t,n,i){if(sg=null,e=gx(i),e=Ul(e),e!==null)if(t=uu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sg=e,null}function fT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B5()){case yx:return 1;case iT:return 4;case ig:case V5:return 16;case oT:return 536870912;default:return 16}default:return 16}}var Vs=null,wx=null,Pm=null;function pT(){if(Pm)return Pm;var e,t=wx,n=t.length,i,s="value"in Vs?Vs.value:Vs.textContent,h=s.length;for(e=0;e<n&&t[e]===s[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===s[h-i];i++);return Pm=s.slice(e,1<i?1-i:void 0)}function Im(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xp(){return!0}function U2(){return!1}function wo(e){function t(n,i,s,h,f){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=h,this.target=f,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(h):h[u]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xp:U2,this.isPropagationStopped=U2,this}return ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xp)},persist:function(){},isPersistent:Xp}),t}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bx=wo(Yc),If=ir({},Yc,{view:0,detail:0}),Q5=wo(If),m_,g_,pd,ty=ir({},If,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pd&&(pd&&e.type==="mousemove"?(m_=e.screenX-pd.screenX,g_=e.screenY-pd.screenY):g_=m_=0,pd=e),m_)},movementY:function(e){return"movementY"in e?e.movementY:g_}}),G2=wo(ty),e4=ir({},ty,{dataTransfer:0}),t4=wo(e4),n4=ir({},If,{relatedTarget:0}),y_=wo(n4),r4=ir({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),i4=wo(r4),o4=ir({},Yc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a4=wo(o4),s4=ir({},Yc,{data:0}),W2=wo(s4),l4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c4[e])?!!t[e]:!1}function Sx(){return h4}var d4=ir({},If,{key:function(e){if(e.key){var t=l4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Im(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sx,charCode:function(e){return e.type==="keypress"?Im(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Im(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f4=wo(d4),p4=ir({},ty,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q2=wo(p4),m4=ir({},If,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sx}),g4=wo(m4),y4=ir({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),_4=wo(y4),v4=ir({},ty,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x4=wo(v4),w4=[9,13,27,32],Ex=ts&&"CompositionEvent"in window,$d=null;ts&&"documentMode"in document&&($d=document.documentMode);var b4=ts&&"TextEvent"in window&&!$d,mT=ts&&(!Ex||$d&&8<$d&&11>=$d),Z2=String.fromCharCode(32),H2=!1;function gT(e,t){switch(e){case"keyup":return w4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mc=!1;function S4(e,t){switch(e){case"compositionend":return yT(t);case"keypress":return t.which!==32?null:(H2=!0,Z2);case"textInput":return e=t.data,e===Z2&&H2?null:e;default:return null}}function E4(e,t){if(mc)return e==="compositionend"||!Ex&&gT(e,t)?(e=pT(),Pm=wx=Vs=null,mc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mT&&t.locale!=="ko"?null:t.data;default:return null}}var k4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k4[e.type]:t==="textarea"}function _T(e,t,n,i){XC(i),t=lg(t,"onChange"),0<t.length&&(n=new bx("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Bd=null,rf=null;function C4(e){IT(e,0)}function ny(e){var t=_c(e);if(jC(t))return e}function T4(e,t){if(e==="change")return t}var vT=!1;if(ts){var __;if(ts){var v_="oninput"in document;if(!v_){var K2=document.createElement("div");K2.setAttribute("oninput","return;"),v_=typeof K2.oninput=="function"}__=v_}else __=!1;vT=__&&(!document.documentMode||9<document.documentMode)}function Y2(){Bd&&(Bd.detachEvent("onpropertychange",xT),rf=Bd=null)}function xT(e){if(e.propertyName==="value"&&ny(rf)){var t=[];_T(t,rf,e,gx(e)),QC(C4,t)}}function P4(e,t,n){e==="focusin"?(Y2(),Bd=t,rf=n,Bd.attachEvent("onpropertychange",xT)):e==="focusout"&&Y2()}function I4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ny(rf)}function A4(e,t){if(e==="click")return ny(t)}function M4(e,t){if(e==="input"||e==="change")return ny(t)}function z4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ia=typeof Object.is=="function"?Object.is:z4;function of(e,t){if(ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!vv.call(t,s)||!ia(e[s],t[s]))return!1}return!0}function J2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Q2(e,t){var n=J2(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J2(n)}}function wT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bT(){for(var e=window,t=tg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tg(e.document)}return t}function kx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D4(e){var t=bT(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wT(n.ownerDocument.documentElement,n)){if(i!==null&&kx(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,h=Math.min(i.start,s);i=i.end===void 0?h:Math.min(i.end,s),!e.extend&&h>i&&(s=i,i=h,h=s),s=Q2(n,h);var f=Q2(n,i);s&&f&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),h>i?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var R4=ts&&"documentMode"in document&&11>=document.documentMode,gc=null,$v=null,Vd=null,Bv=!1;function eS(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bv||gc==null||gc!==tg(i)||(i=gc,"selectionStart"in i&&kx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vd&&of(Vd,i)||(Vd=i,i=lg($v,"onSelect"),0<i.length&&(t=new bx("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gc)))}function Kp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yc={animationend:Kp("Animation","AnimationEnd"),animationiteration:Kp("Animation","AnimationIteration"),animationstart:Kp("Animation","AnimationStart"),transitionend:Kp("Transition","TransitionEnd")},x_={},ST={};ts&&(ST=document.createElement("div").style,"AnimationEvent"in window||(delete yc.animationend.animation,delete yc.animationiteration.animation,delete yc.animationstart.animation),"TransitionEvent"in window||delete yc.transitionend.transition);function ry(e){if(x_[e])return x_[e];if(!yc[e])return e;var t=yc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ST)return x_[e]=t[n];return e}var ET=ry("animationend"),kT=ry("animationiteration"),CT=ry("animationstart"),TT=ry("transitionend"),PT=new Map,tS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){PT.set(e,t),lu(t,[e])}for(var w_=0;w_<tS.length;w_++){var b_=tS[w_],L4=b_.toLowerCase(),O4=b_[0].toUpperCase()+b_.slice(1);rl(L4,"on"+O4)}rl(ET,"onAnimationEnd");rl(kT,"onAnimationIteration");rl(CT,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(TT,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function nS(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,L5(i,t,void 0,e),e.currentTarget=null}function IT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var f=i.length-1;0<=f;f--){var u=i[f],w=u.instance,b=u.currentTarget;if(u=u.listener,w!==h&&s.isPropagationStopped())break e;nS(s,u,b),h=w}else for(f=0;f<i.length;f++){if(u=i[f],w=u.instance,b=u.currentTarget,u=u.listener,w!==h&&s.isPropagationStopped())break e;nS(s,u,b),h=w}}}if(rg)throw e=Rv,rg=!1,Rv=null,e}function Nn(e,t){var n=t[Gv];n===void 0&&(n=t[Gv]=new Set);var i=e+"__bubble";n.has(i)||(AT(t,e,2,!1),n.add(i))}function S_(e,t,n){var i=0;t&&(i|=4),AT(n,e,i,t)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function af(e){if(!e[Yp]){e[Yp]=!0,FC.forEach(function(n){n!=="selectionchange"&&(F4.has(n)||S_(n,!1,e),S_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yp]||(t[Yp]=!0,S_("selectionchange",!1,t))}}function AT(e,t,n,i){switch(fT(t)){case 1:var s=Y5;break;case 4:s=J5;break;default:s=xx}n=s.bind(null,t,n,e),s=void 0,!Dv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function E_(e,t,n,i,s){var h=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var u=i.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(f===4)for(f=i.return;f!==null;){var w=f.tag;if((w===3||w===4)&&(w=f.stateNode.containerInfo,w===s||w.nodeType===8&&w.parentNode===s))return;f=f.return}for(;u!==null;){if(f=Ul(u),f===null)return;if(w=f.tag,w===5||w===6){i=h=f;continue e}u=u.parentNode}}i=i.return}QC(function(){var b=h,C=gx(n),M=[];e:{var T=PT.get(e);if(T!==void 0){var N=bx,W=e;switch(e){case"keypress":if(Im(n)===0)break e;case"keydown":case"keyup":N=f4;break;case"focusin":W="focus",N=y_;break;case"focusout":W="blur",N=y_;break;case"beforeblur":case"afterblur":N=y_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=G2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=t4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=g4;break;case ET:case kT:case CT:N=i4;break;case TT:N=_4;break;case"scroll":N=Q5;break;case"wheel":N=x4;break;case"copy":case"cut":case"paste":N=a4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=q2}var H=(t&4)!==0,le=!H&&e==="scroll",V=H?T!==null?T+"Capture":null:T;H=[];for(var B=b,Y;B!==null;){Y=B;var se=Y.stateNode;if(Y.tag===5&&se!==null&&(Y=se,V!==null&&(se=Qd(B,V),se!=null&&H.push(sf(B,se,Y)))),le)break;B=B.return}0<H.length&&(T=new N(T,W,null,n,C),M.push({event:T,listeners:H}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",T&&n!==Mv&&(W=n.relatedTarget||n.fromElement)&&(Ul(W)||W[ns]))break e;if((N||T)&&(T=C.window===C?C:(T=C.ownerDocument)?T.defaultView||T.parentWindow:window,N?(W=n.relatedTarget||n.toElement,N=b,W=W?Ul(W):null,W!==null&&(le=uu(W),W!==le||W.tag!==5&&W.tag!==6)&&(W=null)):(N=null,W=b),N!==W)){if(H=G2,se="onMouseLeave",V="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(H=q2,se="onPointerLeave",V="onPointerEnter",B="pointer"),le=N==null?T:_c(N),Y=W==null?T:_c(W),T=new H(se,B+"leave",N,n,C),T.target=le,T.relatedTarget=Y,se=null,Ul(C)===b&&(H=new H(V,B+"enter",W,n,C),H.target=Y,H.relatedTarget=le,se=H),le=se,N&&W)t:{for(H=N,V=W,B=0,Y=H;Y;Y=Ku(Y))B++;for(Y=0,se=V;se;se=Ku(se))Y++;for(;0<B-Y;)H=Ku(H),B--;for(;0<Y-B;)V=Ku(V),Y--;for(;B--;){if(H===V||V!==null&&H===V.alternate)break t;H=Ku(H),V=Ku(V)}H=null}else H=null;N!==null&&rS(M,T,N,H,!1),W!==null&&le!==null&&rS(M,le,W,H,!0)}}e:{if(T=b?_c(b):window,N=T.nodeName&&T.nodeName.toLowerCase(),N==="select"||N==="input"&&T.type==="file")var oe=T4;else if(X2(T))if(vT)oe=M4;else{oe=I4;var de=P4}else(N=T.nodeName)&&N.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(oe=A4);if(oe&&(oe=oe(e,b))){_T(M,oe,n,C);break e}de&&de(e,T,b),e==="focusout"&&(de=T._wrapperState)&&de.controlled&&T.type==="number"&&Cv(T,"number",T.value)}switch(de=b?_c(b):window,e){case"focusin":(X2(de)||de.contentEditable==="true")&&(gc=de,$v=b,Vd=null);break;case"focusout":Vd=$v=gc=null;break;case"mousedown":Bv=!0;break;case"contextmenu":case"mouseup":case"dragend":Bv=!1,eS(M,n,C);break;case"selectionchange":if(R4)break;case"keydown":case"keyup":eS(M,n,C)}var me;if(Ex)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else mc?gT(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(mT&&n.locale!=="ko"&&(mc||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&mc&&(me=pT()):(Vs=C,wx="value"in Vs?Vs.value:Vs.textContent,mc=!0)),de=lg(b,xe),0<de.length&&(xe=new W2(xe,e,null,n,C),M.push({event:xe,listeners:de}),me?xe.data=me:(me=yT(n),me!==null&&(xe.data=me)))),(me=b4?S4(e,n):E4(e,n))&&(b=lg(b,"onBeforeInput"),0<b.length&&(C=new W2("onBeforeInput","beforeinput",null,n,C),M.push({event:C,listeners:b}),C.data=me))}IT(M,t)})}function sf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lg(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,h=s.stateNode;s.tag===5&&h!==null&&(s=h,h=Qd(e,n),h!=null&&i.unshift(sf(e,h,s)),h=Qd(e,t),h!=null&&i.push(sf(e,h,s))),e=e.return}return i}function Ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rS(e,t,n,i,s){for(var h=t._reactName,f=[];n!==null&&n!==i;){var u=n,w=u.alternate,b=u.stateNode;if(w!==null&&w===i)break;u.tag===5&&b!==null&&(u=b,s?(w=Qd(n,h),w!=null&&f.unshift(sf(n,w,u))):s||(w=Qd(n,h),w!=null&&f.push(sf(n,w,u)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var $4=/\r\n?/g,B4=/\u0000|\uFFFD/g;function iS(e){return(typeof e=="string"?e:""+e).replace($4,`
`).replace(B4,"")}function Jp(e,t,n){if(t=iS(t),iS(e)!==t&&n)throw Error(Ve(425))}function ug(){}var Vv=null,Nv=null;function jv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uv=typeof setTimeout=="function"?setTimeout:void 0,V4=typeof clearTimeout=="function"?clearTimeout:void 0,oS=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof oS!="undefined"?function(e){return oS.resolve(null).then(e).catch(j4)}:Uv;function j4(e){setTimeout(function(){throw e})}function k_(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),nf(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);nf(t)}function Ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function aS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jc=Math.random().toString(36).slice(2),ga="__reactFiber$"+Jc,lf="__reactProps$"+Jc,ns="__reactContainer$"+Jc,Gv="__reactEvents$"+Jc,U4="__reactListeners$"+Jc,G4="__reactHandles$"+Jc;function Ul(e){var t=e[ga];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ns]||n[ga]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=aS(e);e!==null;){if(n=e[ga])return n;e=aS(e)}return t}e=n,n=e.parentNode}return null}function Af(e){return e=e[ga]||e[ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _c(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function iy(e){return e[lf]||null}var Wv=[],vc=-1;function il(e){return{current:e}}function Un(e){0>vc||(e.current=Wv[vc],Wv[vc]=null,vc--)}function $n(e,t){vc++,Wv[vc]=e.current,e.current=t}var Qs={},di=il(Qs),Wi=il(!1),tu=Qs;function Fc(e,t){var n=e.type.contextTypes;if(!n)return Qs;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},h;for(h in n)s[h]=t[h];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qi(e){return e=e.childContextTypes,e!=null}function cg(){Un(Wi),Un(di)}function sS(e,t,n){if(di.current!==Qs)throw Error(Ve(168));$n(di,t),$n(Wi,n)}function MT(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(Ve(108,P5(e)||"Unknown",s));return ir({},n,i)}function hg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qs,tu=di.current,$n(di,e),$n(Wi,Wi.current),!0}function lS(e,t,n){var i=e.stateNode;if(!i)throw Error(Ve(169));n?(e=MT(e,t,tu),i.__reactInternalMemoizedMergedChildContext=e,Un(Wi),Un(di),$n(di,e)):Un(Wi),$n(Wi,n)}var Xa=null,oy=!1,C_=!1;function zT(e){Xa===null?Xa=[e]:Xa.push(e)}function W4(e){oy=!0,zT(e)}function ol(){if(!C_&&Xa!==null){C_=!0;var e=0,t=Sn;try{var n=Xa;for(Sn=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Xa=null,oy=!1}catch(s){throw Xa!==null&&(Xa=Xa.slice(e+1)),rT(yx,ol),s}finally{Sn=t,C_=!1}}return null}var q4=cs.ReactCurrentBatchConfig;function Yo(e,t){if(e&&e.defaultProps){t=ir({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var dg=il(null),fg=null,xc=null,Cx=null;function Tx(){Cx=xc=fg=null}function Px(e){var t=dg.current;Un(dg),e._currentValue=t}function qv(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mc(e,t){fg=e,Cx=xc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Gi=!0),e.firstContext=null)}function Vo(e){var t=e._currentValue;if(Cx!==e)if(e={context:e,memoizedValue:t,next:null},xc===null){if(fg===null)throw Error(Ve(308));xc=e,fg.dependencies={lanes:0,firstContext:e}}else xc=xc.next=e;return t}var ta=null,Os=!1;function Ix(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(e,t){var n=e.updateQueue;n!==null&&(n=n.shared,bP(e)?(e=n.interleaved,e===null?(t.next=t,ta===null?ta=[n]:ta.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(e=n.pending,e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Am(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,_x(e,n)}}function uS(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?s=h=f:h=h.next=f,n=n.next}while(n!==null);h===null?s=h=t:h=h.next=t}else s=h=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:h,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pg(e,t,n,i){var s=e.updateQueue;Os=!1;var h=s.firstBaseUpdate,f=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var w=u,b=w.next;w.next=null,f===null?h=b:f.next=b,f=w;var C=e.alternate;C!==null&&(C=C.updateQueue,u=C.lastBaseUpdate,u!==f&&(u===null?C.firstBaseUpdate=b:u.next=b,C.lastBaseUpdate=w))}if(h!==null){var M=s.baseState;f=0,C=b=w=null,u=h;do{var T=u.lane,N=u.eventTime;if((i&T)===T){C!==null&&(C=C.next={eventTime:N,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var W=e,H=u;switch(T=t,N=n,H.tag){case 1:if(W=H.payload,typeof W=="function"){M=W.call(N,M,T);break e}M=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=H.payload,T=typeof W=="function"?W.call(N,M,T):W,T==null)break e;M=ir({},M,T);break e;case 2:Os=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,T=s.effects,T===null?s.effects=[u]:T.push(u))}else N={eventTime:N,lane:T,tag:u.tag,payload:u.payload,callback:u.callback,next:null},C===null?(b=C=N,w=M):C=C.next=N,f|=T;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;T=u,u=T.next,T.next=null,s.lastBaseUpdate=T,s.shared.pending=null}}while(1);if(C===null&&(w=M),s.baseState=w,s.firstBaseUpdate=b,s.lastBaseUpdate=C,t=s.shared.interleaved,t!==null){s=t;do f|=s.lane,s=s.next;while(s!==t)}else h===null&&(s.shared.lanes=0);iu|=f,e.lanes=f,e.memoizedState=M}}function cS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(Ve(191,s));s.call(i)}}}var RT=new OC.Component().refs;function Zv(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ir({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ay={isMounted:function(e){return(e=e._reactInternals)?uu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ii(),s=Xs(e),h=Qa(i,s);h.payload=t,n!=null&&(h.callback=n),Zs(e,h),t=$o(e,s,i),t!==null&&Am(t,e,s)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ii(),s=Xs(e),h=Qa(i,s);h.tag=1,h.payload=t,n!=null&&(h.callback=n),Zs(e,h),t=$o(e,s,i),t!==null&&Am(t,e,s)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ii(),i=Xs(e),s=Qa(n,i);s.tag=2,t!=null&&(s.callback=t),Zs(e,s),t=$o(e,i,n),t!==null&&Am(t,e,i)}};function hS(e,t,n,i,s,h,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,f):t.prototype&&t.prototype.isPureReactComponent?!of(n,i)||!of(s,h):!0}function LT(e,t,n){var i=!1,s=Qs,h=t.contextType;return typeof h=="object"&&h!==null?h=Vo(h):(s=qi(t)?tu:di.current,i=t.contextTypes,h=(i=i!=null)?Fc(e,s):Qs),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ay,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=h),t}function dS(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ay.enqueueReplaceState(t,t.state,null)}function Hv(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=RT,Ix(e);var h=t.contextType;typeof h=="object"&&h!==null?s.context=Vo(h):(h=qi(t)?tu:di.current,s.context=Fc(e,h)),s.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Zv(e,t,h,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ay.enqueueReplaceState(s,s.state,null),pg(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}var wc=[],bc=0,mg=null,gg=0,Ro=[],Lo=0,nu=null,Ya=1,Ja="";function Ll(e,t){wc[bc++]=gg,wc[bc++]=mg,mg=e,gg=t}function OT(e,t,n){Ro[Lo++]=Ya,Ro[Lo++]=Ja,Ro[Lo++]=nu,nu=e;var i=Ya;e=Ja;var s=32-ra(i)-1;i&=~(1<<s),n+=1;var h=32-ra(t)+s;if(30<h){var f=s-s%5;h=(i&(1<<f)-1).toString(32),i>>=f,s-=f,Ya=1<<32-ra(t)+s|n<<s|i,Ja=h+e}else Ya=1<<h|n<<s|i,Ja=e}function Ax(e){e.return!==null&&(Ll(e,1),OT(e,1,0))}function Mx(e){for(;e===mg;)mg=wc[--bc],wc[bc]=null,gg=wc[--bc],wc[bc]=null;for(;e===nu;)nu=Ro[--Lo],Ro[Lo]=null,Ja=Ro[--Lo],Ro[Lo]=null,Ya=Ro[--Lo],Ro[Lo]=null}var po=null,Ui=null,Yn=!1,ea=null;function FT(e,t){var n=Oo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,po=e,Ui=Ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,po=e,Ui=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nu!==null?{id:Ya,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Oo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,po=e,Ui=null,!0):!1;default:return!1}}function Xv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kv(e){if(Yn){var t=Ui;if(t){var n=t;if(!fS(e,t)){if(Xv(e))throw Error(Ve(418));t=Ka(n.nextSibling);var i=po;t&&fS(e,t)?FT(i,n):(e.flags=e.flags&-4097|2,Yn=!1,po=e)}}else{if(Xv(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Yn=!1,po=e}}}function pS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;po=e}function md(e){if(e!==po)return!1;if(!Yn)return pS(e),Yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jv(e.type,e.memoizedProps)),t&&(t=Ui)){if(Xv(e)){for(e=Ui;e;)e=Ka(e.nextSibling);throw Error(Ve(418))}for(;t;)FT(e,t),t=Ka(t.nextSibling)}if(pS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ui=Ka(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ui=null}}else Ui=po?Ka(e.stateNode.nextSibling):null;return!0}function $c(){Ui=po=null,Yn=!1}function zx(e){ea===null?ea=[e]:ea.push(e)}function gd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var i=n.stateNode}if(!i)throw Error(Ve(147,e));var s=i,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(f){var u=s.refs;u===RT&&(u=s.refs={}),f===null?delete u[h]:u[h]=f},t._stringRef=h,t)}if(typeof e!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,e))}return e}function Qp(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mS(e){var t=e._init;return t(e._payload)}function $T(e){function t(V,B){if(e){var Y=V.deletions;Y===null?(V.deletions=[B],V.flags|=16):Y.push(B)}}function n(V,B){if(!e)return null;for(;B!==null;)t(V,B),B=B.sibling;return null}function i(V,B){for(V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function s(V,B){return V=el(V,B),V.index=0,V.sibling=null,V}function h(V,B,Y){return V.index=Y,e?(Y=V.alternate,Y!==null?(Y=Y.index,Y<B?(V.flags|=2,B):Y):(V.flags|=2,B)):(V.flags|=1048576,B)}function f(V){return e&&V.alternate===null&&(V.flags|=2),V}function u(V,B,Y,se){return B===null||B.tag!==6?(B=z_(Y,V.mode,se),B.return=V,B):(B=s(B,Y),B.return=V,B)}function w(V,B,Y,se){var oe=Y.type;return oe===pc?C(V,B,Y.props.children,se,Y.key):B!==null&&(B.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ls&&mS(oe)===B.type)?(se=s(B,Y.props),se.ref=gd(V,B,Y),se.return=V,se):(se=Lm(Y.type,Y.key,Y.props,null,V.mode,se),se.ref=gd(V,B,Y),se.return=V,se)}function b(V,B,Y,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=D_(Y,V.mode,se),B.return=V,B):(B=s(B,Y.children||[]),B.return=V,B)}function C(V,B,Y,se,oe){return B===null||B.tag!==7?(B=Xl(Y,V.mode,se,oe),B.return=V,B):(B=s(B,Y),B.return=V,B)}function M(V,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number")return B=z_(""+B,V.mode,Y),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Up:return Y=Lm(B.type,B.key,B.props,null,V.mode,Y),Y.ref=gd(V,null,B),Y.return=V,Y;case fc:return B=D_(B,V.mode,Y),B.return=V,B;case Ls:var se=B._init;return M(V,se(B._payload),Y)}if(Cd(B)||cd(B))return B=Xl(B,V.mode,Y,null),B.return=V,B;Qp(V,B)}return null}function T(V,B,Y,se){var oe=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return oe!==null?null:u(V,B,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Up:return Y.key===oe?w(V,B,Y,se):null;case fc:return Y.key===oe?b(V,B,Y,se):null;case Ls:return oe=Y._init,T(V,B,oe(Y._payload),se)}if(Cd(Y)||cd(Y))return oe!==null?null:C(V,B,Y,se,null);Qp(V,Y)}return null}function N(V,B,Y,se,oe){if(typeof se=="string"&&se!==""||typeof se=="number")return V=V.get(Y)||null,u(B,V,""+se,oe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Up:return V=V.get(se.key===null?Y:se.key)||null,w(B,V,se,oe);case fc:return V=V.get(se.key===null?Y:se.key)||null,b(B,V,se,oe);case Ls:var de=se._init;return N(V,B,Y,de(se._payload),oe)}if(Cd(se)||cd(se))return V=V.get(Y)||null,C(B,V,se,oe,null);Qp(B,se)}return null}function W(V,B,Y,se){for(var oe=null,de=null,me=B,xe=B=0,Be=null;me!==null&&xe<Y.length;xe++){me.index>xe?(Be=me,me=null):Be=me.sibling;var Ie=T(V,me,Y[xe],se);if(Ie===null){me===null&&(me=Be);break}e&&me&&Ie.alternate===null&&t(V,me),B=h(Ie,B,xe),de===null?oe=Ie:de.sibling=Ie,de=Ie,me=Be}if(xe===Y.length)return n(V,me),Yn&&Ll(V,xe),oe;if(me===null){for(;xe<Y.length;xe++)me=M(V,Y[xe],se),me!==null&&(B=h(me,B,xe),de===null?oe=me:de.sibling=me,de=me);return Yn&&Ll(V,xe),oe}for(me=i(V,me);xe<Y.length;xe++)Be=N(me,V,xe,Y[xe],se),Be!==null&&(e&&Be.alternate!==null&&me.delete(Be.key===null?xe:Be.key),B=h(Be,B,xe),de===null?oe=Be:de.sibling=Be,de=Be);return e&&me.forEach(function(Qe){return t(V,Qe)}),Yn&&Ll(V,xe),oe}function H(V,B,Y,se){var oe=cd(Y);if(typeof oe!="function")throw Error(Ve(150));if(Y=oe.call(Y),Y==null)throw Error(Ve(151));for(var de=oe=null,me=B,xe=B=0,Be=null,Ie=Y.next();me!==null&&!Ie.done;xe++,Ie=Y.next()){me.index>xe?(Be=me,me=null):Be=me.sibling;var Qe=T(V,me,Ie.value,se);if(Qe===null){me===null&&(me=Be);break}e&&me&&Qe.alternate===null&&t(V,me),B=h(Qe,B,xe),de===null?oe=Qe:de.sibling=Qe,de=Qe,me=Be}if(Ie.done)return n(V,me),Yn&&Ll(V,xe),oe;if(me===null){for(;!Ie.done;xe++,Ie=Y.next())Ie=M(V,Ie.value,se),Ie!==null&&(B=h(Ie,B,xe),de===null?oe=Ie:de.sibling=Ie,de=Ie);return Yn&&Ll(V,xe),oe}for(me=i(V,me);!Ie.done;xe++,Ie=Y.next())Ie=N(me,V,xe,Ie.value,se),Ie!==null&&(e&&Ie.alternate!==null&&me.delete(Ie.key===null?xe:Ie.key),B=h(Ie,B,xe),de===null?oe=Ie:de.sibling=Ie,de=Ie);return e&&me.forEach(function(Tt){return t(V,Tt)}),Yn&&Ll(V,xe),oe}function le(V,B,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===pc&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Up:e:{for(var oe=Y.key,de=B;de!==null;){if(de.key===oe){if(oe=Y.type,oe===pc){if(de.tag===7){n(V,de.sibling),B=s(de,Y.props.children),B.return=V,V=B;break e}}else if(de.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ls&&mS(oe)===de.type){n(V,de.sibling),B=s(de,Y.props),B.ref=gd(V,de,Y),B.return=V,V=B;break e}n(V,de);break}else t(V,de);de=de.sibling}Y.type===pc?(B=Xl(Y.props.children,V.mode,se,Y.key),B.return=V,V=B):(se=Lm(Y.type,Y.key,Y.props,null,V.mode,se),se.ref=gd(V,B,Y),se.return=V,V=se)}return f(V);case fc:e:{for(de=Y.key;B!==null;){if(B.key===de)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){n(V,B.sibling),B=s(B,Y.children||[]),B.return=V,V=B;break e}else{n(V,B);break}else t(V,B);B=B.sibling}B=D_(Y,V.mode,se),B.return=V,V=B}return f(V);case Ls:return de=Y._init,le(V,B,de(Y._payload),se)}if(Cd(Y))return W(V,B,Y,se);if(cd(Y))return H(V,B,Y,se);Qp(V,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,B!==null&&B.tag===6?(n(V,B.sibling),B=s(B,Y),B.return=V,V=B):(n(V,B),B=z_(Y,V.mode,se),B.return=V,V=B),f(V)):n(V,B)}return le}var Bc=$T(!0),BT=$T(!1),Mf={},xa=il(Mf),uf=il(Mf),cf=il(Mf);function Gl(e){if(e===Mf)throw Error(Ve(174));return e}function Dx(e,t){switch($n(cf,t),$n(uf,e),$n(xa,Mf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pv(t,e)}Un(xa),$n(xa,t)}function Vc(){Un(xa),Un(uf),Un(cf)}function VT(e){Gl(cf.current);var t=Gl(xa.current),n=Pv(t,e.type);t!==n&&($n(uf,e),$n(xa,n))}function Rx(e){uf.current===e&&(Un(xa),Un(uf))}var nr=il(0);function yg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var T_=[];function Lx(){for(var e=0;e<T_.length;e++)T_[e]._workInProgressVersionPrimary=null;T_.length=0}var Mm=cs.ReactCurrentDispatcher,P_=cs.ReactCurrentBatchConfig,ru=0,rr=null,Ar=null,Vr=null,_g=!1,Nd=!1,hf=0,Z4=0;function si(){throw Error(Ve(321))}function Ox(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function Fx(e,t,n,i,s,h){if(ru=h,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mm.current=e===null||e.memoizedState===null?Y4:J4,e=n(i,s),Nd){h=0;do{if(Nd=!1,hf=0,25<=h)throw Error(Ve(301));h+=1,Vr=Ar=null,t.updateQueue=null,Mm.current=Q4,e=n(i,s)}while(Nd)}if(Mm.current=vg,t=Ar!==null&&Ar.next!==null,ru=0,Vr=Ar=rr=null,_g=!1,t)throw Error(Ve(300));return e}function $x(){var e=hf!==0;return hf=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?rr.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function No(){if(Ar===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Ar.next;var t=Vr===null?rr.memoizedState:Vr.next;if(t!==null)Vr=t,Ar=e;else{if(e===null)throw Error(Ve(310));Ar=e,e={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Vr===null?rr.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function df(e,t){return typeof t=="function"?t(e):t}function I_(e){var t=No(),n=t.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=e;var i=Ar,s=i.baseQueue,h=n.pending;if(h!==null){if(s!==null){var f=s.next;s.next=h.next,h.next=f}i.baseQueue=s=h,n.pending=null}if(s!==null){h=s.next,i=i.baseState;var u=f=null,w=null,b=h;do{var C=b.lane;if((ru&C)===C)w!==null&&(w=w.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),i=b.hasEagerState?b.eagerState:e(i,b.action);else{var M={lane:C,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};w===null?(u=w=M,f=i):w=w.next=M,rr.lanes|=C,iu|=C}b=b.next}while(b!==null&&b!==h);w===null?f=i:w.next=u,ia(i,t.memoizedState)||(Gi=!0),t.memoizedState=i,t.baseState=f,t.baseQueue=w,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do h=s.lane,rr.lanes|=h,iu|=h,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function A_(e){var t=No(),n=t.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,h=t.memoizedState;if(s!==null){n.pending=null;var f=s=s.next;do h=e(h,f.action),f=f.next;while(f!==s);ia(h,t.memoizedState)||(Gi=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,i]}function NT(){}function jT(e,t){var n=rr,i=No(),s=t(),h=!ia(i.memoizedState,s);if(h&&(i.memoizedState=s,Gi=!0),i=i.queue,Bx(WT.bind(null,n,i,e),[e]),i.getSnapshot!==t||h||Vr!==null&&Vr.memoizedState.tag&1){if(n.flags|=2048,ff(9,GT.bind(null,n,i,s,t),void 0,null),Dr===null)throw Error(Ve(349));(ru&30)!==0||UT(n,t,s)}return s}function UT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function GT(e,t,n,i){t.value=n,t.getSnapshot=i,qT(t)&&$o(e,1,-1)}function WT(e,t,n){return n(function(){qT(t)&&$o(e,1,-1)})}function qT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch{return!0}}function gS(e){var t=fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:e},t.queue=e,e=e.dispatch=K4.bind(null,rr,e),[t.memoizedState,e]}function ff(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function ZT(){return No().memoizedState}function zm(e,t,n,i){var s=fa();rr.flags|=e,s.memoizedState=ff(1|t,n,void 0,i===void 0?null:i)}function sy(e,t,n,i){var s=No();i=i===void 0?null:i;var h=void 0;if(Ar!==null){var f=Ar.memoizedState;if(h=f.destroy,i!==null&&Ox(i,f.deps)){s.memoizedState=ff(t,n,h,i);return}}rr.flags|=e,s.memoizedState=ff(1|t,n,h,i)}function yS(e,t){return zm(8390656,8,e,t)}function Bx(e,t){return sy(2048,8,e,t)}function HT(e,t){return sy(4,2,e,t)}function XT(e,t){return sy(4,4,e,t)}function KT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YT(e,t,n){return n=n!=null?n.concat([e]):null,sy(4,4,KT.bind(null,t,e),n)}function Vx(){}function JT(e,t){var n=No();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Ox(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function QT(e,t){var n=No();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Ox(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function eP(e,t,n){return(ru&21)===0?(e.baseState&&(e.baseState=!1,Gi=!0),e.memoizedState=n):(ia(n,t)||(n=aT(),rr.lanes|=n,iu|=n,e.baseState=!0),t)}function H4(e,t){var n=Sn;Sn=n!==0&&4>n?n:4,e(!0);var i=P_.transition;P_.transition={};try{e(!1),t()}finally{Sn=n,P_.transition=i}}function tP(){return No().memoizedState}function X4(e,t,n){var i=Xs(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},nP(e)?rP(t,n):(iP(e,t,n),n=Ii(),e=$o(e,i,n),e!==null&&oP(e,t,i))}function K4(e,t,n){var i=Xs(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(nP(e))rP(t,s);else{iP(e,t,s);var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var f=t.lastRenderedState,u=h(f,n);if(s.hasEagerState=!0,s.eagerState=u,ia(u,f))return}catch{}finally{}n=Ii(),e=$o(e,i,n),e!==null&&oP(e,t,i)}}function nP(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function rP(e,t){Nd=_g=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iP(e,t,n){bP(e)?(e=t.interleaved,e===null?(n.next=n,ta===null?ta=[t]:ta.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(e=t.pending,e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function oP(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,_x(e,n)}}var vg={readContext:Vo,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},Y4={readContext:Vo,useCallback:function(e,t){return fa().memoizedState=[e,t===void 0?null:t],e},useContext:Vo,useEffect:yS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zm(4194308,4,KT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zm(4194308,4,e,t)},useInsertionEffect:function(e,t){return zm(4,2,e,t)},useMemo:function(e,t){var n=fa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=fa();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=X4.bind(null,rr,e),[i.memoizedState,e]},useRef:function(e){var t=fa();return e={current:e},t.memoizedState=e},useState:gS,useDebugValue:Vx,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=gS(!1),t=e[0];return e=H4.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=rr,s=fa();if(Yn){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=t(),Dr===null)throw Error(Ve(349));(ru&30)!==0||UT(i,t,n)}s.memoizedState=n;var h={value:n,getSnapshot:t};return s.queue=h,yS(WT.bind(null,i,h,e),[e]),i.flags|=2048,ff(9,GT.bind(null,i,h,n,t),void 0,null),n},useId:function(){var e=fa(),t=Dr.identifierPrefix;if(Yn){var n=Ja,i=Ya;n=(i&~(1<<32-ra(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=hf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Z4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J4={readContext:Vo,useCallback:JT,useContext:Vo,useEffect:Bx,useImperativeHandle:YT,useInsertionEffect:HT,useLayoutEffect:XT,useMemo:QT,useReducer:I_,useRef:ZT,useState:function(){return I_(df)},useDebugValue:Vx,useDeferredValue:function(e){var t=No();return eP(t,Ar.memoizedState,e)},useTransition:function(){var e=I_(df)[0],t=No().memoizedState;return[e,t]},useMutableSource:NT,useSyncExternalStore:jT,useId:tP,unstable_isNewReconciler:!1},Q4={readContext:Vo,useCallback:JT,useContext:Vo,useEffect:Bx,useImperativeHandle:YT,useInsertionEffect:HT,useLayoutEffect:XT,useMemo:QT,useReducer:A_,useRef:ZT,useState:function(){return A_(df)},useDebugValue:Vx,useDeferredValue:function(e){var t=No();return Ar===null?t.memoizedState=e:eP(t,Ar.memoizedState,e)},useTransition:function(){var e=A_(df)[0],t=No().memoizedState;return[e,t]},useMutableSource:NT,useSyncExternalStore:jT,useId:tP,unstable_isNewReconciler:!1};function Nx(e,t){try{var n="",i=t;do n+=T5(i),i=i.return;while(i);var s=n}catch(h){s=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:s}}function Yv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eD=typeof WeakMap=="function"?WeakMap:Map;function aP(e,t,n){n=Qa(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){wg||(wg=!0,a1=i),Yv(e,t)},n}function sP(e,t,n){n=Qa(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Yv(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){Yv(e,t),typeof i!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function _S(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new eD;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=fD.bind(null,e,t,n),t.then(e,e))}function vS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xS(e,t,n,i,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qa(-1,1),t.tag=2,Zs(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var lP,Jv,uP,cP;lP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jv=function(){};uP=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Gl(xa.current);var h=null;switch(n){case"input":s=Ev(e,s),i=Ev(e,i),h=[];break;case"select":s=ir({},s,{value:void 0}),i=ir({},i,{value:void 0}),h=[];break;case"textarea":s=Tv(e,s),i=Tv(e,i),h=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ug)}Iv(n,i);var f;n=null;for(b in s)if(!i.hasOwnProperty(b)&&s.hasOwnProperty(b)&&s[b]!=null)if(b==="style"){var u=s[b];for(f in u)u.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(Yd.hasOwnProperty(b)?h||(h=[]):(h=h||[]).push(b,null));for(b in i){var w=i[b];if(u=s!=null?s[b]:void 0,i.hasOwnProperty(b)&&w!==u&&(w!=null||u!=null))if(b==="style")if(u){for(f in u)!u.hasOwnProperty(f)||w&&w.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in w)w.hasOwnProperty(f)&&u[f]!==w[f]&&(n||(n={}),n[f]=w[f])}else n||(h||(h=[]),h.push(b,n)),n=w;else b==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,u=u?u.__html:void 0,w!=null&&u!==w&&(h=h||[]).push(b,w)):b==="children"?typeof w!="string"&&typeof w!="number"||(h=h||[]).push(b,""+w):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(Yd.hasOwnProperty(b)?(w!=null&&b==="onScroll"&&Nn("scroll",e),h||u===w||(h=[])):(h=h||[]).push(b,w))}n&&(h=h||[]).push("style",n);var b=h;(t.updateQueue=b)&&(t.flags|=4)}};cP=function(e,t,n,i){n!==i&&(t.flags|=4)};function yd(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function li(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function tD(e,t,n){var i=t.pendingProps;switch(Mx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(t),null;case 1:return qi(t.type)&&cg(),li(t),null;case 3:return i=t.stateNode,Vc(),Un(Wi),Un(di),Lx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ea!==null&&(u1(ea),ea=null))),Jv(e,t),li(t),null;case 5:Rx(t);var s=Gl(cf.current);if(n=t.type,e!==null&&t.stateNode!=null)uP(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Ve(166));return li(t),null}if(e=Gl(xa.current),md(t)){i=t.stateNode,n=t.type;var h=t.memoizedProps;switch(i[ga]=t,i[lf]=h,e=(t.mode&1)!==0,n){case"dialog":Nn("cancel",i),Nn("close",i);break;case"iframe":case"object":case"embed":Nn("load",i);break;case"video":case"audio":for(s=0;s<Pd.length;s++)Nn(Pd[s],i);break;case"source":Nn("error",i);break;case"img":case"image":case"link":Nn("error",i),Nn("load",i);break;case"details":Nn("toggle",i);break;case"input":R2(i,h),Nn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},Nn("invalid",i);break;case"textarea":O2(i,h),Nn("invalid",i)}Iv(n,h),s=null;for(var f in h)if(h.hasOwnProperty(f)){var u=h[f];f==="children"?typeof u=="string"?i.textContent!==u&&(h.suppressHydrationWarning!==!0&&Jp(i.textContent,u,e),s=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(h.suppressHydrationWarning!==!0&&Jp(i.textContent,u,e),s=["children",""+u]):Yd.hasOwnProperty(f)&&u!=null&&f==="onScroll"&&Nn("scroll",i)}switch(n){case"input":Gp(i),L2(i,h,!0);break;case"textarea":Gp(i),F2(i);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(i.onclick=ug)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{f=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=f.createElement(n,{is:i.is}):(e=f.createElement(n),n==="select"&&(f=e,i.multiple?f.multiple=!0:i.size&&(f.size=i.size))):e=f.createElementNS(e,n),e[ga]=t,e[lf]=i,lP(e,t,!1,!1),t.stateNode=e;e:{switch(f=Av(n,i),n){case"dialog":Nn("cancel",e),Nn("close",e),s=i;break;case"iframe":case"object":case"embed":Nn("load",e),s=i;break;case"video":case"audio":for(s=0;s<Pd.length;s++)Nn(Pd[s],e);s=i;break;case"source":Nn("error",e),s=i;break;case"img":case"image":case"link":Nn("error",e),Nn("load",e),s=i;break;case"details":Nn("toggle",e),s=i;break;case"input":R2(e,i),s=Ev(e,i),Nn("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=ir({},i,{value:void 0}),Nn("invalid",e);break;case"textarea":O2(e,i),s=Tv(e,i),Nn("invalid",e);break;default:s=i}Iv(n,s),u=s;for(h in u)if(u.hasOwnProperty(h)){var w=u[h];h==="style"?HC(e,w):h==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&qC(e,w)):h==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&Jd(e,w):typeof w=="number"&&Jd(e,""+w):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Yd.hasOwnProperty(h)?w!=null&&h==="onScroll"&&Nn("scroll",e):w!=null&&dx(e,h,w,f))}switch(n){case"input":Gp(e),L2(e,i,!1);break;case"textarea":Gp(e),F2(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Js(i.value));break;case"select":e.multiple=!!i.multiple,h=i.value,h!=null?Tc(e,!!i.multiple,h,!1):i.defaultValue!=null&&Tc(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ug)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return li(t),null;case 6:if(e&&t.stateNode!=null)cP(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Ve(166));if(n=Gl(cf.current),Gl(xa.current),md(t)){if(i=t.stateNode,n=t.memoizedProps,i[ga]=t,(h=i.nodeValue!==n)&&(e=po,e!==null))switch(e.tag){case 3:Jp(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jp(i.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ga]=t,t.stateNode=i}return li(t),null;case 13:if(Un(nr),i=t.memoizedState,Yn&&Ui!==null&&(t.mode&1)!==0&&(t.flags&128)===0){for(i=Ui;i;)i=Ka(i.nextSibling);return $c(),t.flags|=98560,t}if(i!==null&&i.dehydrated!==null){if(i=md(t),e===null){if(!i)throw Error(Ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ve(317));i[ga]=t}else $c(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;return li(t),null}return ea!==null&&(u1(ea),ea=null),(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,n=!1,e===null?md(t):n=e.memoizedState!==null,i!==n&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(nr.current&1)!==0?Mr===0&&(Mr=3):Zx())),t.updateQueue!==null&&(t.flags|=4),li(t),null);case 4:return Vc(),Jv(e,t),e===null&&af(t.stateNode.containerInfo),li(t),null;case 10:return Px(t.type._context),li(t),null;case 17:return qi(t.type)&&cg(),li(t),null;case 19:if(Un(nr),h=t.memoizedState,h===null)return li(t),null;if(i=(t.flags&128)!==0,f=h.rendering,f===null)if(i)yd(h,!1);else{if(Mr!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=yg(e),f!==null){for(t.flags|=128,yd(h,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)h=n,e=i,h.flags&=14680066,f=h.alternate,f===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=f.childLanes,h.lanes=f.lanes,h.child=f.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=f.memoizedProps,h.memoizedState=f.memoizedState,h.updateQueue=f.updateQueue,h.type=f.type,e=f.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $n(nr,nr.current&1|2),t.child}e=e.sibling}h.tail!==null&&vr()>Nc&&(t.flags|=128,i=!0,yd(h,!1),t.lanes=4194304)}else{if(!i)if(e=yg(f),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Yn)return li(t),null}else 2*vr()-h.renderingStartTime>Nc&&n!==1073741824&&(t.flags|=128,i=!0,yd(h,!1),t.lanes=4194304);h.isBackwards?(f.sibling=t.child,t.child=f):(n=h.last,n!==null?n.sibling=f:t.child=f,h.last=f)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=vr(),t.sibling=null,n=nr.current,$n(nr,i?n&1|2:n&1),t):(li(t),null);case 22:case 23:return qx(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(io&1073741824)!==0&&(li(t),t.subtreeFlags&6&&(t.flags|=8192)):li(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}var nD=cs.ReactCurrentOwner,Gi=!1;function Ci(e,t,n,i){t.child=e===null?BT(t,null,n,i):Bc(t,e.child,n,i)}function wS(e,t,n,i,s){n=n.render;var h=t.ref;return Mc(t,s),i=Fx(e,t,n,i,h,s),n=$x(),e!==null&&!Gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rs(e,t,s)):(Yn&&n&&Ax(t),t.flags|=1,Ci(e,t,i,s),t.child)}function bS(e,t,n,i,s){if(e===null){var h=n.type;return typeof h=="function"&&!Hx(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,hP(e,t,h,i,s)):(e=Lm(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&s)===0){var f=h.memoizedProps;if(n=n.compare,n=n!==null?n:of,n(f,i)&&e.ref===t.ref)return rs(e,t,s)}return t.flags|=1,e=el(h,i),e.ref=t.ref,e.return=t,t.child=e}function hP(e,t,n,i,s){if(e!==null){var h=e.memoizedProps;if(of(h,i)&&e.ref===t.ref)if(Gi=!1,t.pendingProps=i=h,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Gi=!0);else return t.lanes=e.lanes,rs(e,t,s)}return Qv(e,t,n,i,s)}function dP(e,t,n){var i=t.pendingProps,s=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(Ec,io),io|=n;else if((n&1073741824)!==0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=h!==null?h.baseLanes:n,$n(Ec,io),io|=i;else return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$n(Ec,io),io|=e,null;else h!==null?(i=h.baseLanes|n,t.memoizedState=null):i=n,$n(Ec,io),io|=i;return Ci(e,t,s,n),t.child}function fP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qv(e,t,n,i,s){var h=qi(n)?tu:di.current;return h=Fc(t,h),Mc(t,s),n=Fx(e,t,n,i,h,s),i=$x(),e!==null&&!Gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rs(e,t,s)):(Yn&&i&&Ax(t),t.flags|=1,Ci(e,t,n,s),t.child)}function SS(e,t,n,i,s){if(qi(n)){var h=!0;hg(t)}else h=!1;if(Mc(t,s),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),LT(t,n,i),Hv(t,n,i,s),i=!0;else if(e===null){var f=t.stateNode,u=t.memoizedProps;f.props=u;var w=f.context,b=n.contextType;typeof b=="object"&&b!==null?b=Vo(b):(b=qi(n)?tu:di.current,b=Fc(t,b));var C=n.getDerivedStateFromProps,M=typeof C=="function"||typeof f.getSnapshotBeforeUpdate=="function";M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(u!==i||w!==b)&&dS(t,f,i,b),Os=!1;var T=t.memoizedState;f.state=T,pg(t,i,f,s),w=t.memoizedState,u!==i||T!==w||Wi.current||Os?(typeof C=="function"&&(Zv(t,n,C,i),w=t.memoizedState),(u=Os||hS(t,n,u,i,T,w,b))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=w),f.props=i,f.state=w,f.context=b,i=u):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,DT(e,t),u=t.memoizedProps,b=t.type===t.elementType?u:Yo(t.type,u),f.props=b,M=t.pendingProps,T=f.context,w=n.contextType,typeof w=="object"&&w!==null?w=Vo(w):(w=qi(n)?tu:di.current,w=Fc(t,w));var N=n.getDerivedStateFromProps;(C=typeof N=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(u!==M||T!==w)&&dS(t,f,i,w),Os=!1,T=t.memoizedState,f.state=T,pg(t,i,f,s);var W=t.memoizedState;u!==M||T!==W||Wi.current||Os?(typeof N=="function"&&(Zv(t,n,N,i),W=t.memoizedState),(b=Os||hS(t,n,b,i,T,W,w)||!1)?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,W,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,W,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=W),f.props=i,f.state=W,f.context=w,i=b):(typeof f.componentDidUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),i=!1)}return e1(e,t,n,i,h,s)}function e1(e,t,n,i,s,h){fP(e,t);var f=(t.flags&128)!==0;if(!i&&!f)return s&&lS(t,n,!1),rs(e,t,h);i=t.stateNode,nD.current=t;var u=f&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&f?(t.child=Bc(t,e.child,null,h),t.child=Bc(t,null,u,h)):Ci(e,t,u,h),t.memoizedState=i.state,s&&lS(t,n,!0),t.child}function pP(e){var t=e.stateNode;t.pendingContext?sS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sS(e,t.context,!1),Dx(e,t.containerInfo)}function ES(e,t,n,i,s){return $c(),zx(s),t.flags|=256,Ci(e,t,n,i),t.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(e){return{baseLanes:e,cachePool:null,transitions:null}}function kS(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function mP(e,t,n){var i=t.pendingProps,s=nr.current,h=!1,f=(t.flags&128)!==0,u;if((u=f)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$n(nr,s&1),e===null)return Kv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,h?(i=t.mode,h=t.child,s={mode:"hidden",children:s},(i&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=s):h=Eg(s,i,0,null),e=Xl(e,i,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=tm(n),t.memoizedState=em,e):t1(t,s));if(s=e.memoizedState,s!==null){if(u=s.dehydrated,u!==null){if(f)return t.flags&256?(t.flags&=-257,nm(e,t,n,Error(Ve(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=i.fallback,s=t.mode,i=Eg({mode:"visible",children:i.children},s,0,null),h=Xl(h,s,n,null),h.flags|=2,i.return=t,h.return=t,i.sibling=h,t.child=i,(t.mode&1)!==0&&Bc(t,e.child,null,n),t.child.memoizedState=tm(n),t.memoizedState=em,h);if((t.mode&1)===0)t=nm(e,t,n,null);else if(u.data==="$!")t=nm(e,t,n,Error(Ve(419)));else if(i=(n&e.childLanes)!==0,Gi||i){if(i=Dr,i!==null){switch(n&-n){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}i=(h&(i.suspendedLanes|n))!==0?0:h,i!==0&&i!==s.retryLane&&(s.retryLane=i,$o(e,i,-1))}Zx(),t=nm(e,t,n,Error(Ve(421)))}else u.data==="$?"?(t.flags|=128,t.child=e.child,t=pD.bind(null,e),u._reactRetry=t,t=null):(n=s.treeContext,Ui=Ka(u.nextSibling),po=t,Yn=!0,ea=null,n!==null&&(Ro[Lo++]=Ya,Ro[Lo++]=Ja,Ro[Lo++]=nu,Ya=n.id,Ja=n.overflow,nu=t),t=t1(t,t.pendingProps.children),t.flags|=4096);return t}return h?(i=TS(e,t,i.children,i.fallback,n),h=t.child,s=e.child.memoizedState,h.memoizedState=s===null?tm(n):kS(s,n),h.childLanes=e.childLanes&~n,t.memoizedState=em,i):(n=CS(e,t,i.children,n),t.memoizedState=null,n)}return h?(i=TS(e,t,i.children,i.fallback,n),h=t.child,s=e.child.memoizedState,h.memoizedState=s===null?tm(n):kS(s,n),h.childLanes=e.childLanes&~n,t.memoizedState=em,i):(n=CS(e,t,i.children,n),t.memoizedState=null,n)}function t1(e,t){return t=Eg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function CS(e,t,n,i){var s=e.child;return e=s.sibling,n=el(s,{mode:"visible",children:n}),(t.mode&1)===0&&(n.lanes=i),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function TS(e,t,n,i,s){var h=t.mode;e=e.child;var f=e.sibling,u={mode:"hidden",children:n};return(h&1)===0&&t.child!==e?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=el(e,u),n.subtreeFlags=e.subtreeFlags&14680064),f!==null?i=el(f,i):(i=Xl(i,h,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,i}function nm(e,t,n,i){return i!==null&&zx(i),Bc(t,e.child,null,n),e=t1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PS(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),qv(e.return,t,n)}function M_(e,t,n,i,s){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=s)}function gP(e,t,n){var i=t.pendingProps,s=i.revealOrder,h=i.tail;if(Ci(e,t,i.children,n),i=nr.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PS(e,n,t);else if(e.tag===19)PS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if($n(nr,i),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yg(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),M_(t,!1,s,n,h);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yg(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}M_(t,!0,n,null,h);break;case"together":M_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),iu|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,n=el(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=el(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rD(e,t,n){switch(t.tag){case 3:pP(t),$c();break;case 5:VT(t);break;case 1:qi(t.type)&&hg(t);break;case 4:Dx(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;$n(dg,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?($n(nr,nr.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?mP(e,t,n):($n(nr,nr.current&1),e=rs(e,t,n),e!==null?e.sibling:null);$n(nr,nr.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return gP(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$n(nr,nr.current),i)break;return null;case 22:case 23:return t.lanes=0,dP(e,t,n)}return rs(e,t,n)}function iD(e,t){switch(Mx(t),t.tag){case 1:return qi(t.type)&&cg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vc(),Un(Wi),Un(di),Lx(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Rx(t),null;case 13:if(Un(nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));$c()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Un(nr),null;case 4:return Vc(),null;case 10:return Px(t.type._context),null;case 22:case 23:return qx(),null;case 24:return null;default:return null}}var rm=!1,ci=!1,oD=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Sc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){dr(e,t,i)}else n.current=null}function n1(e,t,n){try{n()}catch(i){dr(e,t,i)}}var IS=!1;function aD(e,t){if(Vv=ag,e=bT(),kx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var f=0,u=-1,w=-1,b=0,C=0,M=e,T=null;t:for(;;){for(var N;M!==n||s!==0&&M.nodeType!==3||(u=f+s),M!==h||i!==0&&M.nodeType!==3||(w=f+i),M.nodeType===3&&(f+=M.nodeValue.length),(N=M.firstChild)!==null;)T=M,M=N;for(;;){if(M===e)break t;if(T===n&&++b===s&&(u=f),T===h&&++C===i&&(w=f),(N=M.nextSibling)!==null)break;M=T,T=M.parentNode}M=N}n=u===-1||w===-1?null:{start:u,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nv={focusedElem:e,selectionRange:n},ag=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var W=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(W!==null){var H=W.memoizedProps,le=W.memoizedState,V=t.stateNode,B=V.getSnapshotBeforeUpdate(t.elementType===t.type?H:Yo(t.type,H),le);V.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Y=t.stateNode.containerInfo;if(Y.nodeType===1)Y.textContent="";else if(Y.nodeType===9){var se=Y.body;se!=null&&(se.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(oe){dr(t,t.return,oe)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return W=IS,IS=!1,W}function jd(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var h=s.destroy;s.destroy=void 0,h!==void 0&&n1(t,n,h)}s=s.next}while(s!==i)}}function ly(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function r1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yP(e){var t=e.alternate;t!==null&&(e.alternate=null,yP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ga],delete t[lf],delete t[Gv],delete t[U4],delete t[G4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _P(e){return e.tag===5||e.tag===3||e.tag===4}function AS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_P(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i1(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ug));else if(i!==4&&(e=e.child,e!==null))for(i1(e,t,n),e=e.sibling;e!==null;)i1(e,t,n),e=e.sibling}function o1(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(o1(e,t,n),e=e.sibling;e!==null;)o1(e,t,n),e=e.sibling}var Hr=null,Jo=!1;function zs(e,t,n){for(n=n.child;n!==null;)vP(e,t,n),n=n.sibling}function vP(e,t,n){if(va&&typeof va.onCommitFiberUnmount=="function")try{va.onCommitFiberUnmount(ey,n)}catch{}switch(n.tag){case 5:ci||Sc(n,t);case 6:var i=Hr,s=Jo;Hr=null,zs(e,t,n),Hr=i,Jo=s,Hr!==null&&(Jo?(e=Hr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Hr.removeChild(n.stateNode));break;case 18:Hr!==null&&(Jo?(e=Hr,n=n.stateNode,e.nodeType===8?k_(e.parentNode,n):e.nodeType===1&&k_(e,n),nf(e)):k_(Hr,n.stateNode));break;case 4:i=Hr,s=Jo,Hr=n.stateNode.containerInfo,Jo=!0,zs(e,t,n),Hr=i,Jo=s;break;case 0:case 11:case 14:case 15:if(!ci&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var h=s,f=h.destroy;h=h.tag,f!==void 0&&((h&2)!==0||(h&4)!==0)&&n1(n,t,f),s=s.next}while(s!==i)}zs(e,t,n);break;case 1:if(!ci&&(Sc(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){dr(n,t,u)}zs(e,t,n);break;case 21:zs(e,t,n);break;case 22:n.mode&1?(ci=(i=ci)||n.memoizedState!==null,zs(e,t,n),ci=i):zs(e,t,n);break;default:zs(e,t,n)}}function MS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oD),t.forEach(function(i){var s=mD.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Ho(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var h=e,f=t,u=f;e:for(;u!==null;){switch(u.tag){case 5:Hr=u.stateNode,Jo=!1;break e;case 3:Hr=u.stateNode.containerInfo,Jo=!0;break e;case 4:Hr=u.stateNode.containerInfo,Jo=!0;break e}u=u.return}if(Hr===null)throw Error(Ve(160));vP(h,f,s),Hr=null,Jo=!1;var w=s.alternate;w!==null&&(w.return=null),s.return=null}catch(b){dr(s,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xP(t,e),t=t.sibling}function xP(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ho(t,e),ca(e),i&4){try{jd(3,e,e.return),ly(3,e)}catch(W){dr(e,e.return,W)}try{jd(5,e,e.return)}catch(W){dr(e,e.return,W)}}break;case 1:Ho(t,e),ca(e),i&512&&n!==null&&Sc(n,n.return);break;case 5:if(Ho(t,e),ca(e),i&512&&n!==null&&Sc(n,n.return),e.flags&32){var s=e.stateNode;try{Jd(s,"")}catch(W){dr(e,e.return,W)}}if(i&4&&(s=e.stateNode,s!=null)){var h=e.memoizedProps,f=n!==null?n.memoizedProps:h,u=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{u==="input"&&h.type==="radio"&&h.name!=null&&UC(s,h),Av(u,f);var b=Av(u,h);for(f=0;f<w.length;f+=2){var C=w[f],M=w[f+1];C==="style"?HC(s,M):C==="dangerouslySetInnerHTML"?qC(s,M):C==="children"?Jd(s,M):dx(s,C,M,b)}switch(u){case"input":kv(s,h);break;case"textarea":GC(s,h);break;case"select":var T=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!h.multiple;var N=h.value;N!=null?Tc(s,!!h.multiple,N,!1):T!==!!h.multiple&&(h.defaultValue!=null?Tc(s,!!h.multiple,h.defaultValue,!0):Tc(s,!!h.multiple,h.multiple?[]:"",!1))}s[lf]=h}catch(W){dr(e,e.return,W)}}break;case 6:if(Ho(t,e),ca(e),i&4){if(e.stateNode===null)throw Error(Ve(162));b=e.stateNode,C=e.memoizedProps;try{b.nodeValue=C}catch(W){dr(e,e.return,W)}}break;case 3:if(Ho(t,e),ca(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{nf(t.containerInfo)}catch(W){dr(e,e.return,W)}break;case 4:Ho(t,e),ca(e);break;case 13:Ho(t,e),ca(e),b=e.child,b.flags&8192&&b.memoizedState!==null&&(b.alternate===null||b.alternate.memoizedState===null)&&(Gx=vr()),i&4&&MS(e);break;case 22:if(b=n!==null&&n.memoizedState!==null,e.mode&1?(ci=(C=ci)||b,Ho(t,e),ci=C):Ho(t,e),ca(e),i&8192){C=e.memoizedState!==null;e:for(M=null,T=e;;){if(T.tag===5){if(M===null){M=T;try{s=T.stateNode,C?(h=s.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(u=T.stateNode,w=T.memoizedProps.style,f=w!=null&&w.hasOwnProperty("display")?w.display:null,u.style.display=ZC("display",f))}catch(W){dr(e,e.return,W)}}}else if(T.tag===6){if(M===null)try{T.stateNode.nodeValue=C?"":T.memoizedProps}catch(W){dr(e,e.return,W)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break e;for(;T.sibling===null;){if(T.return===null||T.return===e)break e;M===T&&(M=null),T=T.return}M===T&&(M=null),T.sibling.return=T.return,T=T.sibling}if(C&&!b&&(e.mode&1)!==0)for(ft=e,e=e.child;e!==null;){for(b=ft=e;ft!==null;){switch(C=ft,M=C.child,C.tag){case 0:case 11:case 14:case 15:jd(4,C,C.return);break;case 1:if(Sc(C,C.return),h=C.stateNode,typeof h.componentWillUnmount=="function"){T=C,N=C.return;try{s=T,h.props=s.memoizedProps,h.state=s.memoizedState,h.componentWillUnmount()}catch(W){dr(T,N,W)}}break;case 5:Sc(C,C.return);break;case 22:if(C.memoizedState!==null){DS(b);continue}}M!==null?(M.return=C,ft=M):DS(b)}e=e.sibling}}break;case 19:Ho(t,e),ca(e),i&4&&MS(e);break;case 21:break;default:Ho(t,e),ca(e)}}function ca(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_P(n)){var i=n;break e}n=n.return}throw Error(Ve(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Jd(s,""),i.flags&=-33);var h=AS(e);o1(e,h,s);break;case 3:case 4:var f=i.stateNode.containerInfo,u=AS(e);i1(e,u,f);break;default:throw Error(Ve(161))}}catch(w){dr(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sD(e,t,n){ft=e,wP(e)}function wP(e,t,n){for(var i=(e.mode&1)!==0;ft!==null;){var s=ft,h=s.child;if(s.tag===22&&i){var f=s.memoizedState!==null||rm;if(!f){var u=s.alternate,w=u!==null&&u.memoizedState!==null||ci;u=rm;var b=ci;if(rm=f,(ci=w)&&!b)for(ft=s;ft!==null;)f=ft,w=f.child,f.tag===22&&f.memoizedState!==null?RS(s):w!==null?(w.return=f,ft=w):RS(s);for(;h!==null;)ft=h,wP(h),h=h.sibling;ft=s,rm=u,ci=b}zS(e)}else(s.subtreeFlags&8772)!==0&&h!==null?(h.return=s,ft=h):zS(e)}}function zS(e){for(;ft!==null;){var t=ft;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ci||ly(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ci)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Yo(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&cS(t,h,i);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cS(t,f,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var C=b.memoizedState;if(C!==null){var M=C.dehydrated;M!==null&&nf(M)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(Ve(163))}ci||t.flags&512&&r1(t)}catch(T){dr(t,t.return,T)}}if(t===e){ft=null;break}if(n=t.sibling,n!==null){n.return=t.return,ft=n;break}ft=t.return}}function DS(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ft=n;break}ft=t.return}}function RS(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ly(4,t)}catch(w){dr(t,n,w)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(w){dr(t,s,w)}}var h=t.return;try{r1(t)}catch(w){dr(t,h,w)}break;case 5:var f=t.return;try{r1(t)}catch(w){dr(t,f,w)}}}catch(w){dr(t,t.return,w)}if(t===e){ft=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ft=u;break}ft=t.return}}var lD=Math.ceil,xg=cs.ReactCurrentDispatcher,jx=cs.ReactCurrentOwner,Fo=cs.ReactCurrentBatchConfig,hn=0,Dr=null,Er=null,Yr=0,io=0,Ec=il(0),Mr=0,pf=null,iu=0,uy=0,Ux=0,Ud=null,ji=null,Gx=0,Nc=1/0,Ha=null,wg=!1,a1=null,Hs=null,im=!1,Ns=null,bg=0,Gd=0,s1=null,Dm=-1,Rm=0;function Ii(){return(hn&6)!==0?vr():Dm!==-1?Dm:Dm=vr()}function Xs(e){return(e.mode&1)===0?1:(hn&2)!==0&&Yr!==0?Yr&-Yr:q4.transition!==null?(Rm===0&&(Rm=aT()),Rm):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:fT(e.type)),e)}function $o(e,t,n){if(50<Gd)throw Gd=0,s1=null,Error(Ve(185));var i=cy(e,t);return i===null?null:(Pf(i,t,n),((hn&2)===0||i!==Dr)&&(i===Dr&&((hn&2)===0&&(uy|=t),Mr===4&&$s(i,Yr)),Zi(i,n),t===1&&hn===0&&(e.mode&1)===0&&(Nc=vr()+500,oy&&ol())),i)}function cy(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function bP(e){return(Dr!==null||ta!==null)&&(e.mode&1)!==0&&(hn&2)===0}function Zi(e,t){var n=e.callbackNode;q5(e,t);var i=og(e,e===Dr?Yr:0);if(i===0)n!==null&&V2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&V2(n),t===1)e.tag===0?W4(LS.bind(null,e)):zT(LS.bind(null,e)),N4(function(){hn===0&&ol()}),n=null;else{switch(sT(i)){case 1:n=yx;break;case 4:n=iT;break;case 16:n=ig;break;case 536870912:n=oT;break;default:n=ig}n=AP(n,SP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function SP(e,t){if(Dm=-1,Rm=0,(hn&6)!==0)throw Error(Ve(327));var n=e.callbackNode;if(zc()&&e.callbackNode!==n)return null;var i=og(e,e===Dr?Yr:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Sg(e,i);else{t=i;var s=hn;hn|=2;var h=kP();(Dr!==e||Yr!==t)&&(Ha=null,Nc=vr()+500,Hl(e,t));do try{hD();break}catch(u){EP(e,u)}while(1);Tx(),xg.current=h,hn=s,Er!==null?t=0:(Dr=null,Yr=0,t=Mr)}if(t!==0){if(t===2&&(s=Lv(e),s!==0&&(i=s,t=l1(e,s))),t===1)throw n=pf,Hl(e,0),$s(e,i),Zi(e,vr()),n;if(t===6)$s(e,i);else{if(s=e.current.alternate,(i&30)===0&&!uD(s)&&(t=Sg(e,i),t===2&&(h=Lv(e),h!==0&&(i=h,t=l1(e,h))),t===1))throw n=pf,Hl(e,0),$s(e,i),Zi(e,vr()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(Ve(345));case 2:Ol(e,ji,Ha);break;case 3:if($s(e,i),(i&130023424)===i&&(t=Gx+500-vr(),10<t)){if(og(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){Ii(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Uv(Ol.bind(null,e,ji,Ha),t);break}Ol(e,ji,Ha);break;case 4:if($s(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var f=31-ra(i);h=1<<f,f=t[f],f>s&&(s=f),i&=~h}if(i=s,i=vr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*lD(i/1960))-i,10<i){e.timeoutHandle=Uv(Ol.bind(null,e,ji,Ha),i);break}Ol(e,ji,Ha);break;case 5:Ol(e,ji,Ha);break;default:throw Error(Ve(329))}}}return Zi(e,vr()),e.callbackNode===n?SP.bind(null,e):null}function l1(e,t){var n=Ud;return e.current.memoizedState.isDehydrated&&(Hl(e,t).flags|=256),e=Sg(e,t),e!==2&&(t=ji,ji=n,t!==null&&u1(t)),e}function u1(e){ji===null?ji=e:ji.push.apply(ji,e)}function uD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],h=s.getSnapshot;s=s.value;try{if(!ia(h(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $s(e,t){for(t&=~Ux,t&=~uy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ra(t),i=1<<n;e[n]=-1,t&=~i}}function LS(e){if((hn&6)!==0)throw Error(Ve(327));zc();var t=og(e,0);if((t&1)===0)return Zi(e,vr()),null;var n=Sg(e,t);if(e.tag!==0&&n===2){var i=Lv(e);i!==0&&(t=i,n=l1(e,i))}if(n===1)throw n=pf,Hl(e,0),$s(e,t),Zi(e,vr()),n;if(n===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e,ji,Ha),Zi(e,vr()),null}function Wx(e,t){var n=hn;hn|=1;try{return e(t)}finally{hn=n,hn===0&&(Nc=vr()+500,oy&&ol())}}function ou(e){Ns!==null&&Ns.tag===0&&(hn&6)===0&&zc();var t=hn;hn|=1;var n=Fo.transition,i=Sn;try{if(Fo.transition=null,Sn=1,e)return e()}finally{Sn=i,Fo.transition=n,hn=t,(hn&6)===0&&ol()}}function qx(){io=Ec.current,Un(Ec)}function Hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,V4(n)),Er!==null)for(n=Er.return;n!==null;){var i=n;switch(Mx(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&cg();break;case 3:Vc(),Un(Wi),Un(di),Lx();break;case 5:Rx(i);break;case 4:Vc();break;case 13:Un(nr);break;case 19:Un(nr);break;case 10:Px(i.type._context);break;case 22:case 23:qx()}n=n.return}if(Dr=e,Er=e=el(e.current,null),Yr=io=t,Mr=0,pf=null,Ux=uy=iu=0,ji=Ud=null,ta!==null){for(t=0;t<ta.length;t++)if(n=ta[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,h=n.pending;if(h!==null){var f=h.next;h.next=s,i.next=f}n.pending=i}ta=null}return e}function EP(e,t){do{var n=Er;try{if(Tx(),Mm.current=vg,_g){for(var i=rr.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}_g=!1}if(ru=0,Vr=Ar=rr=null,Nd=!1,hf=0,jx.current=null,n===null||n.return===null){Mr=1,pf=t,Er=null;break}e:{var h=e,f=n.return,u=n,w=t;if(t=Yr,u.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var b=w,C=u,M=C.tag;if((C.mode&1)===0&&(M===0||M===11||M===15)){var T=C.alternate;T?(C.updateQueue=T.updateQueue,C.memoizedState=T.memoizedState,C.lanes=T.lanes):(C.updateQueue=null,C.memoizedState=null)}var N=vS(f);if(N!==null){N.flags&=-257,xS(N,f,u,h,t),N.mode&1&&_S(h,b,t),t=N,w=b;var W=t.updateQueue;if(W===null){var H=new Set;H.add(w),t.updateQueue=H}else W.add(w);break e}else{if((t&1)===0){_S(h,b,t),Zx();break e}w=Error(Ve(426))}}else if(Yn&&u.mode&1){var le=vS(f);if(le!==null){(le.flags&65536)===0&&(le.flags|=256),xS(le,f,u,h,t),zx(w);break e}}h=w,Mr!==4&&(Mr=2),Ud===null?Ud=[h]:Ud.push(h),w=Nx(w,u),u=f;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var V=aP(u,w,t);uS(u,V);break e;case 1:h=w;var B=u.type,Y=u.stateNode;if((u.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Hs===null||!Hs.has(Y)))){u.flags|=65536,t&=-t,u.lanes|=t;var se=sP(u,h,t);uS(u,se);break e}}u=u.return}while(u!==null)}TP(n)}catch(oe){t=oe,Er===n&&n!==null&&(Er=n=n.return);continue}break}while(1)}function kP(){var e=xg.current;return xg.current=vg,e===null?vg:e}function Zx(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Dr===null||(iu&268435455)===0&&(uy&268435455)===0||$s(Dr,Yr)}function Sg(e,t){var n=hn;hn|=2;var i=kP();(Dr!==e||Yr!==t)&&(Ha=null,Hl(e,t));do try{cD();break}catch(s){EP(e,s)}while(1);if(Tx(),hn=n,xg.current=i,Er!==null)throw Error(Ve(261));return Dr=null,Yr=0,Mr}function cD(){for(;Er!==null;)CP(Er)}function hD(){for(;Er!==null&&!F5();)CP(Er)}function CP(e){var t=IP(e.alternate,e,io);e.memoizedProps=e.pendingProps,t===null?TP(e):Er=t,jx.current=null}function TP(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=tD(n,t,io),n!==null){Er=n;return}}else{if(n=iD(n,t),n!==null){n.flags&=32767,Er=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mr=6,Er=null;return}}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Mr===0&&(Mr=5)}function Ol(e,t,n){var i=Sn,s=Fo.transition;try{Fo.transition=null,Sn=1,dD(e,t,n,i)}finally{Fo.transition=s,Sn=i}return null}function dD(e,t,n,i){do zc();while(Ns!==null);if((hn&6)!==0)throw Error(Ve(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(Z5(e,h),e===Dr&&(Er=Dr=null,Yr=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||im||(im=!0,AP(ig,function(){return zc(),null})),h=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||h){h=Fo.transition,Fo.transition=null;var f=Sn;Sn=1;var u=hn;hn|=4,jx.current=null,aD(e,n),xP(n,e),D4(Nv),ag=!!Vv,Nv=Vv=null,e.current=n,sD(n),$5(),hn=u,Sn=f,Fo.transition=h}else e.current=n;if(im&&(im=!1,Ns=e,bg=s),h=e.pendingLanes,h===0&&(Hs=null),N5(n.stateNode),Zi(e,vr()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)i(t[n]);if(wg)throw wg=!1,e=a1,a1=null,e;return(bg&1)!==0&&e.tag!==0&&zc(),h=e.pendingLanes,(h&1)!==0?e===s1?Gd++:(Gd=0,s1=e):Gd=0,ol(),null}function zc(){if(Ns!==null){var e=sT(bg),t=Fo.transition,n=Sn;try{if(Fo.transition=null,Sn=16>e?16:e,Ns===null)var i=!1;else{if(e=Ns,Ns=null,bg=0,(hn&6)!==0)throw Error(Ve(331));var s=hn;for(hn|=4,ft=e.current;ft!==null;){var h=ft,f=h.child;if((ft.flags&16)!==0){var u=h.deletions;if(u!==null){for(var w=0;w<u.length;w++){var b=u[w];for(ft=b;ft!==null;){var C=ft;switch(C.tag){case 0:case 11:case 15:jd(8,C,h)}var M=C.child;if(M!==null)M.return=C,ft=M;else for(;ft!==null;){C=ft;var T=C.sibling,N=C.return;if(yP(C),C===b){ft=null;break}if(T!==null){T.return=N,ft=T;break}ft=N}}}var W=h.alternate;if(W!==null){var H=W.child;if(H!==null){W.child=null;do{var le=H.sibling;H.sibling=null,H=le}while(H!==null)}}ft=h}}if((h.subtreeFlags&2064)!==0&&f!==null)f.return=h,ft=f;else e:for(;ft!==null;){if(h=ft,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:jd(9,h,h.return)}var V=h.sibling;if(V!==null){V.return=h.return,ft=V;break e}ft=h.return}}var B=e.current;for(ft=B;ft!==null;){f=ft;var Y=f.child;if((f.subtreeFlags&2064)!==0&&Y!==null)Y.return=f,ft=Y;else e:for(f=B;ft!==null;){if(u=ft,(u.flags&2048)!==0)try{switch(u.tag){case 0:case 11:case 15:ly(9,u)}}catch(oe){dr(u,u.return,oe)}if(u===f){ft=null;break e}var se=u.sibling;if(se!==null){se.return=u.return,ft=se;break e}ft=u.return}}if(hn=s,ol(),va&&typeof va.onPostCommitFiberRoot=="function")try{va.onPostCommitFiberRoot(ey,e)}catch{}i=!0}return i}finally{Sn=n,Fo.transition=t}}return!1}function OS(e,t,n){t=Nx(n,t),t=aP(e,t,1),Zs(e,t),t=Ii(),e=cy(e,1),e!==null&&(Pf(e,1,t),Zi(e,t))}function dr(e,t,n){if(e.tag===3)OS(e,e,n);else for(;t!==null;){if(t.tag===3){OS(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hs===null||!Hs.has(i))){e=Nx(n,e),e=sP(t,e,1),Zs(t,e),e=Ii(),t=cy(t,1),t!==null&&(Pf(t,1,e),Zi(t,e));break}}t=t.return}}function fD(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ii(),e.pingedLanes|=e.suspendedLanes&n,Dr===e&&(Yr&n)===n&&(Mr===4||Mr===3&&(Yr&130023424)===Yr&&500>vr()-Gx?Hl(e,0):Ux|=n),Zi(e,t)}function PP(e,t){t===0&&((e.mode&1)===0?t=1:(t=Zp,Zp<<=1,(Zp&130023424)===0&&(Zp=4194304)));var n=Ii();e=cy(e,t),e!==null&&(Pf(e,t,n),Zi(e,n))}function pD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PP(e,n)}function mD(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Ve(314))}i!==null&&i.delete(t),PP(e,n)}var IP;IP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wi.current)Gi=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Gi=!1,rD(e,t,n);Gi=(e.flags&131072)!==0}else Gi=!1,Yn&&(t.flags&1048576)!==0&&OT(t,gg,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var s=Fc(t,di.current);Mc(t,n),s=Fx(null,t,i,e,s,n);var h=$x();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qi(i)?(h=!0,hg(t)):h=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ix(t),s.updater=ay,t.stateNode=s,s._reactInternals=t,Hv(t,i,e,n),t=e1(null,t,i,!0,h,n)):(t.tag=0,Yn&&h&&Ax(t),Ci(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=yD(i),e=Yo(i,e),s){case 0:t=Qv(null,t,i,e,n);break e;case 1:t=SS(null,t,i,e,n);break e;case 11:t=wS(null,t,i,e,n);break e;case 14:t=bS(null,t,i,Yo(i.type,e),n);break e}throw Error(Ve(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Yo(i,s),Qv(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Yo(i,s),SS(e,t,i,s,n);case 3:e:{if(pP(t),e===null)throw Error(Ve(387));i=t.pendingProps,h=t.memoizedState,s=h.element,DT(e,t),pg(t,i,null,n);var f=t.memoizedState;if(i=f.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){s=Error(Ve(423)),t=ES(e,t,i,n,s);break e}else if(i!==s){s=Error(Ve(424)),t=ES(e,t,i,n,s);break e}else for(Ui=Ka(t.stateNode.containerInfo.firstChild),po=t,Yn=!0,ea=null,n=BT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($c(),i===s){t=rs(e,t,n);break e}Ci(e,t,i,n)}t=t.child}return t;case 5:return VT(t),e===null&&Kv(t),i=t.type,s=t.pendingProps,h=e!==null?e.memoizedProps:null,f=s.children,jv(i,s)?f=null:h!==null&&jv(i,h)&&(t.flags|=32),fP(e,t),Ci(e,t,f,n),t.child;case 6:return e===null&&Kv(t),null;case 13:return mP(e,t,n);case 4:return Dx(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Bc(t,null,i,n):Ci(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Yo(i,s),wS(e,t,i,s,n);case 7:return Ci(e,t,t.pendingProps,n),t.child;case 8:return Ci(e,t,t.pendingProps.children,n),t.child;case 12:return Ci(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,h=t.memoizedProps,f=s.value,$n(dg,i._currentValue),i._currentValue=f,h!==null)if(ia(h.value,f)){if(h.children===s.children&&!Wi.current){t=rs(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var u=h.dependencies;if(u!==null){f=h.child;for(var w=u.firstContext;w!==null;){if(w.context===i){if(h.tag===1){w=Qa(-1,n&-n),w.tag=2;var b=h.updateQueue;if(b!==null){b=b.shared;var C=b.pending;C===null?w.next=w:(w.next=C.next,C.next=w),b.pending=w}}h.lanes|=n,w=h.alternate,w!==null&&(w.lanes|=n),qv(h.return,n,t),u.lanes|=n;break}w=w.next}}else if(h.tag===10)f=h.type===t.type?null:h.child;else if(h.tag===18){if(f=h.return,f===null)throw Error(Ve(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),qv(f,n,t),f=h.sibling}else f=h.child;if(f!==null)f.return=h;else for(f=h;f!==null;){if(f===t){f=null;break}if(h=f.sibling,h!==null){h.return=f.return,f=h;break}f=f.return}h=f}Ci(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Mc(t,n),s=Vo(s),i=i(s),t.flags|=1,Ci(e,t,i,n),t.child;case 14:return i=t.type,s=Yo(i,t.pendingProps),s=Yo(i.type,s),bS(e,t,i,s,n);case 15:return hP(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Yo(i,s),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,qi(i)?(e=!0,hg(t)):e=!1,Mc(t,n),LT(t,i,s),Hv(t,i,s,n),e1(null,t,i,!0,e,n);case 19:return gP(e,t,n);case 22:return dP(e,t,n)}throw Error(Ve(156,t.tag))};function AP(e,t){return rT(e,t)}function gD(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(e,t,n,i){return new gD(e,t,n,i)}function Hx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yD(e){if(typeof e=="function")return Hx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===px)return 11;if(e===mx)return 14}return 2}function el(e,t){var n=e.alternate;return n===null?(n=Oo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lm(e,t,n,i,s,h){var f=2;if(i=e,typeof e=="function")Hx(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case pc:return Xl(n.children,s,h,t);case fx:f=8,s|=8;break;case xv:return e=Oo(12,n,t,s|2),e.elementType=xv,e.lanes=h,e;case wv:return e=Oo(13,n,t,s),e.elementType=wv,e.lanes=h,e;case bv:return e=Oo(19,n,t,s),e.elementType=bv,e.lanes=h,e;case VC:return Eg(n,s,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $C:f=10;break e;case BC:f=9;break e;case px:f=11;break e;case mx:f=14;break e;case Ls:f=16,i=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Oo(f,n,t,s),t.elementType=e,t.type=i,t.lanes=h,t}function Xl(e,t,n,i){return e=Oo(7,e,i,t),e.lanes=n,e}function Eg(e,t,n,i){return e=Oo(22,e,i,t),e.elementType=VC,e.lanes=n,e.stateNode={},e}function z_(e,t,n){return e=Oo(6,e,null,t),e.lanes=n,e}function D_(e,t,n){return t=Oo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _D(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p_(0),this.expirationTimes=p_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p_(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xx(e,t,n,i,s,h,f,u,w){return e=new _D(e,t,n,u,w),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Oo(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ix(h),e}function vD(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fc,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function MP(e){if(!e)return Qs;e=e._reactInternals;e:{if(uu(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var n=e.type;if(qi(n))return MT(e,n,t)}return t}function zP(e,t,n,i,s,h,f,u,w){return e=Xx(n,i,!0,e,s,h,f,u,w),e.context=MP(null),n=e.current,i=Ii(),s=Xs(n),h=Qa(i,s),h.callback=t!=null?t:null,Zs(n,h),e.current.lanes=s,Pf(e,s,i),Zi(e,i),e}function hy(e,t,n,i){var s=t.current,h=Ii(),f=Xs(s);return n=MP(n),t.context===null?t.context=n:t.pendingContext=n,t=Qa(h,f),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),Zs(s,t),e=$o(s,f,h),e!==null&&Am(e,s,f),f}function kg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kx(e,t){FS(e,t),(e=e.alternate)&&FS(e,t)}function xD(){return null}var DP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yx(e){this._internalRoot=e}dy.prototype.render=Yx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));hy(e,t,null,null)};dy.prototype.unmount=Yx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ou(function(){hy(null,e,null,null)}),t[ns]=null}};function dy(e){this._internalRoot=e}dy.prototype.unstable_scheduleHydration=function(e){if(e){var t=cT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fs.length&&t!==0&&t<Fs[n].priority;n++);Fs.splice(n,0,e),n===0&&dT(e)}};function Jx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $S(){}function wD(e,t,n,i,s){if(s){if(typeof i=="function"){var h=i;i=function(){var b=kg(f);h.call(b)}}var f=zP(t,i,e,0,null,!1,!1,"",$S);return e._reactRootContainer=f,e[ns]=f.current,af(e.nodeType===8?e.parentNode:e),ou(),f}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var u=i;i=function(){var b=kg(w);u.call(b)}}var w=Xx(e,0,!1,null,null,!1,!1,"",$S);return e._reactRootContainer=w,e[ns]=w.current,af(e.nodeType===8?e.parentNode:e),ou(function(){hy(t,w,n,i)}),w}function py(e,t,n,i,s){var h=n._reactRootContainer;if(h){var f=h;if(typeof s=="function"){var u=s;s=function(){var w=kg(f);u.call(w)}}hy(t,f,e,s)}else f=wD(n,t,e,s,i);return kg(f)}lT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Td(t.pendingLanes);n!==0&&(_x(t,n|1),Zi(t,vr()),(hn&6)===0&&(Nc=vr()+500,ol()))}break;case 13:var i=Ii();ou(function(){return $o(e,1,i)}),Kx(e,1)}};vx=function(e){if(e.tag===13){var t=Ii();$o(e,134217728,t),Kx(e,134217728)}};uT=function(e){if(e.tag===13){var t=Ii(),n=Xs(e);$o(e,n,t),Kx(e,n)}};cT=function(){return Sn};hT=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}};zv=function(e,t,n){switch(t){case"input":if(kv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=iy(i);if(!s)throw Error(Ve(90));jC(i),kv(i,s)}}}break;case"textarea":GC(e,n);break;case"select":t=n.value,t!=null&&Tc(e,!!n.multiple,t,!1)}};YC=Wx;JC=ou;var bD={usingClientEntryPoint:!1,Events:[Af,_c,iy,XC,KC,Wx]},_d={findFiberByHostInstance:Ul,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},SD={bundleType:_d.bundleType,version:_d.version,rendererPackageName:_d.rendererPackageName,rendererConfig:_d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tT(e),e===null?null:e.stateNode},findFiberByHostInstance:_d.findFiberByHostInstance||xD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{ey=om.inject(SD),va=om}catch{}}xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bD;xo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jx(t))throw Error(Ve(200));return vD(e,t,null,n)};xo.createRoot=function(e,t){if(!Jx(e))throw Error(Ve(299));var n=!1,i="",s=DP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xx(e,1,!1,null,null,n,!1,i,s),e[ns]=t.current,af(e.nodeType===8?e.parentNode:e),new Yx(t)};xo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=tT(t),e=e===null?null:e.stateNode,e};xo.flushSync=function(e){return ou(e)};xo.hydrate=function(e,t,n){if(!fy(t))throw Error(Ve(200));return py(null,e,t,!0,n)};xo.hydrateRoot=function(e,t,n){if(!Jx(e))throw Error(Ve(405));var i=n!=null&&n.hydratedSources||null,s=!1,h="",f=DP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=zP(t,null,e,1,n!=null?n:null,s,!1,h,f),e[ns]=t.current,af(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new dy(t)};xo.render=function(e,t,n){if(!fy(t))throw Error(Ve(200));return py(null,e,t,!1,n)};xo.unmountComponentAtNode=function(e){if(!fy(e))throw Error(Ve(40));return e._reactRootContainer?(ou(function(){py(null,null,e,!1,function(){e._reactRootContainer=null,e[ns]=null})}),!0):!1};xo.unstable_batchedUpdates=Wx;xo.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!fy(n))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return py(e,t,n,!1,i)};xo.version="18.1.0-next-22edb9f77-20220426";function RP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RP)}catch(e){console.error(e)}}RP(),Qg.exports=xo;var ED=Qg.exports,BS=Qg.exports;_v.createRoot=BS.createRoot,_v.hydrateRoot=BS.hydrateRoot;var Tn="colors",ki="sizes",mt="space",kD={gap:mt,gridGap:mt,columnGap:mt,gridColumnGap:mt,rowGap:mt,gridRowGap:mt,inset:mt,insetBlock:mt,insetBlockEnd:mt,insetBlockStart:mt,insetInline:mt,insetInlineEnd:mt,insetInlineStart:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockEnd:mt,marginBlockStart:mt,marginInline:mt,marginInlineEnd:mt,marginInlineStart:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockEnd:mt,paddingBlockStart:mt,paddingInline:mt,paddingInlineEnd:mt,paddingInlineStart:mt,top:mt,right:mt,bottom:mt,left:mt,scrollMargin:mt,scrollMarginTop:mt,scrollMarginRight:mt,scrollMarginBottom:mt,scrollMarginLeft:mt,scrollMarginX:mt,scrollMarginY:mt,scrollMarginBlock:mt,scrollMarginBlockEnd:mt,scrollMarginBlockStart:mt,scrollMarginInline:mt,scrollMarginInlineEnd:mt,scrollMarginInlineStart:mt,scrollPadding:mt,scrollPaddingTop:mt,scrollPaddingRight:mt,scrollPaddingBottom:mt,scrollPaddingLeft:mt,scrollPaddingX:mt,scrollPaddingY:mt,scrollPaddingBlock:mt,scrollPaddingBlockEnd:mt,scrollPaddingBlockStart:mt,scrollPaddingInline:mt,scrollPaddingInlineEnd:mt,scrollPaddingInlineStart:mt,fontSize:"fontSizes",background:Tn,backgroundColor:Tn,backgroundImage:Tn,borderImage:Tn,border:Tn,borderBlock:Tn,borderBlockEnd:Tn,borderBlockStart:Tn,borderBottom:Tn,borderBottomColor:Tn,borderColor:Tn,borderInline:Tn,borderInlineEnd:Tn,borderInlineStart:Tn,borderLeft:Tn,borderLeftColor:Tn,borderRight:Tn,borderRightColor:Tn,borderTop:Tn,borderTopColor:Tn,caretColor:Tn,color:Tn,columnRuleColor:Tn,fill:Tn,outline:Tn,outlineColor:Tn,stroke:Tn,textDecorationColor:Tn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ki,minBlockSize:ki,maxBlockSize:ki,inlineSize:ki,minInlineSize:ki,maxInlineSize:ki,width:ki,minWidth:ki,maxWidth:ki,height:ki,minHeight:ki,maxHeight:ki,flexBasis:ki,gridTemplateColumns:ki,gridTemplateRows:ki,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},CD=(e,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,Qc=()=>{const e=Object.create(null);return(t,n,...i)=>{const s=(h=>JSON.stringify(h,CD))(t);return s in e?e[s]:e[s]=n(t,...i)}},Kl=Symbol.for("sxs.internal"),Qx=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),VS=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:TD}=Object.prototype,c1=e=>e.includes("-")?e:e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),PD=/\s+(?![^()]*\))/,Yu=e=>t=>e(...typeof t=="string"?String(t).split(PD):[t]),NS={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Yu((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:Yu((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:Yu((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:Yu((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:Yu((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:Yu((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},R_=/([\d.]+)([^]*)/,ID=(e,t)=>e.length?e.reduce((n,i)=>(n.push(...t.map(s=>s.includes("&")?s.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(s)?`:is(${i})`:i):i+" "+s)),n),[]):t,AD=(e,t)=>e in MD&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,i,s,h)=>i+(s==="stretch"?`-moz-available${h};${c1(e)}:${i}-webkit-fill-available`:`-moz-fit-content${h};${c1(e)}:${i}fit-content`)+h):String(t),MD={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},is=e=>e?e+"-":"",LP=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(i,s,h,f,u)=>f=="$"==!!h?i:(s||f=="--"?"calc(":"")+"var(--"+(f==="$"?is(t)+(u.includes("$")?"":is(n))+u.replace(/\$/g,"-"):u)+")"+(s||f=="--"?"*"+(s||"")+(h||"1")+")":"")),zD=/\s*,\s*(?![^()]*\))/,DD=Object.prototype.toString,kc=(e,t,n,i,s)=>{let h,f,u;const w=(b,C,M)=>{let T,N;const W=H=>{for(T in H){const B=T.charCodeAt(0)===64,Y=B&&Array.isArray(H[T])?H[T]:[H[T]];for(N of Y){const se=/[A-Z]/.test(V=T)?V:V.replace(/-[^]/g,de=>de[1].toUpperCase()),oe=typeof N=="object"&&N&&N.toString===DD&&(!i.utils[se]||!C.length);if(se in i.utils&&!oe){const de=i.utils[se];if(de!==f){f=de,W(de(N)),f=null;continue}}else if(se in NS){const de=NS[se];if(de!==u){u=de,W(de(N)),u=null;continue}}if(B&&(le=T.slice(1)in i.media?"@media "+i.media[T.slice(1)]:T,T=le.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(de,me,xe,Be,Ie,Qe)=>{const Tt=R_.test(me),Ct=.0625*(Tt?-1:1),[Et,jt]=Tt?[Be,me]:[me,Be];return"("+(xe[0]==="="?"":xe[0]===">"===Tt?"max-":"min-")+Et+":"+(xe[0]!=="="&&xe.length===1?jt.replace(R_,(tt,dn,Ne)=>Number(dn)+Ct*(xe===">"?1:-1)+Ne):jt)+(Ie?") and ("+(Ie[0]===">"?"min-":"max-")+Et+":"+(Ie.length===1?Qe.replace(R_,(tt,dn,Ne)=>Number(dn)+Ct*(Ie===">"?-1:1)+Ne):Qe):"")+")"})),oe){const de=B?M.concat(T):[...M],me=B?[...C]:ID(C,T.split(zD));h!==void 0&&s(jS(...h)),h=void 0,w(N,me,de)}else h===void 0&&(h=[[],C,M]),T=B||T.charCodeAt(0)!==36?T:`--${is(i.prefix)}${T.slice(1).replace(/\$/g,"-")}`,N=oe?N:typeof N=="number"?N&&se in RD?String(N)+"px":String(N):LP(AD(se,N==null?"":N),i.prefix,i.themeMap[se]),h[0].push(`${B?`${T} `:`${c1(T)}:`}${N}`)}}var le,V};W(b),h!==void 0&&s(jS(...h)),h=void 0};w(e,t,n)},jS=(e,t,n)=>`${n.map(i=>`${i}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,RD={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},US=e=>String.fromCharCode(e+(e>25?39:97)),Yl=e=>(t=>{let n,i="";for(n=Math.abs(t);n>52;n=n/52|0)i=US(n%52)+i;return US(n%52)+i})(((t,n)=>{let i=n.length;for(;i;)t=33*t^n.charCodeAt(--i);return t})(5381,JSON.stringify(e))>>>0),Id=["themed","global","styled","onevar","resonevar","allvar","inline"],LD=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch{return!1}},OD=e=>{let t;const n=()=>{const{cssRules:s}=t.sheet;return[].map.call(s,(h,f)=>{const{cssText:u}=h;let w="";if(u.startsWith("--sxs"))return"";if(s[f-1]&&(w=s[f-1].cssText).startsWith("--sxs")){if(!h.cssRules.length)return"";for(const b in t.rules)if(t.rules[b].group===h)return`--sxs{--sxs:${[...t.rules[b].cache].join(" ")}}${u}`;return h.cssRules.length?`${w}${u}`:""}return u}).join("")},i=()=>{if(t){const{rules:u,sheet:w}=t;if(!w.deleteRule){for(;Object(Object(w.cssRules)[0]).type===3;)w.cssRules.splice(0,1);w.cssRules=[]}for(const b in u)delete u[b]}const s=Object(e).styleSheets||[];for(const u of s)if(LD(u)){for(let w=0,b=u.cssRules;b[w];++w){const C=Object(b[w]);if(C.type!==1)continue;const M=Object(b[w+1]);if(M.type!==4)continue;++w;const{cssText:T}=C;if(!T.startsWith("--sxs"))continue;const N=T.slice(14,-3).trim().split(/\s+/),W=Id[N[0]];W&&(t||(t={sheet:u,reset:i,rules:{},toString:n}),t.rules[W]={group:M,index:w,cache:new Set(N)})}if(t)break}if(!t){const u=(w,b)=>({type:b,cssRules:[],insertRule(C,M){this.cssRules.splice(M,0,u(C,{import:3,undefined:1}[(C.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return w==="@media{}"?`@media{${[].map.call(this.cssRules,C=>C.cssText).join("")}}`:w}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:u("","text/css"),rules:{},reset:i,toString:n}}const{sheet:h,rules:f}=t;for(let u=Id.length-1;u>=0;--u){const w=Id[u];if(!f[w]){const b=Id[u+1],C=f[b]?f[b].index:h.cssRules.length;h.insertRule("@media{}",C),h.insertRule(`--sxs{--sxs:${u}}`,C),f[w]={group:h.cssRules[C+1],index:C,cache:new Set([u])}}FD(f[w])}};return i(),t},FD=e=>{const t=e.group;let n=t.cssRules.length;e.apply=i=>{try{t.insertRule(i,n),++n}catch{}}},vd=Symbol(),$D=Qc(),GS=(e,t)=>$D(e,()=>(...n)=>{let i={type:null,composers:new Set};for(const s of n)if(s!=null)if(s[Kl]){i.type==null&&(i.type=s[Kl].type);for(const h of s[Kl].composers)i.composers.add(h)}else s.constructor!==Object||s.$$typeof?i.type==null&&(i.type=s):i.composers.add(BD(s,e));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),VD(e,i,t)}),BD=({variants:e,compoundVariants:t,defaultVariants:n,...i},s)=>{const h=`${is(s.prefix)}c-${Yl(i)}`,f=[],u=[],w=Object.create(null),b=[];for(const T in n)w[T]=String(n[T]);if(typeof e=="object"&&e)for(const T in e){C=w,M=T,TD.call(C,M)||(w[T]="undefined");const N=e[T];for(const W in N){const H={[T]:String(W)};String(W)==="undefined"&&b.push(T);const le=N[W],V=[H,le,!VS(le)];f.push(V)}}var C,M;if(typeof t=="object"&&t)for(const T of t){let{css:N,...W}=T;N=typeof N=="object"&&N||{};for(const le in W)W[le]=String(W[le]);const H=[W,N,!VS(N)];u.push(H)}return[h,i,f,u,w,b]},VD=(e,t,n)=>{const[i,s,h,f]=ND(t.composers),u=typeof t.type=="function"||t.type.$$typeof?(M=>{function T(){for(let N=0;N<T[vd].length;N++){const[W,H]=T[vd][N];M.rules[W].apply(H)}return T[vd]=[],null}return T[vd]=[],T.rules={},Id.forEach(N=>T.rules[N]={apply:W=>T[vd].push([N,W])}),T})(n):null,w=(u||n).rules,b=`.${i}${s.length>1?`:where(.${s.slice(1).join(".")})`:""}`,C=M=>{M=typeof M=="object"&&M||jD;const{css:T,...N}=M,W={};for(const V in h)if(delete N[V],V in M){let B=M[V];typeof B=="object"&&B?W[V]={"@initial":h[V],...B}:(B=String(B),W[V]=B!=="undefined"||f.has(V)?B:h[V])}else W[V]=h[V];const H=new Set([...s]);for(const[V,B,Y,se]of t.composers){n.rules.styled.cache.has(V)||(n.rules.styled.cache.add(V),kc(B,[`.${V}`],[],e,me=>{w.styled.apply(me)}));const oe=WS(Y,W,e.media),de=WS(se,W,e.media,!0);for(const me of oe)if(me!==void 0)for(const[xe,Be,Ie]of me){const Qe=`${V}-${Yl(Be)}-${xe}`;H.add(Qe);const Tt=(Ie?n.rules.resonevar:n.rules.onevar).cache,Ct=Ie?w.resonevar:w.onevar;Tt.has(Qe)||(Tt.add(Qe),kc(Be,[`.${Qe}`],[],e,Et=>{Ct.apply(Et)}))}for(const me of de)if(me!==void 0)for(const[xe,Be]of me){const Ie=`${V}-${Yl(Be)}-${xe}`;H.add(Ie),n.rules.allvar.cache.has(Ie)||(n.rules.allvar.cache.add(Ie),kc(Be,[`.${Ie}`],[],e,Qe=>{w.allvar.apply(Qe)}))}}if(typeof T=="object"&&T){const V=`${i}-i${Yl(T)}-css`;H.add(V),n.rules.inline.cache.has(V)||(n.rules.inline.cache.add(V),kc(T,[`.${V}`],[],e,B=>{w.inline.apply(B)}))}for(const V of String(M.className||"").trim().split(/\s+/))V&&H.add(V);const le=N.className=[...H].join(" ");return{type:t.type,className:le,selector:b,props:N,toString:()=>le,deferredInjector:u}};return Qx(C,{className:i,selector:b,[Kl]:t,toString:()=>(n.rules.styled.cache.has(i)||C(),i)})},ND=e=>{let t="";const n=[],i={},s=[];for(const[h,,,,f,u]of e){t===""&&(t=h),n.push(h),s.push(...u);for(const w in f){const b=f[w];(i[w]===void 0||b!=="undefined"||u.includes(b))&&(i[w]=b)}}return[t,n,i,new Set(s)]},WS=(e,t,n,i)=>{const s=[];e:for(let[h,f,u]of e){if(u)continue;let w,b=0,C=!1;for(w in h){const M=h[w];let T=t[w];if(T!==M){if(typeof T!="object"||!T)continue e;{let N,W,H=0;for(const le in T){if(M===String(T[le])){if(le!=="@initial"){const V=le.slice(1);(W=W||[]).push(V in n?n[V]:le.replace(/^@media ?/,"")),C=!0}b+=H,N=!0}++H}if(W&&W.length&&(f={["@media "+W.join(", ")]:f}),!N)continue e}}}(s[b]=s[b]||[]).push([i?"cv":`${w}-${h[w]}`,f,C])}return s},jD={},UD=Qc(),GD=(e,t)=>UD(e,()=>(...n)=>{const i=()=>{for(let s of n){s=typeof s=="object"&&s||{};let h=Yl(s);if(!t.rules.global.cache.has(h)){if(t.rules.global.cache.add(h),"@import"in s){let f=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let u of[].concat(s["@import"]))u=u.includes('"')||u.includes("'")?u:`"${u}"`,t.sheet.insertRule(`@import ${u};`,f++);delete s["@import"]}kc(s,[],[],e,f=>{t.rules.global.apply(f)})}}return""};return Qx(i,{toString:i})}),WD=Qc(),qD=(e,t)=>WD(e,()=>n=>{const i=`${is(e.prefix)}k-${Yl(n)}`,s=()=>{if(!t.rules.global.cache.has(i)){t.rules.global.cache.add(i);const h=[];kc(n,[],[],e,u=>h.push(u));const f=`@keyframes ${i}{${h.join("")}}`;t.rules.global.apply(f)}return i};return Qx(s,{get name(){return s()},toString:s})}),ZD=class{constructor(e,t,n,i){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+is(this.prefix)+is(this.scale)+this.token}toString(){return this.computedValue}},HD=Qc(),XD=(e,t)=>HD(e,()=>(n,i)=>{i=typeof n=="object"&&n||Object(i);const s=`.${n=(n=typeof n=="string"?n:"")||`${is(e.prefix)}t-${Yl(i)}`}`,h={},f=[];for(const w in i){h[w]={};for(const b in i[w]){const C=`--${is(e.prefix)}${w}-${b}`,M=LP(String(i[w][b]),e.prefix,w);h[w][b]=new ZD(b,M,w,e.prefix),f.push(`${C}:${M}`)}}const u=()=>{if(f.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const w=`${i===e.theme?":root,":""}.${n}{${f.join(";")}}`;t.rules.themed.apply(w)}return n};return{...h,get className(){return u()},selector:s,toString:u}}),KD=Qc(),qS,YD=Qc(),OP=e=>{const t=(n=>{let i=!1;const s=KD(n,h=>{i=!0;const f="prefix"in(h=typeof h=="object"&&h||{})?String(h.prefix):"",u=typeof h.media=="object"&&h.media||{},w=typeof h.root=="object"?h.root||null:globalThis.document||null,b=typeof h.theme=="object"&&h.theme||{},C={prefix:f,media:u,theme:b,themeMap:typeof h.themeMap=="object"&&h.themeMap||{...kD},utils:typeof h.utils=="object"&&h.utils||{}},M=OD(w),T={css:GS(C,M),globalCss:GD(C,M),keyframes:qD(C,M),createTheme:XD(C,M),reset(){M.reset(),T.theme.toString()},theme:{},sheet:M,config:C,prefix:f,getCssText:M.toString,toString:M.toString};return String(T.theme=T.createTheme(b)),T});return i||s.reset(),s})(e);return t.styled=(({config:n,sheet:i})=>YD(n,()=>{const s=GS(n,i);return(...h)=>{const f=s(...h),u=f[Kl].type,w=Le.forwardRef((b,C)=>{const M=b&&b.as||u,{props:T,deferredInjector:N}=f(b);return delete T.as,T.ref=C,N?Le.createElement(Le.Fragment,null,Le.createElement(M,T),Le.createElement(N,null)):Le.createElement(M,T)});return w.className=f.className,w.displayName=`Styled.${u.displayName||u.name||u}`,w.selector=f.selector,w.toString=()=>f.selector,w[Kl]=f[Kl],w}}))(t),t},JD=()=>qS||(qS=OP()),QD=(...e)=>JD().globalCss(...e);const{styled:un}=OP({theme:{colors:{black:"rgba(0, 0, 0)",white:"rgba(236, 237, 238)",hover:"#7180B9",primary:"#3423A6",primaryText:"white"},fonts:{sans:"Inter, sans-serif"},fontSizes:{1:"12px",2:"14px",3:"16px",4:"20px",5:"24px",6:"32px"},space:{1:"10px",2:"20px",3:"40px"},sizes:{1:"4px",2:"8px",3:"16px",4:"32px",5:"64px",6:"128px"},radii:{1:"2px",2:"4px",3:"8px",round:"9999px"},fontWeights:{},lineHeights:{},letterSpacings:{},borderWidths:{},borderStyles:{},shadows:{},zIndices:{},transitions:{}}}),eR=QD({"*":{margin:0,padding:0,border:0},body:{backgroundColor:"$black",color:"$white",fontFamily:"sans-serif"}});var fo=Uint8Array,Wl=Uint16Array,FP=Uint32Array,$P=new fo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),BP=new fo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tR=new fo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VP=function(e,t){for(var n=new Wl(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var s=new FP(n[30]),i=1;i<30;++i)for(var h=n[i];h<n[i+1];++h)s[h]=h-n[i]<<5|i;return[n,s]},NP=VP($P,2),jP=NP[0],nR=NP[1];jP[28]=258,nR[258]=28;var rR=VP(BP,0),iR=rR[0],h1=new Wl(32768);for(var jn=0;jn<32768;++jn){var Ds=(jn&43690)>>>1|(jn&21845)<<1;Ds=(Ds&52428)>>>2|(Ds&13107)<<2,Ds=(Ds&61680)>>>4|(Ds&3855)<<4,h1[jn]=((Ds&65280)>>>8|(Ds&255)<<8)>>>1}var Wd=function(e,t,n){for(var i=e.length,s=0,h=new Wl(t);s<i;++s)e[s]&&++h[e[s]-1];var f=new Wl(t);for(s=0;s<t;++s)f[s]=f[s-1]+h[s-1]<<1;var u;if(n){u=new Wl(1<<t);var w=15-t;for(s=0;s<i;++s)if(e[s])for(var b=s<<4|e[s],C=t-e[s],M=f[e[s]-1]++<<C,T=M|(1<<C)-1;M<=T;++M)u[h1[M]>>>w]=b}else for(u=new Wl(i),s=0;s<i;++s)e[s]&&(u[s]=h1[f[e[s]-1]++]>>>15-e[s]);return u},zf=new fo(288);for(var jn=0;jn<144;++jn)zf[jn]=8;for(var jn=144;jn<256;++jn)zf[jn]=9;for(var jn=256;jn<280;++jn)zf[jn]=7;for(var jn=280;jn<288;++jn)zf[jn]=8;var UP=new fo(32);for(var jn=0;jn<32;++jn)UP[jn]=5;var oR=Wd(zf,9,1),aR=Wd(UP,5,1),L_=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Xo=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},O_=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},sR=function(e){return(e+7)/8|0},lR=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var i=new(e.BYTES_PER_ELEMENT==2?Wl:e.BYTES_PER_ELEMENT==4?FP:fo)(n-t);return i.set(e.subarray(t,n)),i},uR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qo=function(e,t,n){var i=new Error(t||uR[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Qo),!n)throw i;return i},ew=function(e,t,n){var i=e.length;if(!i||n&&n.f&&!n.l)return t||new fo(0);var s=!t||n,h=!n||n.i;n||(n={}),t||(t=new fo(i*3));var f=function(Ht){var Gn=t.length;if(Ht>Gn){var kr=new fo(Math.max(Gn*2,Ht));kr.set(t),t=kr}},u=n.f||0,w=n.p||0,b=n.b||0,C=n.l,M=n.d,T=n.m,N=n.n,W=i*8;do{if(!C){u=Xo(e,w,1);var H=Xo(e,w+1,3);if(w+=3,H)if(H==1)C=oR,M=aR,T=9,N=5;else if(H==2){var Y=Xo(e,w,31)+257,se=Xo(e,w+10,15)+4,oe=Y+Xo(e,w+5,31)+1;w+=14;for(var de=new fo(oe),me=new fo(19),xe=0;xe<se;++xe)me[tR[xe]]=Xo(e,w+xe*3,7);w+=se*3;for(var Be=L_(me),Ie=(1<<Be)-1,Qe=Wd(me,Be,1),xe=0;xe<oe;){var Tt=Qe[Xo(e,w,Ie)];w+=Tt&15;var le=Tt>>>4;if(le<16)de[xe++]=le;else{var Ct=0,Et=0;for(le==16?(Et=3+Xo(e,w,3),w+=2,Ct=de[xe-1]):le==17?(Et=3+Xo(e,w,7),w+=3):le==18&&(Et=11+Xo(e,w,127),w+=7);Et--;)de[xe++]=Ct}}var jt=de.subarray(0,Y),tt=de.subarray(Y);T=L_(jt),N=L_(tt),C=Wd(jt,T,1),M=Wd(tt,N,1)}else Qo(1);else{var le=sR(w)+4,V=e[le-4]|e[le-3]<<8,B=le+V;if(B>i){h&&Qo(0);break}s&&f(b+V),t.set(e.subarray(le,B),b),n.b=b+=V,n.p=w=B*8,n.f=u;continue}if(w>W){h&&Qo(0);break}}s&&f(b+131072);for(var dn=(1<<T)-1,Ne=(1<<N)-1,nt=w;;nt=w){var Ct=C[O_(e,w)&dn],ut=Ct>>>4;if(w+=Ct&15,w>W){h&&Qo(0);break}if(Ct||Qo(2),ut<256)t[b++]=ut;else if(ut==256){nt=w,C=null;break}else{var Ft=ut-254;if(ut>264){var xe=ut-257,ct=$P[xe];Ft=Xo(e,w,(1<<ct)-1)+jP[xe],w+=ct}var mn=M[O_(e,w)&Ne],rn=mn>>>4;mn||Qo(3),w+=mn&15;var tt=iR[rn];if(rn>3){var ct=BP[rn];tt+=O_(e,w)&(1<<ct)-1,w+=ct}if(w>W){h&&Qo(0);break}s&&f(b+131072);for(var Jn=b+Ft;b<Jn;b+=4)t[b]=t[b-tt],t[b+1]=t[b+1-tt],t[b+2]=t[b+2-tt],t[b+3]=t[b+3-tt];b=Jn}}n.l=C,n.p=nt,n.b=b,n.f=u,C&&(u=1,n.m=T,n.d=M,n.n=N)}while(!u);return b==t.length?t:lR(t,0,b)},cR=new fo(0),hR=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&Qo(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=e[10]|(e[11]<<8)+2);for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!e[n++]);return n+(t&2)},dR=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},fR=function(e){((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&Qo(6,"invalid zlib data"),e[1]&32&&Qo(6,"invalid zlib data: preset dictionaries not supported")};function pR(e,t){return ew(e,t)}function mR(e,t){return ew(e.subarray(hR(e),-8),t||new fo(dR(e)))}function gR(e,t){return ew((fR(e),e.subarray(2,-4)),t)}function d1(e,t){return e[0]==31&&e[1]==139&&e[2]==8?mR(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?pR(e,t):gR(e,t)}var yR=typeof TextDecoder!="undefined"&&new TextDecoder,_R=0;try{yR.decode(cR,{stream:!0}),_R=1}catch{}const GP=(e,t)=>e*Math.pow(2,t),xd=(e,t)=>Math.floor(e/Math.pow(2,t)),Cg=(e,t)=>GP(e.getUint16(t+1,!0),8)+e.getUint8(t),WP=(e,t)=>GP(e.getUint32(t+2,!0),16)+e.getUint16(t,!0),vR=(e,t,n,i,s)=>{if(e!=i.getUint8(s))return e-i.getUint8(s);const h=Cg(i,s+1);if(t!=h)return t-h;const f=Cg(i,s+4);return n!=f?n-f:0},xR=(e,t,n,i)=>{const s=qP(e,t|128,n,i);return s?{z:t,x:n,y:i,offset:s[0],length:s[1],is_dir:!0}:null},ZS=(e,t,n,i)=>{const s=qP(e,t,n,i);return s?{z:t,x:n,y:i,offset:s[0],length:s[1],is_dir:!1}:null},qP=(e,t,n,i)=>{let s=0,h=e.byteLength/17-1;for(;s<=h;){const f=h+s>>1,u=vR(t,n,i,e,f*17);if(u>0)s=f+1;else if(u<0)h=f-1;else return[WP(e,f*17+7),e.getUint32(f*17+13,!0)]}return null},wR=(e,t)=>e.is_dir&&!t.is_dir?1:!e.is_dir&&t.is_dir?-1:e.z!==t.z?e.z-t.z:e.x!==t.x?e.x-t.x:e.y-t.y,ZP=(e,t)=>{const n=e.getUint8(t*17);return{z:n&127,x:Cg(e,t*17+1),y:Cg(e,t*17+4),offset:WP(e,t*17+7),length:e.getUint32(t*17+13,!0),is_dir:n>>7===1}},HS=e=>{const t=[],n=new DataView(e);for(let i=0;i<n.byteLength/17;i++)t.push(ZP(n,i));return bR(t)},bR=e=>{e.sort(wR);const t=new ArrayBuffer(17*e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++){const s=e[i];let h=s.z;s.is_dir&&(h=h|128),n[i*17]=h,n[i*17+1]=s.x&255,n[i*17+2]=s.x>>8&255,n[i*17+3]=s.x>>16&255,n[i*17+4]=s.y&255,n[i*17+5]=s.y>>8&255,n[i*17+6]=s.y>>16&255,n[i*17+7]=s.offset&255,n[i*17+8]=xd(s.offset,8)&255,n[i*17+9]=xd(s.offset,16)&255,n[i*17+10]=xd(s.offset,24)&255,n[i*17+11]=xd(s.offset,32)&255,n[i*17+12]=xd(s.offset,48)&255,n[i*17+13]=s.length&255,n[i*17+14]=s.length>>8&255,n[i*17+15]=s.length>>16&255,n[i*17+16]=s.length>>24&255}return t},SR=(e,t)=>{if(e.byteLength<17)return null;const n=e.byteLength/17,i=ZP(e,n-1);if(i.is_dir){const s=i.z,h=t.z-s,f=Math.trunc(t.x/(1<<h)),u=Math.trunc(t.y/(1<<h));return{z:s,x:f,y:u}}return null};async function ER(e){const t=await e.getBytes(0,512e3),n=new DataView(t.data),i=n.getUint32(4,!0),s=n.getUint16(8,!0),h=new TextDecoder("utf-8"),f=JSON.parse(h.decode(new DataView(t.data,10,i)));let u=Om.Unknown;f.compression==="gzip"&&(u=Om.Gzip);let w=0;"minzoom"in f&&(w=+f.minzoom);let b=0;"maxzoom"in f&&(b=+f.maxzoom);let C=0,M=0,T=0,N=-180,W=-85,H=180,le=85;if(f.bounds){const B=f.bounds.split(",");N=+B[0],W=+B[1],H=+B[2],le=+B[3]}if(f.center){const B=f.center.split(",");C=+B[0],M=+B[1],T=+B[2]}return{specVersion:n.getUint16(2,!0),rootDirectoryOffset:10+i,rootDirectoryLength:s*17,jsonMetadataOffset:10,jsonMetadataLength:i,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:Om.None,tileCompression:u,tileType:Jl.Mvt,minZoom:w,maxZoom:b,minLon:N,minLat:W,maxLon:H,maxLat:le,centerZoom:T,centerLon:C,centerLat:M,etag:t.etag}}async function kR(e,t,n,i,s,h,f){let u=await n.getArrayBuffer(t,e.rootDirectoryOffset,e.rootDirectoryLength,e);e.specVersion===1&&(u=HS(u));const w=ZS(new DataView(u),i,s,h);if(w){let M=(await t.getBytes(w.offset,w.length,f)).data;const T=new DataView(M);return T.getUint8(0)==31&&T.getUint8(1)==139&&(M=d1(new Uint8Array(M))),{data:M}}const b=SR(new DataView(u),{z:i,x:s,y:h});if(b){const C=xR(new DataView(u),b.z,b.x,b.y);if(C){let M=await n.getArrayBuffer(t,C.offset,C.length,e);e.specVersion===1&&(M=HS(M));const T=ZS(new DataView(M),i,s,h);if(T){let W=(await t.getBytes(T.offset,T.length,f)).data;const H=new DataView(W);return H.getUint8(0)==31&&H.getUint8(1)==139&&(W=d1(new Uint8Array(W))),{data:W}}}}}var HP={getHeader:ER,getZxy:kR};class CR{constructor(){this.tile=(t,n)=>{if(t.type=="json"){const i=t.url.substr(10);let s=this.tiles.get(i);return s||(s=new Dc(i),this.tiles.set(i,s)),s.getHeader().then(h=>{const f={tiles:[t.url+"/{z}/{x}/{y}"],minzoom:h.minZoom,maxzoom:h.maxZoom};n(null,f,null,null)}),{cancel:()=>{}}}else{const i=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),s=t.url.match(i);if(!s)throw new Error("Invalid PMTiles protocol URL");const h=s[1];let f=this.tiles.get(h);f||(f=new Dc(h),this.tiles.set(h,f));const u=s[2],w=s[3],b=s[4],C=new AbortController,M=C.signal;let T=()=>{C.abort()};return f.getHeader().then(N=>{f.getZxy(+u,+w,+b,M).then(W=>{W?n(null,new Uint8Array(W.data),W.cacheControl,W.expires):N.tileType==Jl.Mvt?n(null,new Uint8Array,null,null):n(null,null,null,null)}).catch(W=>{if(W.name!=="AbortError")throw W})}),{cancel:T}}},this.tiles=new Map}add(t){this.tiles.set(t.source.getKey(),t)}get(t){return this.tiles.get(t)}}function Ju(e,t){return(t>>>0)*4294967296+(e>>>0)}function TR(e,t){const n=t.buf;let i,s;if(s=n[t.pos++],i=(s&112)>>4,s<128||(s=n[t.pos++],i|=(s&127)<<3,s<128)||(s=n[t.pos++],i|=(s&127)<<10,s<128)||(s=n[t.pos++],i|=(s&127)<<17,s<128)||(s=n[t.pos++],i|=(s&127)<<24,s<128)||(s=n[t.pos++],i|=(s&1)<<31,s<128))return Ju(e,i);throw new Error("Expected varint not more than 10 bytes")}function wd(e){const t=e.buf;let n,i;return i=t[e.pos++],n=i&127,i<128||(i=t[e.pos++],n|=(i&127)<<7,i<128)||(i=t[e.pos++],n|=(i&127)<<14,i<128)||(i=t[e.pos++],n|=(i&127)<<21,i<128)?n:(i=t[e.pos],n|=(i&15)<<28,TR(n,e))}function XP(e,t,n,i){if(i==0){n==1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);const s=t[0];t[0]=t[1],t[1]=s}}function PR(e,t){const n=Math.pow(2,e);let i=t,s=t,h=t;const f=[0,0];let u=1;for(;u<n;)i=1&h/2,s=1&(h^i),XP(u,f,i,s),f[0]+=u*i,f[1]+=u*s,h=h/4,u*=2;return[e,f[0],f[1]]}const IR=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function AR(e,t,n){if(e>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(t>Math.pow(2,e)-1||n>Math.pow(2,e)-1)throw Error("tile x/y outside zoom level bounds");const i=IR[e],s=Math.pow(2,e);let h=0,f=0,u=0;const w=[t,n];let b=s/2;for(;b>0;)h=(w[0]&b)>0?1:0,f=(w[1]&b)>0?1:0,u+=b*b*(3*h^f),XP(b,w,h,f),b=b/2;return i+u}function my(e){let t=0;for(let n=0;n<27;n++){const i=(1<<n)*(1<<n);if(t+i>e)return PR(n,e-t);t+=i}throw Error("Tile zoom level exceeds max safe number limit (26)")}var Om=(e=>(e[e.Unknown=0]="Unknown",e[e.None=1]="None",e[e.Gzip=2]="Gzip",e[e.Brotli=3]="Brotli",e[e.Zstd=4]="Zstd",e))(Om||{});async function KP(e,t){if(t===1||t===0)return e;if(t===2)return d1(new Uint8Array(e));throw Error("Compression method not supported")}var Jl=(e=>(e[e.Unknown=0]="Unknown",e[e.Mvt=1]="Mvt",e[e.Png=2]="Png",e[e.Jpeg=3]="Jpeg",e[e.Webp=4]="Webp",e))(Jl||{});const MR=127;function zR(e,t){let n=0,i=e.length-1;for(;n<=i;){const s=i+n>>1,h=t-e[s].tileId;if(h>0)n=s+1;else if(h<0)i=s-1;else return e[s]}return i>=0&&(e[i].runLength===0||t-e[i].tileId<e[i].runLength)?e[i]:null}class DR{constructor(t){this.file=t}getKey(){return this.file.name}async getBytes(t,n){return{data:await this.file.slice(t,t+n).arrayBuffer()}}}class RR{constructor(t){this.url=t}getKey(){return this.url}async getBytes(t,n,i){let s;i||(s=new AbortController,i=s.signal);let h=await fetch(this.url,{signal:i,headers:{Range:"bytes="+t+"-"+(t+n-1)}});if(h.status===416&&t===0){const w=h.headers.get("Content-Range");if(!w||!w.startsWith("bytes */"))throw Error("Missing content-length on 416 response");const b=+w.substr(8);h=await fetch(this.url,{signal:i,headers:{Range:"bytes=0-"+(b-1)}})}if(h.status>=300)throw Error("Bad response code: "+h.status);const f=h.headers.get("Content-Length");if(h.status===200&&(!f||+f>n))throw s&&s.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:await h.arrayBuffer(),etag:h.headers.get("ETag")||void 0,cacheControl:h.headers.get("Cache-Control")||void 0,expires:h.headers.get("Expires")||void 0}}}function Ko(e,t){const n=e.getUint32(t+4,!0),i=e.getUint32(t+0,!0);return n*Math.pow(2,32)+i}function LR(e,t){const n=new DataView(e),i=n.getUint8(7);if(i>3)throw Error(`Archive is spec version ${i} but this library supports up to spec version 3`);return{specVersion:i,rootDirectoryOffset:Ko(n,8),rootDirectoryLength:Ko(n,16),jsonMetadataOffset:Ko(n,24),jsonMetadataLength:Ko(n,32),leafDirectoryOffset:Ko(n,40),leafDirectoryLength:Ko(n,48),tileDataOffset:Ko(n,56),tileDataLength:Ko(n,64),numAddressedTiles:Ko(n,72),numTileEntries:Ko(n,80),numTileContents:Ko(n,88),clustered:n.getUint8(96)===1,internalCompression:n.getUint8(97),tileCompression:n.getUint8(98),tileType:n.getUint8(99),minZoom:n.getUint8(100),maxZoom:n.getUint8(101),minLon:n.getInt32(102,!0)/1e7,minLat:n.getInt32(106,!0)/1e7,maxLon:n.getInt32(110,!0)/1e7,maxLat:n.getInt32(114,!0)/1e7,centerZoom:n.getUint8(118),centerLon:n.getInt32(119,!0)/1e7,centerLat:n.getInt32(123,!0)/1e7,etag:t}}function YP(e){const t={buf:new Uint8Array(e),pos:0},n=wd(t),i=[];let s=0;for(let h=0;h<n;h++){const f=wd(t);i.push({tileId:s+f,offset:0,length:0,runLength:1}),s+=f}for(let h=0;h<n;h++)i[h].runLength=wd(t);for(let h=0;h<n;h++)i[h].length=wd(t);for(let h=0;h<n;h++){const f=wd(t);f===0&&h>0?i[h].offset=i[h-1].offset+i[h-1].length:i[h].offset=f-1}return i}function OR(e){const t=new DataView(e);return t.getUint16(2,!0)===2?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):t.getUint16(2,!0)===1?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}class Cc extends Error{}async function FR(e,t,n,i){const s=await e.getBytes(0,16384);if(new DataView(s.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");if(OR(s.data)<3)return[await HP.getHeader(e)];const f=s.data.slice(0,MR);let u=s.etag;i&&s.etag!=i&&(console.warn("ETag conflict detected; your HTTP server might not support content-based ETag headers. ETags disabled for "+e.getKey()),u=void 0);const w=LR(f,u);if(n){const b=s.data.slice(w.rootDirectoryOffset,w.rootDirectoryOffset+w.rootDirectoryLength),C=e.getKey()+"|"+(w.etag||"")+"|"+w.rootDirectoryOffset+"|"+w.rootDirectoryLength,M=YP(await t(b,w.internalCompression));return[w,[C,M.length,M]]}return[w,void 0]}async function $R(e,t,n,i,s){const h=await e.getBytes(n,i);if(s.etag&&s.etag!==h.etag)throw new Cc(h.etag);const f=await t(h.data,s.internalCompression),u=YP(f);if(u.length===0)throw new Error("Empty directory is invalid");return u}class BR{constructor(t=100,n=!0,i=KP){this.cache=new Map,this.maxCacheEntries=t,this.counter=1,this.prefetch=n,this.decompress=i}async getHeader(t,n){const i=t.getKey();if(this.cache.has(i))return this.cache.get(i).lastUsed=this.counter++,await this.cache.get(i).data;const s=new Promise((h,f)=>{FR(t,this.decompress,this.prefetch,n).then(u=>{u[1]&&this.cache.set(u[1][0],{lastUsed:this.counter++,data:Promise.resolve(u[1][2])}),h(u[0]),this.prune()}).catch(u=>{f(u)})});return this.cache.set(i,{lastUsed:this.counter++,data:s}),s}async getDirectory(t,n,i,s){const h=t.getKey()+"|"+(s.etag||"")+"|"+n+"|"+i;if(this.cache.has(h))return this.cache.get(h).lastUsed=this.counter++,await this.cache.get(h).data;const f=new Promise((u,w)=>{$R(t,this.decompress,n,i,s).then(b=>{u(b),this.prune()}).catch(b=>{w(b)})});return this.cache.set(h,{lastUsed:this.counter++,data:f}),f}async getArrayBuffer(t,n,i,s){const h=t.getKey()+"|"+(s.etag||"")+"|"+n+"|"+i;if(this.cache.has(h))return this.cache.get(h).lastUsed=this.counter++,await this.cache.get(h).data;const f=new Promise((u,w)=>{t.getBytes(n,i).then(b=>{if(s.etag&&s.etag!==b.etag)throw new Cc(b.etag);u(b.data),this.cache.has(h),this.prune()}).catch(b=>{w(b)})});return this.cache.set(h,{lastUsed:this.counter++,data:f}),f}prune(){if(this.cache.size>=this.maxCacheEntries){let t=1/0,n;this.cache.forEach((i,s)=>{i.lastUsed<t&&(t=i.lastUsed,n=s)}),n&&this.cache.delete(n)}}async invalidate(t,n){this.cache.delete(t.getKey()),await this.getHeader(t,n)}}class Dc{constructor(t,n,i){typeof t=="string"?this.source=new RR(t):this.source=t,i?this.decompress=i:this.decompress=KP,n?this.cache=n:this.cache=new BR}async getHeader(){return await this.cache.getHeader(this.source)}async getZxyAttempt(t,n,i,s){const h=AR(t,n,i),f=await this.cache.getHeader(this.source);if(f.specVersion<3)return HP.getZxy(f,this.source,this.cache,t,n,i,s);if(t<f.minZoom||t>f.maxZoom)return;let u=f.rootDirectoryOffset,w=f.rootDirectoryLength;for(let b=0;b<=3;b++){const C=await this.cache.getDirectory(this.source,u,w,f),M=zR(C,h);if(M)if(M.runLength>0){const T=await this.source.getBytes(f.tileDataOffset+M.offset,M.length,s);if(f.etag&&f.etag!==T.etag)throw new Cc(T.etag);return{data:await this.decompress(T.data,f.tileCompression),cacheControl:T.cacheControl,expires:T.expires}}else u=f.leafDirectoryOffset+M.offset,w=M.length;else return}throw Error("Maximum directory depth exceeded")}async getZxy(t,n,i,s){try{return await this.getZxyAttempt(t,n,i,s)}catch(h){if(h instanceof Cc)return this.cache.invalidate(this.source,h.message),await this.getZxyAttempt(t,n,i,s);throw h}}async getMetadataAttempt(){const t=await this.cache.getHeader(this.source),n=await this.source.getBytes(t.jsonMetadataOffset,t.jsonMetadataLength);if(t.etag&&t.etag!==n.etag)throw new Cc(n.etag);const i=await this.decompress(n.data,t.internalCompression),s=new TextDecoder("utf-8");return JSON.parse(s.decode(i))}async getMetadata(){try{return await this.getMetadataAttempt()}catch(t){if(t instanceof Cc)return this.cache.invalidate(this.source,t.message),await this.getMetadataAttempt();throw t}}}function JP(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,h;for(h=0;h<i.length;h++)s=i[h],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var VR=["color"],NR=j.exports.forwardRef(function(e,t){var n=e.color,i=n===void 0?"currentColor":n,s=JP(e,VR);return j.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),j.exports.createElement("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),jR=["color"],UR=j.exports.forwardRef(function(e,t){var n=e.color,i=n===void 0?"currentColor":n,s=JP(e,jR);return j.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),j.exports.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});function QP(...e){return t=>e.forEach(n=>function(i,s){typeof i=="function"?i(s):i!=null&&(i.current=s)}(n,t))}function os(...e){return j.exports.useCallback(QP(...e),e)}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},We.apply(this,arguments)}const mf=j.exports.forwardRef((e,t)=>{const{children:n,...i}=e;return j.exports.Children.toArray(n).some(XS)?j.exports.createElement(j.exports.Fragment,null,j.exports.Children.map(n,s=>XS(s)?j.exports.createElement(f1,We({},i,{ref:t}),s.props.children):s)):j.exports.createElement(f1,We({},i,{ref:t}),n)});mf.displayName="Slot";const f1=j.exports.forwardRef((e,t)=>{const{children:n,...i}=e;return j.exports.isValidElement(n)?j.exports.cloneElement(n,{...WR(i,n.props),ref:QP(t,n.ref)}):j.exports.Children.count(n)>1?j.exports.Children.only(null):null});f1.displayName="SlotClone";const GR=({children:e})=>j.exports.createElement(j.exports.Fragment,null,e);function XS(e){return j.exports.isValidElement(e)&&e.type===GR}function WR(e,t){const n={...t};for(const i in t){const s=e[i],h=t[i];/^on[A-Z]/.test(i)?n[i]=(...f)=>{h==null||h(...f),s==null||s(...f)}:i==="style"?n[i]={...s,...h}:i==="className"&&(n[i]=[s,h].filter(Boolean).join(" "))}return{...e,...n}}var qR=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qu=new WeakMap,am=new WeakMap,sm={},F_=0,ZR=function(e,t,n){t===void 0&&(t=qR(e)),n===void 0&&(n="data-aria-hidden");var i=Array.isArray(e)?e:[e];sm[n]||(sm[n]=new WeakMap);var s=sm[n],h=[],f=new Set,u=function(b){!b||f.has(b)||(f.add(b),u(b.parentNode))};i.forEach(u);var w=function(b){!b||i.indexOf(b)>=0||Array.prototype.forEach.call(b.children,function(C){if(f.has(C))w(C);else{var M=C.getAttribute("aria-hidden"),T=M!==null&&M!=="false",N=(Qu.get(C)||0)+1,W=(s.get(C)||0)+1;Qu.set(C,N),s.set(C,W),h.push(C),N===1&&T&&am.set(C,!0),W===1&&C.setAttribute(n,"true"),T||C.setAttribute("aria-hidden","true")}})};return w(t),f.clear(),F_++,function(){h.forEach(function(b){var C=Qu.get(b)-1,M=s.get(b)-1;Qu.set(b,C),s.set(b,M),C||(am.has(b)||b.removeAttribute("aria-hidden"),am.delete(b)),M||b.removeAttribute(n)}),F_--,F_||(Qu=new WeakMap,Qu=new WeakMap,am=new WeakMap,sm={})}},Bs=function(){return Bs=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(t[h]=n[h])}return t},Bs.apply(this,arguments)};function HR(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function XR(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,h;i<s;i++)(h||!(i in t))&&(h||(h=Array.prototype.slice.call(t,0,i)),h[i]=t[i]);return e.concat(h||Array.prototype.slice.call(t))}var Fm="right-scroll-bar-position",$m="width-before-scroll-bar",KR="with-scroll-bars-hidden",YR="--removed-body-scroll-bar-size";function JR(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function QR(e,t){var n=j.exports.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}function eL(e,t){return QR(t||null,function(n){return e.forEach(function(i){return JR(i,n)})})}var Tg=function(){return Tg=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(t[h]=n[h])}return t},Tg.apply(this,arguments)};function tL(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function nL(e){return e}function rL(e,t){t===void 0&&(t=nL);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(h){var f=t(h,i);return n.push(f),function(){n=n.filter(function(u){return u!==f})}},assignSyncMedium:function(h){for(i=!0;n.length;){var f=n;n=[],f.forEach(h)}n={push:function(u){return h(u)},filter:function(){return n}}},assignMedium:function(h){i=!0;var f=[];if(n.length){var u=n;n=[],u.forEach(h),f=n}var w=function(){var C=f;f=[],C.forEach(h)},b=function(){return Promise.resolve().then(w)};b(),n={push:function(C){f.push(C),b()},filter:function(C){return f=f.filter(C),n}}}};return s}function iL(e){e===void 0&&(e={});var t=rL(null);return t.options=Tg({async:!0,ssr:!1},e),t}var eI=function(e){var t=e.sideCar,n=tL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return j.exports.createElement(i,Tg({},n))};eI.isSideCarExport=!0;function oL(e,t){return e.useMedium(t),eI}var tI=iL(),$_=function(){},gy=j.exports.forwardRef(function(e,t){var n=j.exports.useRef(null),i=j.exports.useState({onScrollCapture:$_,onWheelCapture:$_,onTouchMoveCapture:$_}),s=i[0],h=i[1],f=e.forwardProps,u=e.children,w=e.className,b=e.removeScrollBar,C=e.enabled,M=e.shards,T=e.sideCar,N=e.noIsolation,W=e.inert,H=e.allowPinchZoom,le=e.as,V=le===void 0?"div":le,B=HR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),Y=T,se=eL([n,t]),oe=Bs(Bs({},B),s);return j.exports.createElement(j.exports.Fragment,null,C&&j.exports.createElement(Y,{sideCar:tI,removeScrollBar:b,shards:M,noIsolation:N,inert:W,setCallbacks:h,allowPinchZoom:!!H,lockRef:n}),f?j.exports.cloneElement(j.exports.Children.only(u),Bs(Bs({},oe),{ref:se})):j.exports.createElement(V,Bs({},oe,{className:w,ref:se}),u))});gy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gy.classNames={fullWidth:$m,zeroRight:Fm};var aL=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function sL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aL();return t&&e.setAttribute("nonce",t),e}function lL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=sL())&&(lL(t,n),uL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hL=function(){var e=cL();return function(t){j.exports.useEffect(function(){return e.add(t),function(){e.remove()}},[t])}},nI=function(){var e=hL(),t=function(n){var i=n.styles;return e(i),null};return t},dL={left:0,top:0,right:0,gap:0},B_=function(e){return parseInt(e||"",10)||0},fL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[B_(n),B_(i),B_(s)]},KS=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return dL;var t=fL(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},pL=nI(),mL=function(e,t,n,i){var s=e.left,h=e.top,f=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(KR,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(u,"px ").concat(i,`;
  }
  body {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(h,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fm,` {
    right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat($m,` {
    margin-right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(Fm," .").concat(Fm,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat($m," .").concat($m,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body {
    `).concat(YR,": ").concat(u,`px;
  }
`)},gL=function(e){var t=j.exports.useState(KS(e.gapMode)),n=t[0],i=t[1];j.exports.useEffect(function(){i(KS(e.gapMode))},[e.gapMode]);var s=e.noRelative,h=e.noImportant,f=e.gapMode,u=f===void 0?"margin":f;return j.exports.createElement(pL,{styles:mL(n,!s,u,h?"":"!important")})},p1=!1;if(typeof window!="undefined")try{var lm=Object.defineProperty({},"passive",{get:function(){return p1=!0,!0}});window.addEventListener("test",lm,lm),window.removeEventListener("test",lm,lm)}catch{p1=!1}var ec=p1?{passive:!1}:!1,yL=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},_L=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},YS=function(e,t){var n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var i=rI(e,n);if(i){var s=iI(e,n),h=s[1],f=s[2];if(h>f)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},vL=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},xL=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},rI=function(e,t){return e==="v"?yL(t):_L(t)},iI=function(e,t){return e==="v"?vL(t):xL(t)},wL=function(e,t){return e==="h"&&t==="rtl"?-1:1},bL=function(e,t,n,i,s){var h=wL(e,window.getComputedStyle(t).direction),f=h*i,u=n.target,w=t.contains(u),b=!1,C=f>0,M=0,T=0;do{var N=iI(e,u),W=N[0],H=N[1],le=N[2],V=H-le-h*W;(W||V)&&rI(e,u)&&(M+=V,T+=W),u=u.parentNode}while(!w&&u!==document.body||w&&(t.contains(u)||t===u));return(C&&(s&&M===0||!s&&f>M)||!C&&(s&&T===0||!s&&-f>T))&&(b=!0),b},um=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},JS=function(e){return[e.deltaX,e.deltaY]},QS=function(e){return e&&"current"in e?e.current:e},SL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},EL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kL=0,tc=[];function CL(e){var t=j.exports.useRef([]),n=j.exports.useRef([0,0]),i=j.exports.useRef(),s=j.exports.useState(kL++)[0],h=j.exports.useState(function(){return nI()})[0],f=j.exports.useRef(e);j.exports.useEffect(function(){f.current=e},[e]),j.exports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var H=XR([e.lockRef.current],(e.shards||[]).map(QS),!0).filter(Boolean);return H.forEach(function(le){return le.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),H.forEach(function(le){return le.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=j.exports.useCallback(function(H,le){if("touches"in H&&H.touches.length===2)return!f.current.allowPinchZoom;var V=um(H),B=n.current,Y="deltaX"in H?H.deltaX:B[0]-V[0],se="deltaY"in H?H.deltaY:B[1]-V[1],oe,de=H.target,me=Math.abs(Y)>Math.abs(se)?"h":"v";if("touches"in H&&me==="h"&&de.type==="range")return!1;var xe=YS(me,de);if(!xe)return!0;if(xe?oe=me:(oe=me==="v"?"h":"v",xe=YS(me,de)),!xe)return!1;if(!i.current&&"changedTouches"in H&&(Y||se)&&(i.current=oe),!oe)return!0;var Be=i.current||oe;return bL(Be,le,H,Be==="h"?Y:se,!0)},[]),w=j.exports.useCallback(function(H){var le=H;if(!(!tc.length||tc[tc.length-1]!==h)){var V="deltaY"in le?JS(le):um(le),B=t.current.filter(function(oe){return oe.name===le.type&&oe.target===le.target&&SL(oe.delta,V)})[0];if(B&&B.should){le.preventDefault();return}if(!B){var Y=(f.current.shards||[]).map(QS).filter(Boolean).filter(function(oe){return oe.contains(le.target)}),se=Y.length>0?u(le,Y[0]):!f.current.noIsolation;se&&le.preventDefault()}}},[]),b=j.exports.useCallback(function(H,le,V,B){var Y={name:H,delta:le,target:V,should:B};t.current.push(Y),setTimeout(function(){t.current=t.current.filter(function(se){return se!==Y})},1)},[]),C=j.exports.useCallback(function(H){n.current=um(H),i.current=void 0},[]),M=j.exports.useCallback(function(H){b(H.type,JS(H),H.target,u(H,e.lockRef.current))},[]),T=j.exports.useCallback(function(H){b(H.type,um(H),H.target,u(H,e.lockRef.current))},[]);j.exports.useEffect(function(){return tc.push(h),e.setCallbacks({onScrollCapture:M,onWheelCapture:M,onTouchMoveCapture:T}),document.addEventListener("wheel",w,ec),document.addEventListener("touchmove",w,ec),document.addEventListener("touchstart",C,ec),function(){tc=tc.filter(function(H){return H!==h}),document.removeEventListener("wheel",w,ec),document.removeEventListener("touchmove",w,ec),document.removeEventListener("touchstart",C,ec)}},[]);var N=e.removeScrollBar,W=e.inert;return j.exports.createElement(j.exports.Fragment,null,W?j.exports.createElement(h,{styles:EL(s)}):null,N?j.exports.createElement(gL,{gapMode:"margin"}):null)}var TL=oL(tI,CL),oI=j.exports.forwardRef(function(e,t){return j.exports.createElement(gy,Bs({},e,{ref:t,sideCar:TL}))});oI.classNames=gy.classNames;var PL=oI;let V_=0;function IL(){j.exports.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:eE()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:eE()),V_++,()=>{V_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(i=>i.remove()),V_--}},[])}function eE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Hi=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>({...e,[t]:j.exports.forwardRef((n,i)=>{const{asChild:s,...h}=n,f=s?mf:t;return j.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),j.exports.createElement(f,We({},h,{ref:i}))})}),{}),Pg=Boolean(globalThis==null?void 0:globalThis.document)?j.exports.useLayoutEffect:()=>{},yy=e=>{const{present:t,children:n}=e,i=function(f){const[u,w]=j.exports.useState(),b=j.exports.useRef({}),C=j.exports.useRef(f),M=j.exports.useRef("none"),T=f?"mounted":"unmounted",[N,W]=function(H,le){return j.exports.useReducer((V,B)=>{const Y=le[V][B];return Y!=null?Y:V},H)}(T,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.exports.useEffect(()=>{const H=cm(b.current);M.current=N==="mounted"?H:"none"},[N]),Pg(()=>{const H=b.current,le=C.current;if(le!==f){const V=M.current,B=cm(H);f?W("MOUNT"):B==="none"||(H==null?void 0:H.display)==="none"?W("UNMOUNT"):W(le&&V!==B?"ANIMATION_OUT":"UNMOUNT"),C.current=f}},[f,W]),Pg(()=>{if(u){const H=V=>{const B=cm(b.current).includes(V.animationName);V.target===u&&B&&W("ANIMATION_END")},le=V=>{V.target===u&&(M.current=cm(b.current))};return u.addEventListener("animationstart",le),u.addEventListener("animationcancel",H),u.addEventListener("animationend",H),()=>{u.removeEventListener("animationstart",le),u.removeEventListener("animationcancel",H),u.removeEventListener("animationend",H)}}W("ANIMATION_END")},[u,W]),{isPresent:["mounted","unmountSuspended"].includes(N),ref:j.exports.useCallback(H=>{H&&(b.current=getComputedStyle(H)),w(H)},[])}}(t),s=typeof n=="function"?n({present:i.isPresent}):j.exports.Children.only(n),h=os(i.ref,s.ref);return typeof n=="function"||i.isPresent?j.exports.cloneElement(s,{ref:h}):null};function cm(e){return(e==null?void 0:e.animationName)||"none"}yy.displayName="Presence";const AL=j.exports.forwardRef((e,t)=>{var n;const{container:i=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return i?ED.createPortal(j.exports.createElement(Hi.div,We({},s,{ref:t})),i):null});function tl(e){const t=j.exports.useRef(e);return j.exports.useEffect(()=>{t.current=e}),j.exports.useMemo(()=>(...n)=>{var i;return(i=t.current)===null||i===void 0?void 0:i.call(t,...n)},[])}const tE={bubbles:!1,cancelable:!0},ML=j.exports.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:h,...f}=e,[u,w]=j.exports.useState(null),b=tl(s),C=tl(h),M=j.exports.useRef(null),T=os(t,H=>w(H)),N=j.exports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.exports.useEffect(()=>{if(i){let V=function(Y){if(N.paused||!u)return;const se=Y.target;u.contains(se)?M.current=se:Rl(M.current,{select:!0})},B=function(Y){!N.paused&&u&&(u.contains(Y.relatedTarget)||Rl(M.current,{select:!0}))};var le=V,H=B;return document.addEventListener("focusin",V),document.addEventListener("focusout",B),()=>{document.removeEventListener("focusin",V),document.removeEventListener("focusout",B)}}},[i,u,N.paused]),j.exports.useEffect(()=>{if(u){iE.add(N);const le=document.activeElement;if(!u.contains(le)){const V=new Event("focusScope.autoFocusOnMount",tE);u.addEventListener("focusScope.autoFocusOnMount",b),u.dispatchEvent(V),V.defaultPrevented||(function(B,{select:Y=!1}={}){const se=document.activeElement;for(const oe of B)if(Rl(oe,{select:Y}),document.activeElement!==se)return}((H=nE(u),H.filter(B=>B.tagName!=="A")),{select:!0}),document.activeElement===le&&Rl(u))}return()=>{u.removeEventListener("focusScope.autoFocusOnMount",b),setTimeout(()=>{const V=new Event("focusScope.autoFocusOnUnmount",tE);u.addEventListener("focusScope.autoFocusOnUnmount",C),u.dispatchEvent(V),V.defaultPrevented||Rl(le!=null?le:document.body,{select:!0}),u.removeEventListener("focusScope.autoFocusOnUnmount",C),iE.remove(N)},0)}}var H},[u,b,C,N]);const W=j.exports.useCallback(H=>{if(!n&&!i||N.paused)return;const le=H.key==="Tab"&&!H.altKey&&!H.ctrlKey&&!H.metaKey,V=document.activeElement;if(le&&V){const B=H.currentTarget,[Y,se]=function(oe){const de=nE(oe),me=rE(de,oe),xe=rE(de.reverse(),oe);return[me,xe]}(B);Y&&se?H.shiftKey||V!==se?H.shiftKey&&V===Y&&(H.preventDefault(),n&&Rl(se,{select:!0})):(H.preventDefault(),n&&Rl(Y,{select:!0})):V===B&&H.preventDefault()}},[n,i,N.paused]);return j.exports.createElement(Hi.div,We({tabIndex:-1},f,{ref:T,onKeyDown:W}))});function nE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rE(e,t){for(const n of e)if(!zL(n,{upTo:t}))return n}function zL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(i){return i instanceof HTMLInputElement&&"select"in i}(e)&&t&&e.select()}}const iE=function(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=oE(e,t),e.unshift(t)},remove(t){var n;e=oE(e,t),(n=e[0])===null||n===void 0||n.resume()}}}();function oE(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function DL(e){const t=tl(e);j.exports.useEffect(()=>{const n=i=>{i.key==="Escape"&&t(i)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}let aE,hm=0;function RL({disabled:e}){const t=j.exports.useRef(!1);Pg(()=>{if(e){let s=function(){hm--,hm===0&&(document.body.style.pointerEvents=aE)},h=function(f){t.current=f.pointerType!=="mouse"};var n=s,i=h;return hm===0&&(aE=document.body.style.pointerEvents),document.body.style.pointerEvents="none",hm++,document.addEventListener("pointerup",h),()=>{t.current?document.addEventListener("click",s,{once:!0}):s(),document.removeEventListener("pointerup",h)}}},[e])}function Ai(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}const LL=j.exports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OL=j.exports.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:h,onInteractOutside:f,onDismiss:u,...w}=e,b=j.exports.useContext(LL),[C,M]=j.exports.useState(null),[,T]=j.exports.useState({}),N=os(t,de=>M(de)),W=Array.from(b.layers),[H]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),le=W.indexOf(H),V=C?W.indexOf(C):-1,B=b.layersWithOutsidePointerEventsDisabled.size>0,Y=V>=le,se=function(de){const me=tl(de),xe=j.exports.useRef(!1);return j.exports.useEffect(()=>{const Be=Qe=>{Qe.target&&!xe.current&&lE("dismissableLayer.pointerDownOutside",me,{originalEvent:Qe}),xe.current=!1},Ie=window.setTimeout(()=>{document.addEventListener("pointerdown",Be)},0);return()=>{window.clearTimeout(Ie),document.removeEventListener("pointerdown",Be)}},[me]),{onPointerDownCapture:()=>xe.current=!0}}(de=>{const me=de.target,xe=[...b.branches].some(Be=>Be.contains(me));Y&&!xe&&(s==null||s(de),f==null||f(de),de.defaultPrevented||u==null||u())}),oe=function(de){const me=tl(de),xe=j.exports.useRef(!1);return j.exports.useEffect(()=>{const Be=Ie=>{Ie.target&&!xe.current&&lE("dismissableLayer.focusOutside",me,{originalEvent:Ie})};return document.addEventListener("focusin",Be),()=>document.removeEventListener("focusin",Be)},[me]),{onFocusCapture:()=>xe.current=!0,onBlurCapture:()=>xe.current=!1}}(de=>{const me=de.target;[...b.branches].some(xe=>xe.contains(me))||(h==null||h(de),f==null||f(de),de.defaultPrevented||u==null||u())});return DL(de=>{V===b.layers.size-1&&(i==null||i(de),de.defaultPrevented||u==null||u())}),RL({disabled:n}),j.exports.useEffect(()=>{C&&(n&&b.layersWithOutsidePointerEventsDisabled.add(C),b.layers.add(C),sE())},[C,n,b]),j.exports.useEffect(()=>()=>{C&&(b.layers.delete(C),b.layersWithOutsidePointerEventsDisabled.delete(C),sE())},[C,b]),j.exports.useEffect(()=>{const de=()=>T({});return document.addEventListener("dismissableLayer.update",de),()=>document.removeEventListener("dismissableLayer.update",de)},[]),j.exports.createElement(Hi.div,We({},w,{ref:N,style:{pointerEvents:B?Y?"auto":"none":void 0,...e.style},onFocusCapture:Ai(e.onFocusCapture,oe.onFocusCapture),onBlurCapture:Ai(e.onBlurCapture,oe.onBlurCapture),onPointerDownCapture:Ai(e.onPointerDownCapture,se.onPointerDownCapture)}))});function sE(){const e=new Event("dismissableLayer.update");document.dispatchEvent(e)}function lE(e,t,n){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});return t&&i.addEventListener(e,t,{once:!0}),!i.dispatchEvent(s)}function Df({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,s]=function({defaultProp:w,onChange:b}){const C=j.exports.useState(w),[M]=C,T=j.exports.useRef(M),N=tl(b);return j.exports.useEffect(()=>{T.current!==M&&(N(M),T.current=M)},[M,T,N]),C}({defaultProp:t,onChange:n}),h=e!==void 0,f=h?e:i,u=tl(n);return[f,j.exports.useCallback(w=>{if(h){const b=w,C=typeof w=="function"?b(e):w;C!==e&&u(C)}else s(w)},[h,e,s,u])]}const FL=yv["useId".toString()]||(()=>{});let $L=0;function qd(e){const[t,n]=j.exports.useState(FL());return Pg(()=>{e||n(i=>i!=null?i:String($L++))},[e]),e||(t?`radix-${t}`:"")}function aI(e,t){const n=j.exports.createContext(t);function i(s){const{children:h,...f}=s,u=j.exports.useMemo(()=>f,Object.values(f));return j.exports.createElement(n.Provider,{value:u},h)}return i.displayName=e+"Provider",[i,function(s){const h=j.exports.useContext(n);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}]}function Rf(e,t=[]){let n=[];const i=()=>{const s=n.map(h=>j.exports.createContext(h));return function(h){const f=(h==null?void 0:h[e])||s;return j.exports.useMemo(()=>({[`__scope${e}`]:{...h,[e]:f}}),[h,f])}};return i.scopeName=e,[function(s,h){const f=j.exports.createContext(h),u=n.length;function w(b){const{scope:C,children:M,...T}=b,N=(C==null?void 0:C[e][u])||f,W=j.exports.useMemo(()=>T,Object.values(T));return j.exports.createElement(N.Provider,{value:W},M)}return n=[...n,h],w.displayName=s+"Provider",[w,function(b,C){const M=(C==null?void 0:C[e][u])||f,T=j.exports.useContext(M);if(T)return T;if(h!==void 0)return h;throw new Error(`\`${b}\` must be used within \`${s}\``)}]},BL(i,...t)]}function BL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const h=i.reduce((f,{useScope:u,scopeName:w})=>({...f,...u(s)[`__scope${w}`]}),{});return j.exports.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}const[VL,iq]=Rf("Dialog"),[NL,al]=VL("Dialog"),jL=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:h,modal:f=!0,allowPinchZoom:u}=e,w=j.exports.useRef(null),b=j.exports.useRef(null),[C=!1,M]=Df({prop:i,defaultProp:s,onChange:h});return j.exports.createElement(NL,{scope:t,triggerRef:w,contentRef:b,contentId:qd(),titleId:qd(),descriptionId:qd(),open:C,onOpenChange:M,onOpenToggle:j.exports.useCallback(()=>M(T=>!T),[M]),modal:f,allowPinchZoom:u},n)},UL=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,h=al("DialogPortal",t);return j.exports.createElement(j.exports.Fragment,null,j.exports.Children.map(i,f=>j.exports.createElement(yy,{present:n||h.open},j.exports.createElement(AL,{asChild:!0,container:s},f))))},GL=j.exports.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=al("DialogOverlay",e.__scopeDialog);return s.modal?j.exports.createElement(yy,{present:n||s.open},j.exports.createElement(WL,We({},i,{ref:t}))):null}),WL=j.exports.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=al("DialogOverlay",n);return j.exports.createElement(PL,{as:mf,allowPinchZoom:s.allowPinchZoom,shards:[s.contentRef]},j.exports.createElement(Hi.div,We({"data-state":lI(s.open)},i,{ref:t,style:{pointerEvents:"auto",...i.style}})))}),qL=j.exports.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=al("DialogContent",e.__scopeDialog);return j.exports.createElement(yy,{present:n||s.open},s.modal?j.exports.createElement(ZL,We({},i,{ref:t})):j.exports.createElement(HL,We({},i,{ref:t})))}),ZL=j.exports.forwardRef((e,t)=>{const n=al("DialogContent",e.__scopeDialog),i=j.exports.useRef(null),s=os(t,n.contentRef,i);return j.exports.useEffect(()=>{const h=i.current;if(h)return ZR(h)},[]),j.exports.createElement(sI,We({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ai(e.onCloseAutoFocus,h=>{var f;h.preventDefault(),(f=n.triggerRef.current)===null||f===void 0||f.focus()}),onPointerDownOutside:Ai(e.onPointerDownOutside,h=>{const f=h.detail.originalEvent,u=f.button===0&&f.ctrlKey===!0;(f.button===2||u)&&h.preventDefault()}),onFocusOutside:Ai(e.onFocusOutside,h=>h.preventDefault())}))}),HL=j.exports.forwardRef((e,t)=>{const n=al("DialogContent",e.__scopeDialog),i=j.exports.useRef(!1);return j.exports.createElement(sI,We({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var h,f;(h=e.onCloseAutoFocus)===null||h===void 0||h.call(e,s),s.defaultPrevented||(i.current||(f=n.triggerRef.current)===null||f===void 0||f.focus(),s.preventDefault()),i.current=!1},onInteractOutside:s=>{var h,f;(h=e.onInteractOutside)===null||h===void 0||h.call(e,s),s.defaultPrevented||(i.current=!0);const u=s.target;!((f=n.triggerRef.current)===null||f===void 0)&&f.contains(u)&&s.preventDefault()}}))}),sI=j.exports.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:h,...f}=e,u=al("DialogContent",n),w=j.exports.useRef(null),b=os(t,w);return IL(),j.exports.createElement(j.exports.Fragment,null,j.exports.createElement(ML,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:h},j.exports.createElement(OL,We({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":lI(u.open)},f,{ref:b,onDismiss:()=>u.onOpenChange(!1)}))),!1)}),XL=j.exports.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=al("DialogClose",n);return j.exports.createElement(Hi.button,We({type:"button"},i,{ref:t,onClick:Ai(e.onClick,()=>s.onOpenChange(!1))}))});function lI(e){return e?"open":"closed"}aI("DialogTitleWarning",{contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"});const KL=jL,YL=UL,JL=GL,QL=qL,e6=XL;var uI={exports:{}},t6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n6=t6,r6=n6;function cI(){}function hI(){}hI.resetWarningCache=cI;var i6=function(){function e(i,s,h,f,u,w){if(w!==r6){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hI,resetWarningCache:cI};return n.PropTypes=n,n};uI.exports=i6();var Te=uI.exports;function eh(e,t,n,i){function s(h){return h instanceof n?h:new n(function(f){f(h)})}return new(n||(n=Promise))(function(h,f){function u(C){try{b(i.next(C))}catch(M){f(M)}}function w(C){try{b(i.throw(C))}catch(M){f(M)}}function b(C){C.done?h(C.value):s(C.value).then(u,w)}b((i=i.apply(e,t||[])).next())})}function th(e,t){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},i,s,h,f;return f={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function u(b){return function(C){return w([b,C])}}function w(b){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(h=b[0]&2?s.return:b[0]?s.throw||((h=s.return)&&h.call(s),0):s.next)&&!(h=h.call(s,b[1])).done)return h;switch(s=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return n.label++,{value:b[1],done:!1};case 5:n.label++,s=b[1],b=[0];continue;case 7:b=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){n=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){n.label=b[1];break}if(b[0]===6&&n.label<h[1]){n.label=h[1],h=b;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(b);break}h[2]&&n.ops.pop(),n.trys.pop();continue}b=t.call(e,n)}catch(C){b=[6,C],s=0}finally{i=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function o6(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,h=[],f;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)h.push(s.value)}catch(u){f={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(f)throw f.error}}return h}function a6(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o6(arguments[t]));return e}var s6=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Lf(e,t){var n=l6(e);if(typeof n.path!="string"){var i=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof i=="string"&&i.length>0?i:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function l6(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var i=t.split(".").pop().toLowerCase(),s=s6.get(i);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var u6=[".DS_Store","Thumbs.db"];function c6(e){return eh(this,void 0,void 0,function(){return th(this,function(t){return Ig(e)&&h6(e)?[2,m6(e.dataTransfer,e.type)]:d6(e)?[2,f6(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,p6(e)]:[2,[]]})})}function h6(e){return Ig(e.dataTransfer)}function d6(e){return Ig(e)&&Ig(e.target)}function Ig(e){return typeof e=="object"&&e!==null}function f6(e){return m1(e.target.files).map(function(t){return Lf(t)})}function p6(e){return eh(this,void 0,void 0,function(){var t;return th(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return i.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(i){return Lf(i)})]}})})}function m6(e,t){return eh(this,void 0,void 0,function(){var n,i;return th(this,function(s){switch(s.label){case 0:return e===null?[2,[]]:e.items?(n=m1(e.items).filter(function(h){return h.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(g6))]):[3,2];case 1:return i=s.sent(),[2,uE(dI(i))];case 2:return[2,uE(m1(e.files).map(function(h){return Lf(h)}))]}})})}function uE(e){return e.filter(function(t){return u6.indexOf(t.name)===-1})}function m1(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function g6(e){if(typeof e.webkitGetAsEntry!="function")return cE(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?fI(t):cE(e)}function dI(e){return e.reduce(function(t,n){return a6(t,Array.isArray(n)?dI(n):[n])},[])}function cE(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=Lf(t);return Promise.resolve(n)}function y6(e){return eh(this,void 0,void 0,function(){return th(this,function(t){return[2,e.isDirectory?fI(e):_6(e)]})})}function fI(e){var t=e.createReader();return new Promise(function(n,i){var s=[];function h(){var f=this;t.readEntries(function(u){return eh(f,void 0,void 0,function(){var w,b,C;return th(this,function(M){switch(M.label){case 0:if(u.length)return[3,5];M.label=1;case 1:return M.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return w=M.sent(),n(w),[3,4];case 3:return b=M.sent(),i(b),[3,4];case 4:return[3,6];case 5:C=Promise.all(u.map(y6)),s.push(C),h(),M.label=6;case 6:return[2]}})})},function(u){i(u)})}h()})}function _6(e){return eh(this,void 0,void 0,function(){return th(this,function(t){return[2,new Promise(function(n,i){e.file(function(s){var h=Lf(s,e.fullPath);n(h)},function(s){i(s)})})]})})}var v6=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",s=(e.type||"").toLowerCase(),h=s.replace(/\/.*$/,"");return n.some(function(f){var u=f.trim().toLowerCase();return u.charAt(0)==="."?i.toLowerCase().endsWith(u):u.endsWith("/*")?h===u.replace(/\/.*$/,""):s===u})}return!0};function hE(e){return b6(e)||w6(e)||pI(e)||x6()}function x6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b6(e){if(Array.isArray(e))return g1(e)}function S6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gf(e,t){return C6(e)||k6(e,t)||pI(e,t)||E6()}function E6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pI(e,t){if(!!e){if(typeof e=="string")return g1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g1(e,t)}}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k6(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,h=!1,f,u;try{for(n=n.call(e);!(s=(f=n.next()).done)&&(i.push(f.value),!(t&&i.length===t));s=!0);}catch(w){h=!0,u=w}finally{try{!s&&n.return!=null&&n.return()}finally{if(h)throw u}}return i}}function C6(e){if(Array.isArray(e))return e}var T6="file-invalid-type",P6="file-too-large",I6="file-too-small",A6="too-many-files",M6=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:T6,message:"File type must be ".concat(n)}},dE=function(t){return{code:P6,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},fE=function(t){return{code:I6,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},z6={code:A6,message:"Too many files"};function mI(e,t){var n=e.type==="application/x-moz-file"||v6(e,t);return[n,n?null:M6(t)]}function gI(e,t,n){if(Bl(e.size))if(Bl(t)&&Bl(n)){if(e.size>n)return[!1,dE(n)];if(e.size<t)return[!1,fE(t)]}else{if(Bl(t)&&e.size<t)return[!1,fE(t)];if(Bl(n)&&e.size>n)return[!1,dE(n)]}return[!0,null]}function Bl(e){return e!=null}function D6(e){var t=e.files,n=e.accept,i=e.minSize,s=e.maxSize,h=e.multiple,f=e.maxFiles,u=e.validator;return!h&&t.length>1||h&&f>=1&&t.length>f?!1:t.every(function(w){var b=mI(w,n),C=gf(b,1),M=C[0],T=gI(w,i,s),N=gf(T,1),W=N[0],H=u?u(w):null;return M&&W&&!H})}function Ag(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble!="undefined"?e.cancelBubble:!1}function dm(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function pE(e){e.preventDefault()}function R6(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function L6(e){return e.indexOf("Edge/")!==-1}function O6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return R6(e)||L6(e)}function ha(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var s=arguments.length,h=new Array(s>1?s-1:0),f=1;f<s;f++)h[f-1]=arguments[f];return t.some(function(u){return!Ag(i)&&u&&u.apply(void 0,[i].concat(h)),Ag(i)})}}function F6(){return"showOpenFilePicker"in window}function $6(e){return Bl(e)?Object.entries(e).filter(function(t){var n=gf(t,2),i=n[0],s=n[1],h=!0;return yI(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),h=!1),(!Array.isArray(s)||!s.every(_I))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),h=!1),h}).map(function(t){var n=gf(t,2),i=n[0],s=n[1];return{accept:S6({},i,s)}}):e}function B6(e){if(Bl(e))return Object.entries(e).reduce(function(t,n){var i=gf(n,2),s=i[0],h=i[1];return[].concat(hE(t),[s],hE(h))},[]).filter(function(t){return yI(t)||_I(t)}).join(",")}function V6(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function N6(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function yI(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function _I(e){return/^.*\.[\w]+$/.test(e)}var _y={exports:{}},vy={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6=j.exports,U6=Symbol.for("react.element"),G6=Symbol.for("react.fragment"),W6=Object.prototype.hasOwnProperty,q6=j6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z6={key:!0,ref:!0,__self:!0,__source:!0};function vI(e,t,n){var i,s={},h=null,f=null;n!==void 0&&(h=""+n),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(f=t.ref);for(i in t)W6.call(t,i)&&!Z6.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:U6,type:e,key:h,ref:f,props:s,_owner:q6.current}}vy.Fragment=G6;vy.jsx=vI;vy.jsxs=vI;_y.exports=vy;const Oe=_y.exports.jsx,kt=_y.exports.jsxs,yf=_y.exports.Fragment;var H6=["children"],X6=["open"],K6=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Y6=["refKey","onChange","onClick"];function J6(e){return tO(e)||eO(e)||xI(e)||Q6()}function Q6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eO(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tO(e){if(Array.isArray(e))return y1(e)}function N_(e,t){return iO(e)||rO(e,t)||xI(e,t)||nO()}function nO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xI(e,t){if(!!e){if(typeof e=="string")return y1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y1(e,t)}}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rO(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,h=!1,f,u;try{for(n=n.call(e);!(s=(f=n.next()).done)&&(i.push(f.value),!(t&&i.length===t));s=!0);}catch(w){h=!0,u=w}finally{try{!s&&n.return!=null&&n.return()}finally{if(h)throw u}}return i}}function iO(e){if(Array.isArray(e))return e}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(i){_1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mg(e,t){if(e==null)return{};var n=oO(e,t),i,s;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(s=0;s<h.length;s++)i=h[s],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(n[i]=e[i]))}return n}function oO(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,h;for(h=0;h<i.length;h++)s=i[h],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var tw=j.exports.forwardRef(function(e,t){var n=e.children,i=Mg(e,H6),s=bI(i),h=s.open,f=Mg(s,X6);return j.exports.useImperativeHandle(t,function(){return{open:h}},[h]),Oe(yf,{children:n(tr(tr({},f),{},{open:h}))})});tw.displayName="Dropzone";var wI={disabled:!1,getFilesFromEvent:c6,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};tw.defaultProps=wI;tw.propTypes={children:Te.func,accept:Te.objectOf(Te.arrayOf(Te.string)),multiple:Te.bool,preventDropOnDocument:Te.bool,noClick:Te.bool,noKeyboard:Te.bool,noDrag:Te.bool,noDragEventsBubbling:Te.bool,minSize:Te.number,maxSize:Te.number,maxFiles:Te.number,disabled:Te.bool,getFilesFromEvent:Te.func,onFileDialogCancel:Te.func,onFileDialogOpen:Te.func,useFsAccessApi:Te.bool,autoFocus:Te.bool,onDragEnter:Te.func,onDragLeave:Te.func,onDragOver:Te.func,onDrop:Te.func,onDropAccepted:Te.func,onDropRejected:Te.func,onError:Te.func,validator:Te.func};var v1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function bI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=tr(tr({},wI),e),n=t.accept,i=t.disabled,s=t.getFilesFromEvent,h=t.maxSize,f=t.minSize,u=t.multiple,w=t.maxFiles,b=t.onDragEnter,C=t.onDragLeave,M=t.onDragOver,T=t.onDrop,N=t.onDropAccepted,W=t.onDropRejected,H=t.onFileDialogCancel,le=t.onFileDialogOpen,V=t.useFsAccessApi,B=t.autoFocus,Y=t.preventDropOnDocument,se=t.noClick,oe=t.noKeyboard,de=t.noDrag,me=t.noDragEventsBubbling,xe=t.onError,Be=t.validator,Ie=j.exports.useMemo(function(){return B6(n)},[n]),Qe=j.exports.useMemo(function(){return $6(n)},[n]),Tt=j.exports.useMemo(function(){return typeof le=="function"?le:gE},[le]),Ct=j.exports.useMemo(function(){return typeof H=="function"?H:gE},[H]),Et=j.exports.useRef(null),jt=j.exports.useRef(null),tt=j.exports.useReducer(aO,v1),dn=N_(tt,2),Ne=dn[0],nt=dn[1],ut=Ne.isFocused,Ft=Ne.isFileDialogActive,ct=j.exports.useRef(typeof window!="undefined"&&window.isSecureContext&&V&&F6()),mn=function(){!ct.current&&Ft&&setTimeout(function(){if(jt.current){var xt=jt.current.files;xt.length||(nt({type:"closeDialog"}),Ct())}},300)};j.exports.useEffect(function(){return window.addEventListener("focus",mn,!1),function(){window.removeEventListener("focus",mn,!1)}},[jt,Ft,Ct,ct]);var rn=j.exports.useRef([]),Jn=function(xt){Et.current&&Et.current.contains(xt.target)||(xt.preventDefault(),rn.current=[])};j.exports.useEffect(function(){return Y&&(document.addEventListener("dragover",pE,!1),document.addEventListener("drop",Jn,!1)),function(){Y&&(document.removeEventListener("dragover",pE),document.removeEventListener("drop",Jn))}},[Et,Y]),j.exports.useEffect(function(){return!i&&B&&Et.current&&Et.current.focus(),function(){}},[Et,B,i]);var Ht=j.exports.useCallback(function(He){xe?xe(He):console.error(He)},[xe]),Gn=j.exports.useCallback(function(He){He.preventDefault(),He.persist(),pr(He),rn.current=[].concat(J6(rn.current),[He.target]),dm(He)&&Promise.resolve(s(He)).then(function(xt){if(!(Ag(He)&&!me)){var on=xt.length,kn=on>0&&D6({files:xt,accept:Ie,minSize:f,maxSize:h,multiple:u,maxFiles:w,validator:Be}),ve=on>0&&!kn;nt({isDragAccept:kn,isDragReject:ve,isDragActive:!0,type:"setDraggedFiles"}),b&&b(He)}}).catch(function(xt){return Ht(xt)})},[s,b,Ht,me,Ie,f,h,u,w,Be]),kr=j.exports.useCallback(function(He){He.preventDefault(),He.persist(),pr(He);var xt=dm(He);if(xt&&He.dataTransfer)try{He.dataTransfer.dropEffect="copy"}catch{}return xt&&M&&M(He),!1},[M,me]),fi=j.exports.useCallback(function(He){He.preventDefault(),He.persist(),pr(He);var xt=rn.current.filter(function(kn){return Et.current&&Et.current.contains(kn)}),on=xt.indexOf(He.target);on!==-1&&xt.splice(on,1),rn.current=xt,!(xt.length>0)&&(nt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dm(He)&&C&&C(He))},[Et,C,me]),pi=j.exports.useCallback(function(He,xt){var on=[],kn=[];He.forEach(function(ve){var je=mI(ve,Ie),Cr=N_(je,2),mi=Cr[0],an=Cr[1],Lr=gI(ve,f,h),or=N_(Lr,2),Ki=or[0],pn=or[1],Ue=Be?Be(ve):null;if(mi&&Ki&&!Ue)on.push(ve);else{var Dt=[an,pn];Ue&&(Dt=Dt.concat(Ue)),kn.push({file:ve,errors:Dt.filter(function(At){return At})})}}),(!u&&on.length>1||u&&w>=1&&on.length>w)&&(on.forEach(function(ve){kn.push({file:ve,errors:[z6]})}),on.splice(0)),nt({acceptedFiles:on,fileRejections:kn,type:"setFiles"}),T&&T(on,kn,xt),kn.length>0&&W&&W(kn,xt),on.length>0&&N&&N(on,xt)},[nt,u,Ie,f,h,w,T,N,W,Be]),fn=j.exports.useCallback(function(He){He.preventDefault(),He.persist(),pr(He),rn.current=[],dm(He)&&Promise.resolve(s(He)).then(function(xt){Ag(He)&&!me||pi(xt,He)}).catch(function(xt){return Ht(xt)}),nt({type:"reset"})},[s,pi,Ht,me]),Rn=j.exports.useCallback(function(){if(ct.current){nt({type:"openDialog"}),Tt();var He={multiple:u,types:Qe};window.showOpenFilePicker(He).then(function(xt){return s(xt)}).then(function(xt){pi(xt,null),nt({type:"closeDialog"})}).catch(function(xt){V6(xt)?(Ct(xt),nt({type:"closeDialog"})):N6(xt)?(ct.current=!1,jt.current&&(jt.current.value=null,jt.current.click())):Ht(xt)});return}jt.current&&(nt({type:"openDialog"}),Tt(),jt.current.value=null,jt.current.click())},[nt,Tt,Ct,V,pi,Ht,Qe,u]),Pn=j.exports.useCallback(function(He){!Et.current||!Et.current.isEqualNode(He.target)||(He.key===" "||He.key==="Enter"||He.keyCode===32||He.keyCode===13)&&(He.preventDefault(),Rn())},[Et,Rn]),jr=j.exports.useCallback(function(){nt({type:"focus"})},[]),ti=j.exports.useCallback(function(){nt({type:"blur"})},[]),Oi=j.exports.useCallback(function(){se||(O6()?setTimeout(Rn,0):Rn())},[se,Rn]),fr=function(xt){return i?null:xt},So=function(xt){return oe?null:fr(xt)},Rr=function(xt){return de?null:fr(xt)},pr=function(xt){me&&xt.stopPropagation()},Wn=j.exports.useMemo(function(){return function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xt=He.refKey,on=xt===void 0?"ref":xt,kn=He.role,ve=He.onKeyDown,je=He.onFocus,Cr=He.onBlur,mi=He.onClick,an=He.onDragEnter,Lr=He.onDragOver,or=He.onDragLeave,Ki=He.onDrop,pn=Mg(He,K6);return tr(tr(_1({onKeyDown:So(ha(ve,Pn)),onFocus:So(ha(je,jr)),onBlur:So(ha(Cr,ti)),onClick:fr(ha(mi,Oi)),onDragEnter:Rr(ha(an,Gn)),onDragOver:Rr(ha(Lr,kr)),onDragLeave:Rr(ha(or,fi)),onDrop:Rr(ha(Ki,fn)),role:typeof kn=="string"&&kn!==""?kn:"presentation"},on,Et),!i&&!oe?{tabIndex:0}:{}),pn)}},[Et,Pn,jr,ti,Oi,Gn,kr,fi,fn,oe,de,i]),jo=j.exports.useCallback(function(He){He.stopPropagation()},[]),$t=j.exports.useMemo(function(){return function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xt=He.refKey,on=xt===void 0?"ref":xt,kn=He.onChange,ve=He.onClick,je=Mg(He,Y6),Cr=_1({accept:Ie,multiple:u,type:"file",style:{display:"none"},onChange:fr(ha(kn,fn)),onClick:fr(ha(ve,jo)),tabIndex:-1},on,jt);return tr(tr({},Cr),je)}},[jt,n,u,fn,i]);return tr(tr({},Ne),{},{isFocused:ut&&!i,getRootProps:Wn,getInputProps:$t,rootRef:Et,inputRef:jt,open:fr(Rn)})}function aO(e,t){switch(t.type){case"focus":return tr(tr({},e),{},{isFocused:!0});case"blur":return tr(tr({},e),{},{isFocused:!1});case"openDialog":return tr(tr({},v1),{},{isFileDialogActive:!0});case"closeDialog":return tr(tr({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return tr(tr({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return tr(tr({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return tr({},v1);default:return e}}function gE(){}const[sO,oq]=aI("Label",{id:void 0,controlRef:{current:null}}),lO=j.exports.forwardRef((e,t)=>{const{htmlFor:n,id:i,...s}=e,h=j.exports.useRef(null),f=j.exports.useRef(null),u=os(t,f),w=qd(i);return j.exports.useEffect(()=>{if(n){const b=document.getElementById(n);if(f.current&&b){const C=()=>b.getAttribute("aria-labelledby"),M=[w,C()].filter(Boolean).join(" ");return b.setAttribute("aria-labelledby",M),h.current=b,()=>{var T;const N=(T=C())===null||T===void 0?void 0:T.replace(w,"");N===""?b.removeAttribute("aria-labelledby"):N&&b.setAttribute("aria-labelledby",N)}}}},[w,n]),j.exports.createElement(sO,{id:w,controlRef:h},j.exports.createElement(Hi.span,We({role:"label",id:w},s,{ref:u,onMouseDown:b=>{var C;(C=e.onMouseDown)===null||C===void 0||C.call(e,b),!b.defaultPrevented&&b.detail>1&&b.preventDefault()},onClick:b=>{var C;if((C=e.onClick)===null||C===void 0||C.call(e,b),!h.current||b.defaultPrevented)return;const M=h.current.contains(b.target),T=b.isTrusted===!0;!M&&T&&(h.current.click(),h.current.focus())}})))}),uO=lO,cO=un("input",{all:"unset",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"$3",fontFamily:"$sans","&:focus":{boxShadow:"0 0 0 1px black"},width:"100%",border:"1px solid $white",padding:"$1",boxSizing:"border-box",margin:"0 0 $2 0",borderRadius:"$2"}),j_=un(uO,{display:"block",fontSize:"$3",fontWeight:300,userSelect:"none",padding:"0 0 $1 0"}),hO=un("h1",{paddingBottom:"$1",fontWeight:500}),dO=un("div",{maxWidth:780,marginLeft:"auto",marginRight:"auto",padding:"$3"}),fO=un("button",{padding:"$1 $2",marginBottom:"$1",borderRadius:"$2",cursor:"pointer",variants:{color:{violet:{backgroundColor:"blueviolet",color:"white","&:hover":{backgroundColor:"darkviolet"}},gray:{backgroundColor:"gainsboro","&:hover":{backgroundColor:"lightgray"}}}}}),pO=un("div",{padding:"$2",border:"1px dashed $white",textAlign:"center",margin:"0 0 $2 0"}),mO=un("div",{padding:"$1","&:not(:last-child)":{borderBottom:"1px solid $white"},"&:hover":{backgroundColor:"$hover"},variants:{selected:{true:{backgroundColor:"red"}}}}),gO=un("div",{borderRadius:"$1",border:"1px solid $white",margin:"0 0 $2 0"}),yE=["https://protomaps.github.io/PMTiles/protomaps(vector)ODbL_firenze.pmtiles","https://protomaps.github.io/PMTiles/stamen_toner(raster)CC-BY+ODbL_z3.pmtiles","https://r2-public.protomaps.com/protomaps-sample-datasets/cb_2018_us_zcta510_500k.pmtiles","https://protomaps.github.io/PMTiles/usgs-mt-whitney-8-15-webp-512.pmtiles"];function yO(e){const t=j.exports.useCallback(C=>{e.setFile(new Dc(new DR(C[0])))},[]),{acceptedFiles:n,getRootProps:i,getInputProps:s}=bI({onDrop:t});let[h,f]=j.exports.useState("");j.exports.useState(1);const u=C=>{f(C.target.value)},w=C=>()=>{e.setFile(new Dc(yE[C]))};return kt(dO,{children:[Oe(hO,{children:"PMTiles Viewer"}),Oe(j_,{htmlFor:"remoteUrl",children:"Specify a remote URL"}),Oe(cO,{id:"remoteUrl",placeholder:"https://example.com/my_archive.pmtiles",onChange:u}),Oe(fO,{color:"gray",onClick:()=>{e.setFile(new Dc(h))},disabled:!h.trim(),children:"Load URL"}),Oe(j_,{htmlFor:"localFile",children:"Select a local file"}),kt(pO,{...i(),children:[Oe("input",{...s()}),Oe("p",{children:"Drag + drop a file here, or click to select"})]}),Oe(j_,{children:"Load an example"}),Oe(gO,{children:yE.map((C,M)=>Oe(mO,{onClick:w(M),children:C},M))})]})}var nw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */nw.read=function(e,t,n,i,s){var h,f,u=s*8-i-1,w=(1<<u)-1,b=w>>1,C=-7,M=n?s-1:0,T=n?-1:1,N=e[t+M];for(M+=T,h=N&(1<<-C)-1,N>>=-C,C+=u;C>0;h=h*256+e[t+M],M+=T,C-=8);for(f=h&(1<<-C)-1,h>>=-C,C+=i;C>0;f=f*256+e[t+M],M+=T,C-=8);if(h===0)h=1-b;else{if(h===w)return f?NaN:(N?-1:1)*(1/0);f=f+Math.pow(2,i),h=h-b}return(N?-1:1)*f*Math.pow(2,h-i)};nw.write=function(e,t,n,i,s,h){var f,u,w,b=h*8-s-1,C=(1<<b)-1,M=C>>1,T=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=i?0:h-1,W=i?1:-1,H=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,f=C):(f=Math.floor(Math.log(t)/Math.LN2),t*(w=Math.pow(2,-f))<1&&(f--,w*=2),f+M>=1?t+=T/w:t+=T*Math.pow(2,1-M),t*w>=2&&(f++,w/=2),f+M>=C?(u=0,f=C):f+M>=1?(u=(t*w-1)*Math.pow(2,s),f=f+M):(u=t*Math.pow(2,M-1)*Math.pow(2,s),f=0));s>=8;e[n+N]=u&255,N+=W,u/=256,s-=8);for(f=f<<s|u,b+=s;b>0;e[n+N]=f&255,N+=W,f/=256,b-=8);e[n+N-W]|=H*128};var _O=vn,fm=nw;function vn(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}vn.Varint=0;vn.Fixed64=1;vn.Bytes=2;vn.Fixed32=5;var x1=(1<<16)*(1<<16),_E=1/x1,vO=12,SI=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");vn.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),s=i>>3,h=this.pos;this.type=i&7,e(s,t,this),this.pos===h&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=pm(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=xE(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=pm(this.buf,this.pos)+pm(this.buf,this.pos+4)*x1;return this.pos+=8,e},readSFixed64:function(){var e=pm(this.buf,this.pos)+xE(this.buf,this.pos+4)*x1;return this.pos+=8,e},readFloat:function(){var e=fm.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=fm.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,i;return i=t[this.pos++],n=i&127,i<128||(i=t[this.pos++],n|=(i&127)<<7,i<128)||(i=t[this.pos++],n|=(i&127)<<14,i<128)||(i=t[this.pos++],n|=(i&127)<<21,i<128)?n:(i=t[this.pos],n|=(i&15)<<28,xO(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=vO&&SI?RO(this.buf,t,e):DO(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==vn.Bytes)return e.push(this.readVarint(t));var n=Ua(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==vn.Bytes)return e.push(this.readSVarint());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==vn.Bytes)return e.push(this.readBoolean());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==vn.Bytes)return e.push(this.readFloat());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==vn.Bytes)return e.push(this.readDouble());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==vn.Bytes)return e.push(this.readFixed32());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==vn.Bytes)return e.push(this.readSFixed32());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==vn.Bytes)return e.push(this.readFixed64());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==vn.Bytes)return e.push(this.readSFixed64());var t=Ua(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===vn.Varint)for(;this.buf[this.pos++]>127;);else if(t===vn.Bytes)this.pos=this.readVarint()+this.pos;else if(t===vn.Fixed32)this.pos+=4;else if(t===vn.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),rc(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),rc(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),rc(this.buf,e&-1,this.pos),rc(this.buf,Math.floor(e*_E),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),rc(this.buf,e&-1,this.pos),rc(this.buf,Math.floor(e*_E),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){wO(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=LO(this.buf,e,this.pos);var n=this.pos-t;n>=128&&vE(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),fm.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),fm.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&vE(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,vn.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,EO,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,kO,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,PO,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,CO,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,TO,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,IO,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,AO,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,MO,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,zO,t)},writeBytesField:function(e,t){this.writeTag(e,vn.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,vn.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,vn.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,vn.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,vn.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,vn.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,vn.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,vn.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,vn.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,vn.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};function xO(e,t,n){var i=n.buf,s,h;if(h=i[n.pos++],s=(h&112)>>4,h<128||(h=i[n.pos++],s|=(h&127)<<3,h<128)||(h=i[n.pos++],s|=(h&127)<<10,h<128)||(h=i[n.pos++],s|=(h&127)<<17,h<128)||(h=i[n.pos++],s|=(h&127)<<24,h<128)||(h=i[n.pos++],s|=(h&1)<<31,h<128))return nc(e,s,t);throw new Error("Expected varint not more than 10 bytes")}function Ua(e){return e.type===vn.Bytes?e.readVarint()+e.pos:e.pos+1}function nc(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function wO(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(n=~(-e%4294967296),i=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,i=i+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),bO(n,i,t),SO(i,t)}function bO(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function SO(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function vE(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(i);for(var s=n.pos-1;s>=e;s--)n.buf[s+i]=n.buf[s]}function EO(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function kO(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function CO(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function TO(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function PO(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function IO(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function AO(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function MO(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function zO(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function pm(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function rc(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function xE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function DO(e,t,n){for(var i="",s=t;s<n;){var h=e[s],f=null,u=h>239?4:h>223?3:h>191?2:1;if(s+u>n)break;var w,b,C;u===1?h<128&&(f=h):u===2?(w=e[s+1],(w&192)===128&&(f=(h&31)<<6|w&63,f<=127&&(f=null))):u===3?(w=e[s+1],b=e[s+2],(w&192)===128&&(b&192)===128&&(f=(h&15)<<12|(w&63)<<6|b&63,(f<=2047||f>=55296&&f<=57343)&&(f=null))):u===4&&(w=e[s+1],b=e[s+2],C=e[s+3],(w&192)===128&&(b&192)===128&&(C&192)===128&&(f=(h&15)<<18|(w&63)<<12|(b&63)<<6|C&63,(f<=65535||f>=1114112)&&(f=null))),f===null?(f=65533,u=1):f>65535&&(f-=65536,i+=String.fromCharCode(f>>>10&1023|55296),f=56320|f&1023),i+=String.fromCharCode(f),s+=u}return i}function RO(e,t,n){return SI.decode(e.subarray(t,n))}function LO(e,t,n){for(var i=0,s,h;i<t.length;i++){if(s=t.charCodeAt(i),s>55295&&s<57344)if(h)if(s<56320){e[n++]=239,e[n++]=191,e[n++]=189,h=s;continue}else s=h-55296<<10|s-56320|65536,h=null;else{s>56319||i+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):h=s;continue}else h&&(e[n++]=239,e[n++]=191,e[n++]=189,h=null);s<128?e[n++]=s:(s<2048?e[n++]=s>>6|192:(s<65536?e[n++]=s>>12|224:(e[n++]=s>>18|240,e[n++]=s>>12&63|128),e[n++]=s>>6&63|128),e[n++]=s&63|128)}return n}var OO=Rc;function Rc(e,t){this.x=e,this.y=t}Rc.prototype={clone:function(){return new Rc(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=t*this.x-n*this.y,s=n*this.x+t*this.y;return this.x=i,this.y=s,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),s=t.x+n*(this.x-t.x)-i*(this.y-t.y),h=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=s,this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}};Rc.convert=function(e){return e instanceof Rc?e:Array.isArray(e)?new Rc(e[0],e[1]):e};var FO=OO,$O=jc;function jc(e,t,n,i,s){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=s,e.readFields(BO,this,t)}function BO(e,t,n){e==1?t.id=n.readVarint():e==2?VO(n,t):e==3?t.type=n.readVarint():e==4&&(t._geometry=n.pos)}function VO(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],s=t._values[e.readVarint()];t.properties[i]=s}}jc.types=["Unknown","Point","LineString","Polygon"];jc.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,s=0,h=0,f=[],u;e.pos<t;){if(i<=0){var w=e.readVarint();n=w&7,i=w>>3}if(i--,n===1||n===2)s+=e.readSVarint(),h+=e.readSVarint(),n===1&&(u&&f.push(u),u=[]),u.push(new FO(s,h));else if(n===7)u&&u.push(u[0].clone());else throw new Error("unknown command "+n)}return u&&f.push(u),f};jc.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,s=0,h=0,f=1/0,u=-1/0,w=1/0,b=-1/0;e.pos<t;){if(i<=0){var C=e.readVarint();n=C&7,i=C>>3}if(i--,n===1||n===2)s+=e.readSVarint(),h+=e.readSVarint(),s<f&&(f=s),s>u&&(u=s),h<w&&(w=h),h>b&&(b=h);else if(n!==7)throw new Error("unknown command "+n)}return[f,w,u,b]};jc.prototype.toGeoJSON=function(e,t,n){var i=this.extent*Math.pow(2,n),s=this.extent*e,h=this.extent*t,f=this.loadGeometry(),u=jc.types[this.type],w,b;function C(N){for(var W=0;W<N.length;W++){var H=N[W],le=180-(H.y+h)*360/i;N[W]=[(H.x+s)*360/i-180,360/Math.PI*Math.atan(Math.exp(le*Math.PI/180))-90]}}switch(this.type){case 1:var M=[];for(w=0;w<f.length;w++)M[w]=f[w][0];f=M,C(f);break;case 2:for(w=0;w<f.length;w++)C(f[w]);break;case 3:for(f=NO(f),w=0;w<f.length;w++)for(b=0;b<f[w].length;b++)C(f[w][b]);break}f.length===1?f=f[0]:u="Multi"+u;var T={type:"Feature",geometry:{type:u,coordinates:f},properties:this.properties};return"id"in this&&(T.id=this.id),T};function NO(e){var t=e.length;if(t<=1)return[e];for(var n=[],i,s,h=0;h<t;h++){var f=jO(e[h]);f!==0&&(s===void 0&&(s=f<0),s===f<0?(i&&n.push(i),i=[e[h]]):i.push(e[h]))}return i&&n.push(i),n}function jO(e){for(var t=0,n=0,i=e.length,s=i-1,h,f;n<i;s=n++)h=e[n],f=e[s],t+=(f.x-h.x)*(h.y+f.y);return t}var UO=$O,GO=EI;function EI(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(WO,this,t),this.length=this._features.length}function WO(e,t,n){e===15?t.version=n.readVarint():e===1?t.name=n.readString():e===5?t.extent=n.readVarint():e===2?t._features.push(n.pos):e===3?t._keys.push(n.readString()):e===4&&t._values.push(qO(n))}function qO(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=i===1?e.readString():i===2?e.readFloat():i===3?e.readDouble():i===4?e.readVarint64():i===5?e.readVarint():i===6?e.readSVarint():i===7?e.readBoolean():null}return t}EI.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new UO(this._pbf,t,this.extent,this._keys,this._values)};var ZO=GO,HO=XO;function XO(e,t){this.layers=e.readFields(KO,{},t)}function KO(e,t,n){if(e===3){var i=new ZO(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}var YO=HO;const w1=Math.PI,b1=2*w1,Fl=1e-6,JO=b1-Fl;function S1(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function kI(){return new S1}S1.prototype=kI.prototype={constructor:S1,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,s,h){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},arcTo:function(e,t,n,i,s){e=+e,t=+t,n=+n,i=+i,s=+s;var h=this._x1,f=this._y1,u=n-e,w=i-t,b=h-e,C=f-t,M=b*b+C*C;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(M>Fl)if(!(Math.abs(C*u-w*b)>Fl)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var T=n-h,N=i-f,W=u*u+w*w,H=T*T+N*N,le=Math.sqrt(W),V=Math.sqrt(M),B=s*Math.tan((w1-Math.acos((W+M-H)/(2*le*V)))/2),Y=B/V,se=B/le;Math.abs(Y-1)>Fl&&(this._+="L"+(e+Y*b)+","+(t+Y*C)),this._+="A"+s+","+s+",0,0,"+ +(C*T>b*N)+","+(this._x1=e+se*u)+","+(this._y1=t+se*w)}},arc:function(e,t,n,i,s,h){e=+e,t=+t,n=+n,h=!!h;var f=n*Math.cos(i),u=n*Math.sin(i),w=e+f,b=t+u,C=1^h,M=h?i-s:s-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+w+","+b:(Math.abs(this._x1-w)>Fl||Math.abs(this._y1-b)>Fl)&&(this._+="L"+w+","+b),n&&(M<0&&(M=M%b1+b1),M>JO?this._+="A"+n+","+n+",0,1,"+C+","+(e-f)+","+(t-u)+"A"+n+","+n+",0,1,"+C+","+(this._x1=w)+","+(this._y1=b):M>Fl&&(this._+="A"+n+","+n+",0,"+ +(M>=w1)+","+C+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function QO(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}var Bm=QO("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),eF=function(){},CI=typeof window!="undefined",tF=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(s){e.addRange(s)}),t&&t.focus()}},nF=tF,wE={"text/plain":"Text","text/html":"Url",default:"Text"},rF="Copy to clipboard: #{key}, Enter";function iF(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function oF(e,t){var n,i,s,h,f,u,w=!1;t||(t={}),n=t.debug||!1;try{s=nF(),h=document.createRange(),f=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(C){if(C.stopPropagation(),t.format)if(C.preventDefault(),typeof C.clipboardData=="undefined"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var M=wE[t.format]||wE.default;window.clipboardData.setData(M,e)}else C.clipboardData.clearData(),C.clipboardData.setData(t.format,e);t.onCopy&&(C.preventDefault(),t.onCopy(C.clipboardData))}),document.body.appendChild(u),h.selectNodeContents(u),f.addRange(h);var b=document.execCommand("copy");if(!b)throw new Error("copy command was unsuccessful");w=!0}catch(C){n&&console.error("unable to copy using execCommand: ",C),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),w=!0}catch(M){n&&console.error("unable to copy using clipboardData: ",M),n&&console.error("falling back to prompt"),i=iF("message"in t?t.message:rF),window.prompt(i,e)}}finally{f&&(typeof f.removeRange=="function"?f.removeRange(h):f.removeAllRanges()),u&&document.body.removeChild(u),s()}return w}var bE=oF,aF=CI?j.exports.useLayoutEffect:j.exports.useEffect,sF=aF,TI={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function lF(){var e=j.exports.useState(null),t=e[0],n=e[1],i=j.exports.useState(TI),s=i[0],h=i[1],f=j.exports.useMemo(function(){return new window.ResizeObserver(function(u){if(u[0]){var w=u[0].contentRect,b=w.x,C=w.y,M=w.width,T=w.height,N=w.top,W=w.left,H=w.bottom,le=w.right;h({x:b,y:C,width:M,height:T,top:N,left:W,bottom:H,right:le})}})},[]);return sF(function(){if(!!t)return f.observe(t),function(){f.disconnect()}},[t]),[n,s]}var uF=CI&&typeof window.ResizeObserver!="undefined"?lF:function(){return[eF,TI]};function PI(e,t){return Array.isArray(t)?[e.a*t[0]+e.c*t[1]+e.e,e.b*t[0]+e.d*t[1]+e.f]:{x:e.a*t.x+e.c*t.y+e.e,y:e.b*t.x+e.d*t.y+e.f}}function II(e,t){return t.map(n=>PI(e,n))}function Of(e){return{a:parseFloat(e.a),b:parseFloat(e.b),c:parseFloat(e.c),d:parseFloat(e.d),e:parseFloat(e.e),f:parseFloat(e.f)}}function AI(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function MI(e){const{a:t,b:n,c:i,d:s,e:h,f}=e,u=t*s-n*i;return{a:s/u,b:n/-u,c:i/-u,d:t/u,e:(s*h-i*f)/-u,f:(n*h-t*f)/u}}function U_(e){return typeof e=="undefined"}function mo(e,t=0){return{a:1,c:0,e,b:0,d:1,f:t}}function as(...e){e=Array.isArray(e[0])?e[0]:e;const t=(n,i)=>({a:n.a*i.a+n.c*i.b,c:n.a*i.c+n.c*i.d,e:n.a*i.e+n.c*i.f+n.e,b:n.b*i.a+n.d*i.b,d:n.b*i.c+n.d*i.d,f:n.b*i.e+n.d*i.f+n.f});switch(e.length){case 0:throw new Error("no matrices provided");case 1:return e[0];case 2:return t(e[0],e[1]);default:{const[n,i,...s]=e,h=t(n,i);return as(h,...s)}}}function Ql(e,t=void 0,n=void 0,i=void 0){U_(t)&&(t=e);const s={a:e,c:0,e:0,b:0,d:t,f:0};return U_(n)||U_(i)?s:as([mo(n,i),s,mo(-n,-i)])}function cF(e){return hF(e)}function hF(e){return`matrix(${e.a},${e.b},${e.c},${e.d},${e.e},${e.f})`}function dF(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function xy(e,t,n,i){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,xy.prototype),s.expected=t,s.found=n,s.location=i,s.name="SyntaxError",s}dF(xy,Error);function G_(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}xy.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,i;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,h=this.location.source+":"+s.line+":"+s.column;if(n){var f=this.location.end,u=G_("",s.line.toString().length," "),w=n[s.line-1],b=s.line===f.line?f.column:w.length+1,C=b-s.column||1;t+=`
 --> `+h+`
`+u+` |
`+s.line+" | "+w+`
`+u+" | "+G_("",s.column-1," ")+G_("",C,"^")}else t+=`
 at `+h}return t};xy.buildMessage=function(e,t){var n={literal:function(b){return'"'+s(b.text)+'"'},class:function(b){var C=b.parts.map(function(M){return Array.isArray(M)?h(M[0])+"-"+h(M[1]):h(M)});return"["+(b.inverted?"^":"")+C.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(b){return b.description}};function i(b){return b.charCodeAt(0).toString(16).toUpperCase()}function s(b){return b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(C){return"\\x0"+i(C)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(C){return"\\x"+i(C)})}function h(b){return b.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(C){return"\\x0"+i(C)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(C){return"\\x"+i(C)})}function f(b){return n[b.type](b)}function u(b){var C=b.map(f),M,T;if(C.sort(),C.length>0){for(M=1,T=1;M<C.length;M++)C[M-1]!==C[M]&&(C[T]=C[M],T++);C.length=T}switch(C.length){case 1:return C[0];case 2:return C[0]+" or "+C[1];default:return C.slice(0,-1).join(", ")+", or "+C[C.length-1]}}function w(b){return b?'"'+s(b)+'"':"end of input"}return"Expected "+u(e)+" but "+w(t)+" found."};var _o="idle",oa="panning",aa="zooming",na="auto",Ks="none",wa="pan",ss="zoom-in",nl="zoom-out",zg="none",ya="top",vo="right",_a="bottom",Mi="left",wy="zoom",Ff="pan",Uc="center",Gc="left",rw="right",Wc="top",iw="bottom",SE="cover";function E1(e){return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(i){fF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zI=3,DI=_o;function kE(e,t,n,i,s,h){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;return Bn({},Dg(Dg({},AI()),{},{version:zI,mode:DI,focus:!1,pinchPointDistance:null,prePinchMode:null,viewerWidth:e,viewerHeight:t,SVGMinX:n,SVGMinY:i,SVGWidth:s,SVGHeight:h,scaleFactorMin:f,scaleFactorMax:u,startX:null,startY:null,endX:null,endY:null,miniatureOpen:!0,lastAction:null}))}function Bn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return e=Object.assign({},e,t,{lastAction:n}),Object.freeze(e)}function pF(e){return e!==null&&E1(e)==="object"&&e.hasOwnProperty("version")&&e.version===zI}function Bo(e,t,n){var i=Of(e),s=MI(i);return PI(s,{x:t,y:n})}function Vm(e){var t=Of(e);return{scaleFactor:t.a,translationX:t.e,translationY:t.f}}function mF(e,t){return Bn(e,{focus:t})}function gF(e,t,n){return Bn(e,{viewerWidth:t,viewerHeight:n})}function CE(e,t,n,i,s){return Bn(e,{SVGMinX:t,SVGMinY:n,SVGWidth:i,SVGHeight:s})}function yF(e,t,n){return Bn(e,{scaleFactorMin:t,scaleFactorMax:n})}function _F(e,t,n,i){var s=e.viewerWidth,h=e.viewerHeight,f=as(mo(-t+s/2,-n+h/2),mo(t,n),Ql(i,i),mo(-t,-n));return Bn(e,Dg({mode:_o},f))}function vF(e){return Bn(e,Dg({mode:_o},AI()))}function RI(e){return Bn(e,{mode:DI,startX:null,startY:null,endX:null,endY:null})}function xF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wF(e,t,n){return t&&TE(e.prototype,t),n&&TE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var LI=function(){function e(t,n,i){xF(this,e),this.originalEvent=t,this.value=n,this.SVGViewer=i}return wF(e,[{key:"scaleFactor",get:function(){return this._cacheDecomposedValue=this._cacheDecomposedValue||Vm(this.value),this._cacheDecomposedValue.scaleFactor}},{key:"translationX",get:function(){return this._cacheDecomposedValue=this._cacheDecomposedValue||Vm(this.value),this._cacheDecomposedValue.translationX}},{key:"translationY",get:function(){return this._cacheDecomposedValue=this._cacheDecomposedValue||Vm(this.value),this._cacheDecomposedValue.translationY}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}}]),e}();function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(i){SF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function SF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EF(e,t){return PF(e)||TF(e,t)||CF(e,t)||kF()}function kF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CF(e,t){if(!!e){if(typeof e=="string")return IE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(e,t)}}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function TF(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,h=!1,f,u;try{for(n=n.call(e);!(s=(f=n.next()).done)&&(i.push(f.value),!(t&&i.length===t));s=!0);}catch(w){h=!0,u=w}finally{try{!s&&n.return!=null&&n.return()}finally{if(h)throw u}}return i}}function PF(e){if(Array.isArray(e))return e}function ow(e,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0,s=as(Of(e),mo(t,n));if(i){var h=II(s,[{x:e.SVGMinX+i,y:e.SVGMinY+i},{x:e.SVGMinX+e.SVGWidth-i,y:e.SVGMinY+e.SVGHeight-i}]),f=EF(h,2),u=f[0],w=u.x,b=u.y,C=f[1],M=C.x,T=C.y,N=0;e.viewerWidth-w<0?N=e.viewerWidth-w:M<0&&(N=-M);var W=0;e.viewerHeight-b<0?W=e.viewerHeight-b:T<0&&(W=-T),s=as(mo(N,W),s)}return Bn(e,bF({mode:_o},s),Ff)}function IF(e,t,n){return Bn(e,{mode:oa,startX:t,startY:n,endX:t,endY:n},Ff)}function AF(e,t,n,i){if(e.mode!==oa)throw new Error("update pan not allowed in this mode "+e.mode);var s=e.endX,h=e.endY,f=Bo(e,s,h),u=Bo(e,t,n),w=u.x-f.x,b=u.y-f.y,C=ow(e,w,b,i);return Bn(C,{mode:oa,endX:t,endY:n},Ff)}function OI(e){return Bn(e,{mode:_o,startX:null,startY:null,endX:null,endY:null},Ff)}function MF(e,t,n){var i=0,s=0;return n<=20&&(s=2),e.viewerWidth-t<=20&&(i=-2),e.viewerHeight-n<=20&&(s=-2),t<=20&&(i=2),i=i/e.d,s=s/e.d,i===0&&s===0?e:ow(e,i,s)}function FI(e,t){if(e.x<=t.x&&e.y<=t.y)return{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y};if(e.x>=t.x&&e.y<=t.y)return{x:t.x,y:e.y,width:e.x-t.x,height:t.y-e.y};if(e.x>=t.x&&e.y>=t.y)return{x:t.x,y:t.y,width:e.x-t.x,height:e.y-t.y};if(e.x<=t.x&&e.y>=t.y)return{x:e.x,y:t.y,width:t.x-e.x,height:e.y-t.y}}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(i){zF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function by(e,t){var n=Vm(e),i=n.scaleFactor,s=e.scaleFactorMin&&i*t<e.scaleFactorMin,h=e.scaleFactorMax&&i*t>e.scaleFactorMax;return s&&t<1||h&&t>1}function aw(e,t){var n=t.a;return e.scaleFactorMin!=null&&(n=Math.max(n,e.scaleFactorMin)),e.scaleFactorMax!=null&&(n=Math.min(n,e.scaleFactorMax)),Bn(t,{a:n,d:n})}function nh(e,t,n,i){if(by(e,i))return e;var s=as(Of(e),mo(t,n),Ql(i,i),mo(-t,-n));return Bn(e,qc(qc({mode:_o},s),{},{startX:null,startY:null,endX:null,endY:null}),wy)}function $I(e,t,n,i,s){var h=e.viewerWidth,f=e.viewerHeight,u=h/i,w=f/s,b=Math.min(u,w),C=as(Ql(b,b),mo(-t,-n));return by(e,b/e.d)?Bn(e,{mode:_o,startX:null,startY:null,endX:null,endY:null}):Bn(e,qc(qc({mode:_o},aw(e,C)),{},{startX:null,startY:null,endX:null,endY:null}),wy)}function BI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gc,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wc,i=e.viewerWidth,s=e.viewerHeight,h=e.SVGMinX,f=e.SVGMinY,u=e.SVGWidth,w=e.SVGHeight,b=i/u,C=s/w,M=Math.min(b,C),T=Ql(M,M),N=-h*b,W=-f*C;if(b<C){var H=s-b*w;switch(n){case Wc:W=-f*M;break;case Uc:W=Math.round(H/2)-f*M;break;case iw:W=H-f*M;break;case SE:T=Ql(C,C);var le=i-C*u;N=h+Math.round(le/2);break}}else{var V=i-C*u;switch(t){case Gc:N=-h*M;break;case Uc:N=Math.round(V/2)-h*M;break;case rw:N=V-h*M;break;case SE:T=Ql(b,b);var B=s-b*w;W=f+Math.round(B/2);break}}var Y=mo(N,W),se=as(Y,T);return by(e,M/e.d)?Bn(e,{mode:_o,startX:null,startY:null,endX:null,endY:null}):Bn(e,qc(qc({mode:_o},aw(e,se)),{},{startX:null,startY:null,endX:null,endY:null}),wy)}function DF(e,t){var n=e.viewerWidth,i=e.viewerHeight,s=Bo(e,n/2,i/2);return nh(e,s.x,s.y,t)}function RF(e,t,n){return Bn(e,{mode:aa,startX:t,startY:n,endX:t,endY:n})}function LF(e,t,n){if(e.mode!==aa)throw new Error("update selection not allowed in this mode "+e.mode);return Bn(e,{endX:t,endY:n})}function k1(e,t,n,i){var s=7,h=e.startX,f=e.startY,u=Bo(e,h,f),w=Bo(e,t,n);if(Math.abs(h-t)>s&&Math.abs(f-n)>s){var b=FI(u,w);return $I(e,b.x,b.y,b.width,b.height)}else{var C=Bo(e,t,n);return nh(e,C.x,C.y,i)}}function OF(e,t,n,i,s){return i+(s-i)*(e-t)/(n-t)}function rh(e,t){var n=t.getBoundingClientRect(),i=n.left,s=n.top,h=e.clientX-Math.round(i),f=e.clientY-Math.round(s);return{x:h,y:f}}function VI(e,t,n,i,s){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=h||rh(e,t),u=f.x,w=f.y,b=i;switch(n){case nl:var C=Bo(i,u,w);b=nh(i,C.x,C.y,1/s.scaleFactor);break;case ss:b=RF(i,u,w);break;case na:case wa:b=IF(i,u,w);break;default:return i}return e.preventDefault(),b}function NI(e,t,n,i,s){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=h||rh(e,t),u=f.x,w=f.y,b=e.buttons===0,C=i;switch(n){case ss:i.mode===aa&&(C=b?k1(i,u,w,s.scaleFactor):LF(i,u,w));break;case na:case wa:i.mode===oa&&(C=b?OI(i):AF(i,u,w,s.preventPanOutside?20:void 0));break;default:return i}return e.preventDefault(),C}function jI(e,t,n,i,s){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=h||rh(e,t),u=f.x,w=f.y,b=i;switch(n){case nl:i.mode===aa&&(b=k1(i,u,w,1/s.scaleFactor));break;case ss:i.mode===aa&&(b=k1(i,u,w,s.scaleFactor));break;case na:case wa:i.mode===oa&&(b=OI(i));break;default:return i}return e.preventDefault(),b}function FF(e,t,n,i,s){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=h||rh(e,t),u=f.x,w=f.y,b=i;if(n===na&&!s.disableDoubleClickZoomWithToolAuto){var C=s.modifierKeys,M=C===void 0?[]:C,T=Bo(i,u,w),N=function(V,B){return V||e.getModifierState(B)},W=M.reduce(N,!1),H=W?1/s.scaleFactor:s.scaleFactor;b=nh(i,T.x,T.y,H)}return e.preventDefault(),b}function $F(e,t,n,i,s){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=h||rh(e,t),u=f.x,w=f.y;if(!s.detectWheel)return i;var b=Math.max(-1,Math.min(1,e.deltaY)),C=OF(b,-1,1,s.scaleFactorOnWheel,1/s.scaleFactorOnWheel),M=Bo(i,u,w),T=nh(i,M.x,M.y,C);return e.preventDefault(),T}function ME(e,t,n,i,s){var h=mF(i,e.type==="mouseenter");return e.preventDefault(),h}function BF(e,t,n,i,s){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=h.x,u=h.y;return!([Ks,na].indexOf(n)>=0)||!s.detectAutoPan||!i.focus?i:MF(i,f,u)}function C1(e){return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function VF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function NF(e,t,n){return t&&zE(e.prototype,t),n&&zE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T1(e,t)}function T1(e,t){return T1=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},T1(e,t)}function UF(e){var t=qF();return function(){var i=Rg(e),s;if(t){var h=Rg(this).constructor;s=Reflect.construct(i,arguments,h)}else s=i.apply(this,arguments);return GF(this,s)}}function GF(e,t){if(t&&(C1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WF(e)}function WF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qF(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(e)}var ZF=function(e){jF(n,e);var t=UF(n);function n(){return VF(this,n),t.apply(this,arguments)}return NF(n,[{key:"point",get:function(){if(!this._cachePoint){var s=this.originalEvent,h=this.SVGViewer,f=this.value,u=rh(s,h);this._cachePoint=Bo(f,u.x,u.y)}return this._cachePoint}},{key:"x",get:function(){return this.point.x}},{key:"y",get:function(){return this.point.y}}]),n}(LI);function P1(e){return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(i){HF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function HF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function KF(e,t,n){return t&&LE(e.prototype,t),n&&LE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}function I1(e,t){return I1=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},I1(e,t)}function JF(e){var t=t$();return function(){var i=Lg(e),s;if(t){var h=Lg(this).constructor;s=Reflect.construct(i,arguments,h)}else s=i.apply(this,arguments);return QF(this,s)}}function QF(e,t){if(t&&(P1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e$(e)}function e$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(e)}var n$=function(e){YF(n,e);var t=JF(n);function n(){return XF(this,n),t.apply(this,arguments)}return KF(n,[{key:"points",get:function(){return this._cachePoints||(this._cachePoints=n.touchesToPoints(this.originalEvent.touches,this.SVGViewer,this.value)),this._cachePoints}},{key:"changedPoints",get:function(){return this._cacheChangedPoints||(this._cacheChangedPoints=n.touchesToPoints(this.originalEvent.changedTouches,this.SVGViewer,this.value)),this._cacheChangedPoints}}],[{key:"touchesToPoints",value:function(s,h,f){for(var u=[],w=0;w<s.length;w++){var b=s[w],C=h.getBoundingClientRect(),M=b.clientX-Math.round(C.left),T=b.clientY-Math.round(C.top),N=Bo(f,M,T);u.push(RE(RE({},N),{},{identifier:b.identifier}))}return u}}]),n}(LI);function r$(e,t,n){var i=e.type;switch(i){case"mousemove":case"mouseup":case"mousedown":case"click":case"dblclick":return new ZF(e,t,n);case"touchstart":case"touchmove":case"touchend":case"touchcancel":return new n$(e,t,n);default:throw new Error("".concat(i," not supported"))}}function OE(e){return e.split(/[ ,]/).filter(Boolean).map(Number)}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(i){i$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function i$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e,t){var n=t.getBoundingClientRect(),i=n.left,s=n.top,h=e.clientX-Math.round(i),f=e.clientY-Math.round(s);return{x:h,y:f}}function a$(e,t,n,i,s){if(GI(e,s))return WI(e,t,n,i);if(e.touches.length!==1){if([oa,aa].indexOf(i.mode)>=0)return RI(i);if([_o].indexOf(i.mode)>=0)return i}return sw(e,t,n,i,s,VI)}function s$(e,t,n,i,s){return GI(e,s)?WI(e,t,n,i):[oa,aa].indexOf(i.mode)>=0?sw(e,t,n,i,s,NI):i}function l$(e,t,n,i,s){if(!([oa,aa].indexOf(i.mode)>=0))return i;var h=c$(e,i,s)?Bn(i,{pinchPointDistance:null}):i;return e.touches.length>0?h:sw(e,t,n,h,s,jI)}function u$(e,t,n,i,s){return e.stopPropagation(),e.preventDefault(),RI(i)}function UI(e){return typeof e.pinchPointDistance=="number"}function c$(e,t,n){return n.detectPinchGesture&&UI(t)&&e.touches.length<2}function GI(e,t){return t.detectPinchGesture&&e.touches.length>1}function sw(e,t,n,i,s,h){var f=e.touches.length===0?Bn(i,{mode:i.prePinchMode?_o:i.mode,prePinchMode:null}):i,u=e.touches.length>0?e.touches[0]:e.changedTouches[0],w=o$(u,t);switch(n){case nl:case ss:case na:case wa:return e.stopPropagation(),e.preventDefault(),h(e,t,n,f,s,w);default:return f}}function WI(e,t,n,i,s){var h=t.getBoundingClientRect(),f=h.left,u=h.top,w=e.touches[0].clientX-Math.round(f),b=e.touches[0].clientY-Math.round(u),C=e.touches[1].clientX-Math.round(f),M=e.touches[1].clientY-Math.round(u),T=Math.sqrt(Math.pow(C-w,2)+Math.pow(M-b,2)),N=UI(i)?i.pinchPointDistance:T,W=Bo(i,(w+C)/2,(b+M)/2),H=T/N;if(by(i,H))return i;e.cancelable&&e.preventDefault();var le=as(Of(i),mo(W.x,W.y),Ql(H,H),mo(-W.x,-W.y));return Bn(i,Bn($E($E({mode:aa},aw(i,le)),{},{startX:null,startY:null,endX:null,endY:null,prePinchMode:i.prePinchMode?i.prePinchMode:i.mode,pinchPointDistance:T})))}function qI(e){return Bn(e,{miniatureOpen:!0})}function ZI(e){return Bn(e,{miniatureOpen:!1})}var h$=function(t){return["zoom-in","zoom-out","grab","grabbing"].indexOf(t)>-1},HI=function(){return navigator.userAgent.toLowerCase()},d$=function(){return HI().indexOf("firefox")>-1},f$=function(){return HI().indexOf("webkit")>-1};function mm(e){if(!h$(e))return e;if(d$())return"-moz-".concat(e);if(f$())return"-webkit-".concat(e)}function p$(e){return e.displayName||e.name||"Component"}function A1(e){return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function M1(){return M1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M1.apply(this,arguments)}function m$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g$(e,t,n){return t&&BE(e.prototype,t),n&&BE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z1(e,t)}function z1(e,t){return z1=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},z1(e,t)}function _$(e){var t=w$();return function(){var i=Og(e),s;if(t){var h=Og(this).constructor;s=Reflect.construct(i,arguments,h)}else s=i.apply(this,arguments);return v$(this,s)}}function v$(e,t){if(t&&(A1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x$(e)}function x$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(e)}var b$=1,S$=function(){return"uid".concat(b$++)};function XI(e){var t=function(n){y$(s,n);var i=_$(s);function s(h){var f;return m$(this,s),f=i.call(this,h),f.state={uid:S$()},f}return g$(s,[{key:"render",value:function(){return Le.createElement(e,M1({_uid:this.state.uid},this.props))}}]),s}(Le.Component);return t.displayName="RandomUID(".concat(p$(e),")"),t}var VE="react-svg-pan-zoom_border_gradient";function KI(e){var t=e.direction,n=e.width,i=e.height,s=e._uid,h;switch(t){case ya:h="translate(".concat(n,", 0) rotate(90)");break;case vo:h="translate(".concat(n,", ").concat(i,") rotate(180)");break;case _a:h="translate(0, ".concat(i,") rotate(270)");break;case Mi:default:h=" ";break}var f="".concat(VE,"_gradient_").concat(s),u="".concat(VE,"_mask_").concat(s);return Le.createElement("g",null,Le.createElement("defs",null,Le.createElement("linearGradient",{id:f,x1:"0%",y1:"0%",x2:"100%",y2:"0%",spreadMethod:"pad"},Le.createElement("stop",{offset:"0%",stopColor:"#fff",stopOpacity:"0.8"}),Le.createElement("stop",{offset:"100%",stopColor:"#000",stopOpacity:"0.5"})),Le.createElement("mask",{id:u,x:"0",y:"0",width:"20",height:Math.max(n,i)},Le.createElement("rect",{x:"0",y:"0",width:"20",height:Math.max(n,i),style:{stroke:"none",fill:"url(#".concat(f,")")}}))),Le.createElement("rect",{x:"0",y:"0",width:"20",height:Math.max(n,i),style:{stroke:"none",fill:"#000",mask:"url(#".concat(u,")")},transform:h}))}KI.propTypes={direction:Te.oneOf([ya,vo,_a,Mi]).isRequired,width:Te.number.isRequired,height:Te.number.isRequired};var gm=XI(KI);function YI(e){var t=e.startX,n=e.startY,i=e.endX,s=e.endY;if(!t||!n||!i||!s)return null;var h=FI({x:t,y:n},{x:i,y:s});return Le.createElement("rect",{stroke:"#969FFF",strokeOpacity:.7,fill:"#F3F4FF",fillOpacity:.7,x:h.x,y:h.y,width:h.width,height:h.height,style:{pointerEvents:"none"}})}YI.propTypes={startX:Te.number,startY:Te.number,endX:Te.number,endY:Te.number};function E$(){return Le.createElement("svg",{width:24,height:24,stroke:"currentColor"},Le.createElement("path",{d:"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z"}))}function k$(){return Le.createElement("svg",{width:24,height:24,stroke:"currentColor"},Le.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}function C$(){return Le.createElement("svg",{width:24,height:24,stroke:"currentColor"},Le.createElement("g",null,Le.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Le.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}function T$(){return Le.createElement("svg",{width:24,height:24,stroke:"currentColor"},Le.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}function P$(){return Le.createElement("svg",{width:24,height:24,stroke:"currentColor"},Le.createElement("path",{d:"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"}))}function D1(e){return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function I$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function A$(e,t,n){return t&&NE(e.prototype,t),n&&NE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},R1(e,t)}function z$(e){var t=L$();return function(){var i=Fg(e),s;if(t){var h=Fg(this).constructor;s=Reflect.construct(i,arguments,h)}else s=i.apply(this,arguments);return D$(this,s)}}function D$(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R$(e)}function R$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(e)}var cc=function(e){M$(n,e);var t=z$(n);function n(i){var s;return I$(this,n),s=t.call(this,i),s.state={hover:!1},s}return A$(n,[{key:"change",value:function(s){switch(s.preventDefault(),s.stopPropagation(),s.type){case"mouseenter":case"touchstart":this.setState({hover:!0});break;case"mouseleave":case"touchend":case"touchcancel":this.setState({hover:!1});break}}},{key:"render",value:function(){var s=this,h={display:"block",width:"24px",height:"24px",margin:[ya,_a].indexOf(this.props.toolbarPosition)>=0?"2px 1px":"1px 2px",color:this.props.active||this.state.hover?this.props.activeColor:"#FFF",transition:"color 200ms ease",background:"none",padding:"0px",border:"0px",outline:"0px",cursor:"pointer"};return Le.createElement("button",{onMouseEnter:function(u){return s.change(u)},onMouseLeave:function(u){return s.change(u)},onTouchStart:function(u){s.change(u),s.props.onClick(u)},onTouchEnd:function(u){return s.change(u)},onTouchCancel:function(u){return s.change(u)},onClick:this.props.onClick,style:h,title:this.props.title,name:this.props.name,type:"button"},this.props.children)}}]),n}(Le.Component);cc.propTypes={title:Te.string.isRequired,name:Te.string.isRequired,toolbarPosition:Te.string.isRequired,activeColor:Te.string.isRequired,onClick:Te.func.isRequired,active:Te.bool.isRequired};function lw(e){var t=e.tool,n=e.value,i=e.onChangeValue,s=e.onChangeTool,h=e.activeToolColor,f=e.position,u=e.SVGAlignX,w=e.SVGAlignY,b=function(W,H){s(H),W.stopPropagation(),W.preventDefault()},C=function(W){i(BI(n,u,w)),W.stopPropagation(),W.preventDefault()},M=[ya,_a].indexOf(f)>=0,T={position:"absolute",transform:[ya,_a].indexOf(f)>=0?"translate(-50%, 0px)":"none",top:[Mi,vo,ya].indexOf(f)>=0?"5px":"unset",left:[ya,_a].indexOf(f)>=0?"50%":Mi===f?"5px":"unset",right:[vo].indexOf(f)>=0?"5px":"unset",bottom:[_a].indexOf(f)>=0?"5px":"unset",backgroundColor:"rgba(19, 20, 22, 0.90)",borderRadius:"2px",display:"flex",flexDirection:M?"row":"column",padding:M?"1px 2px":"2px 1px"};return Le.createElement("div",{style:T,role:"toolbar"},Le.createElement(cc,{toolbarPosition:f,active:t===Ks,activeColor:h,name:"unselect-tools",title:"Selection",onClick:function(W){return b(W,Ks)}},Le.createElement(E$,null)),Le.createElement(cc,{toolbarPosition:f,active:t===wa,activeColor:h,name:"select-tool-pan",title:"Pan",onClick:function(W){return b(W,wa)}},Le.createElement(k$,null)),Le.createElement(cc,{toolbarPosition:f,active:t===ss,activeColor:h,name:"select-tool-zoom-in",title:"Zoom in",onClick:function(W){return b(W,ss)}},Le.createElement(C$,null)),Le.createElement(cc,{toolbarPosition:f,active:t===nl,activeColor:h,name:"select-tool-zoom-out",title:"Zoom out",onClick:function(W){return b(W,nl)}},Le.createElement(T$,null)),Le.createElement(cc,{toolbarPosition:f,active:!1,activeColor:h,name:"fit-to-viewer",title:"Fit to viewer",onClick:function(W){return C(W)}},Le.createElement(P$,null)))}lw.propTypes={tool:Te.string.isRequired,onChangeTool:Te.func.isRequired,value:Te.object.isRequired,onChangeValue:Te.func.isRequired,position:Te.oneOf([ya,vo,_a,Mi]),SVGAlignX:Te.oneOf([Uc,Gc,rw]),SVGAlignY:Te.oneOf([Uc,Wc,iw]),activeToolColor:Te.string};lw.defaultProps={position:vo,SVGAlignX:Gc,SVGAlignY:Wc,activeToolColor:"#1CA6FC"};function O$(){return"ontouchstart"in window||navigator.maxTouchPoints}function JI(e){var t=e.open,n=e.position,i=0;switch(n){case Mi:i=t?"rotate(225, 12, 13)":"rotate(45, 12, 13)";break;case vo:i=i=t?"rotate(135, 12, 13)":"rotate(-45, 12, 13)";break}return Le.createElement("svg",{width:24,height:24,stroke:"currentColor"},Le.createElement("g",{transform:i},Le.createElement("path",{fill:"#000000",d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"})))}JI.propTypes={open:Te.bool.isRequired,position:Te.oneOf([vo,Mi]).isRequired};function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QI(e){var t,n=e.value,i=e.onChangeValue,s=e.position,h=(t={width:"24px",height:"24px",display:"block",position:"absolute",bottom:0},ic(t,s===Mi?"left":"right","0px"),ic(t,"background","rgba(19, 20, 22, 0.901961)"),ic(t,"border",0),ic(t,"padding",0),ic(t,"outline",0),ic(t,"color","#fff"),t),f=n.miniatureOpen?ZI:qI;return Le.createElement("button",{type:"button",style:h,onClick:function(){return i(f(n))}},Le.createElement(JI,{open:n.miniatureOpen,position:s}))}QI.propTypes={value:Te.object.isRequired,onChangeValue:Te.func.isRequired,position:Te.oneOf([vo,Mi]).isRequired};var F$="react-svg-pan-zoom_miniature";function e3(e){var t=e.SVGMinX,n=e.SVGMinY,i=e.SVGWidth,s=e.SVGHeight,h=e.x1,f=e.y1,u=e.x2,w=e.y2;e.zoomToFit;var b=e._uid,C="".concat(F$,"_mask_").concat(b);return Le.createElement("g",null,Le.createElement("defs",null,Le.createElement("mask",{id:C},Le.createElement("rect",{x:t,y:n,width:i,height:s,fill:"#ffffff"}),Le.createElement("rect",{x:h,y:f,width:u-h,height:w-f}))),Le.createElement("rect",{x:t,y:n,width:i,height:s,style:{stroke:"none",fill:"#000",mask:"url(#".concat(C,")"),opacity:.4}}))}e3.propTypes={SVGWidth:Te.number.isRequired,SVGHeight:Te.number.isRequired,SVGMinX:Te.number.isRequired,SVGMinY:Te.number.isRequired,x1:Te.number.isRequired,y1:Te.number.isRequired,x2:Te.number.isRequired,y2:Te.number.isRequired,zoomToFit:Te.number.isRequired};var $$=XI(e3);function jE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B$(e,t){return U$(e)||j$(e,t)||N$(e,t)||V$()}function V$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$(e,t){if(!!e){if(typeof e=="string")return UE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UE(e,t)}}function UE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j$(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,h=!1,f,u;try{for(n=n.call(e);!(s=(f=n.next()).done)&&(i.push(f.value),!(t&&i.length===t));s=!0);}catch(w){h=!0,u=w}finally{try{!s&&n.return!=null&&n.return()}finally{if(h)throw u}}return i}}function U$(e){if(Array.isArray(e))return e}function uw(e){var t,n=e.value,i=e.onChangeValue,s=e.children,h=e.position,f=e.background,u=e.SVGBackground,w=e.width,b=e.height,C=n.SVGMinX,M=n.SVGMinY,T=n.SVGWidth,N=n.SVGHeight,W=n.viewerWidth,H=n.viewerHeight,le=N/T,V=le>=1?b/N:w/T,B=II(MI(n),[{x:0,y:0},{x:W,y:H}]),Y=B$(B,2),se=Y[0],oe=se.x,de=se.y,me=Y[1],xe=me.x,Be=me.y,Ie,Qe;n.miniatureOpen?(Ie=w,Qe=b):(Ie=24,Qe=24);var Tt=(t={position:"absolute",overflow:"hidden",outline:"1px solid rgba(19, 20, 22, 0.90)",transition:"width 200ms ease, height 200ms ease, bottom 200ms ease",width:Ie+"px",height:Qe+"px",bottom:"6px"},jE(t,h===Mi?"left":"right","6px"),jE(t,"background",f),t),Ct=le>=1?"translate(".concat((w-T*V)/2-C*V,", ").concat(-M*V,")"):"translate(".concat(-C*V,", ").concat((b-N*V)/2-M*V,")");return Le.createElement("div",{role:"navigation",style:Tt},Le.createElement("svg",{width:w,height:b,style:{pointerEvents:"none"}},Le.createElement("g",{transform:Ct},Le.createElement("g",{transform:"scale(".concat(V,", ").concat(V,")")},Le.createElement("rect",{fill:u,x:C,y:M,width:T,height:N}),s,Le.createElement($$,{SVGWidth:T,SVGHeight:N,SVGMinX:C,SVGMinY:M,x1:oe,y1:de,x2:xe,y2:Be,zoomToFit:V})))),Le.createElement(QI,{value:n,onChangeValue:i,position:h}))}uw.propTypes={value:Te.object.isRequired,onChangeValue:Te.func.isRequired,SVGBackground:Te.string.isRequired,position:Te.oneOf([vo,Mi]),background:Te.string.isRequired,width:Te.number.isRequired,height:Te.number.isRequired};uw.defaultProps={position:Mi,background:"#616264",width:100,height:80};function L1(e){return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function $g(){return $g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$g.apply(this,arguments)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function G$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(i){W$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function W$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WE(e,t){return X$(e)||H$(e,t)||Z$(e,t)||q$()}function q$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z$(e,t){if(!!e){if(typeof e=="string")return qE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(e,t)}}function qE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function H$(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,h=!1,f,u;try{for(n=n.call(e);!(s=(f=n.next()).done)&&(i.push(f.value),!(t&&i.length===t));s=!0);}catch(w){h=!0,u=w}finally{try{!s&&n.return!=null&&n.return()}finally{if(h)throw u}}return i}}function X$(e){if(Array.isArray(e))return e}function K$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Y$(e,t,n){return t&&ZE(e.prototype,t),n&&ZE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O1(e,t)}function O1(e,t){return O1=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},O1(e,t)}function Q$(e){var t=tB();return function(){var i=Bg(e),s;if(t){var h=Bg(this).constructor;s=Reflect.construct(i,arguments,h)}else s=i.apply(this,arguments);return eB(this,s)}}function eB(e,t){if(t&&(L1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F1(e)}function F1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tB(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bg(e)}var cw=function(e){J$(n,e);var t=Q$(n);function n(i,s){var h;K$(this,n);var f=i.width,u=i.height,w=i.scaleFactorMin,b=i.scaleFactorMax,C=i.children,M=C.props.viewBox,T;if(M){var N=OE(M),W=WE(N,4),H=W[0],le=W[1],V=W[2],B=W[3];T=kE(f,u,H,le,V,B,w,b)}else{var Y=C.props,se=Y.width,oe=Y.height;T=kE(f,u,0,0,se,oe,w,b)}return h=t.call(this,i,s),h.ViewerDOM=null,h.state={pointerX:null,pointerY:null,defaultValue:T},h.autoPanLoop=h.autoPanLoop.bind(F1(h)),h.onWheel=h.onWheel.bind(F1(h)),h}return Y$(n,[{key:"componentDidUpdate",value:function(s){var h=this.getValue(),f=this.props,u=h,w=!1,b=f.children.props.viewBox;if(b){var C=OE(b),M=WE(C,4),T=M[0],N=M[1],W=M[2],H=M[3];(h.SVGMinX!==T||h.SVGMinY!==N||h.SVGWidth!==W||h.SVGHeight!==H)&&(u=CE(u,T,N,W,H),w=!0)}else{var le=f.children.props,V=le.width,B=le.height;(h.SVGWidth!==V||h.SVGHeight!==B)&&(u=CE(u,0,0,V,B),w=!0)}(s.width!==f.width||s.height!==f.height)&&(u=gF(u,f.width,f.height),w=!0),(s.scaleFactorMin!==f.scaleFactorMin||s.scaleFactorMax!==f.scaleFactorMax)&&(u=yF(u,f.scaleFactorMin,f.scaleFactorMax),w=!0),w&&this.setValue(u)}},{key:"componentDidMount",value:function(){this.autoPanIsRunning=!0,requestAnimationFrame(this.autoPanLoop),this.ViewerDOM.addEventListener("wheel",this.onWheel,!1)}},{key:"componentWillUnmount",value:function(){this.autoPanIsRunning=!1,this.ViewerDOM.removeEventListener("wheel",this.onWheel)}},{key:"getValue",value:function(){return pF(this.props.value)?this.props.value:this.state.defaultValue}},{key:"getTool",value:function(){return this.props.tool?this.props.tool:Ks}},{key:"setValue",value:function(s){var h=this.props,f=h.onChangeValue,u=h.onZoom,w=h.onPan;f&&f(s),s.lastAction&&(u&&s.lastAction===wy&&u(s),w&&s.lastAction===Ff&&w(s))}},{key:"pan",value:function(s,h){var f=ow(this.getValue(),s,h);this.setValue(f)}},{key:"zoom",value:function(s,h,f){var u=nh(this.getValue(),s,h,f);this.setValue(u)}},{key:"fitSelection",value:function(s,h,f,u){var w=$I(this.getValue(),s,h,f,u);this.setValue(w)}},{key:"fitToViewer",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gc,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wc,f=BI(this.getValue(),s,h);this.setValue(f)}},{key:"zoomOnViewerCenter",value:function(s){var h=DF(this.getValue(),s);this.setValue(h)}},{key:"setPointOnViewerCenter",value:function(s,h,f){var u=_F(this.getValue(),s,h,f);this.setValue(u)}},{key:"reset",value:function(){var s=vF(this.getValue());this.setValue(s)}},{key:"openMiniature",value:function(){var s=qI(this.getValue());this.setValue(s)}},{key:"closeMiniature",value:function(){var s=ZI(this.getValue());this.setValue(s)}},{key:"handleViewerEvent",value:function(s){var h=this.props,f=this.ViewerDOM;if([Ks,na].indexOf(this.getTool())>=0&&s.target!==f){var u={click:h.onClick,dblclick:h.onDoubleClick,mousemove:h.onMouseMove,mouseup:h.onMouseUp,mousedown:h.onMouseDown,touchstart:h.onTouchStart,touchmove:h.onTouchMove,touchend:h.onTouchEnd,touchcancel:h.onTouchCancel},w=u[s.type];!w||w(r$(s,h.value,f))}}},{key:"autoPanLoop",value:function(){var s={x:this.state.pointerX,y:this.state.pointerY},h=BF(null,this.ViewerDOM,this.getTool(),this.getValue(),this.props,s);this.getValue()!==h&&this.setValue(h),this.autoPanIsRunning&&requestAnimationFrame(this.autoPanLoop)}},{key:"onWheel",value:function(s){var h=$F(s,this.ViewerDOM,this.getTool(),this.getValue(),this.props);this.getValue()!==h&&this.setValue(h)}},{key:"render",value:function(){var s=this,h=this.props,f=this.state,u=f.pointerX,w=f.pointerY,b=this.getTool(),C=this.getValue(),M=h.customToolbar,T=M===void 0?lw:M,N=h.customMiniature,W=N===void 0?uw:N,H=b===na&&C.mode===oa&&C.startX!==C.endX&&C.startY!==C.endY,le;b===wa&&(le=mm(C.mode===oa?"grabbing":"grab")),b===ss&&(le=mm("zoom-in")),b===nl&&(le=mm("zoom-out")),H&&(le=mm("grabbing"));var V=[wa,ss,nl].indexOf(b)>=0;V=V||H;var B=this.props.detectPinchGesture||[wa,na].indexOf(this.getTool())!==-1?"none":void 0,Y={display:"block",cursor:le,touchAction:B};return Le.createElement("div",{style:G$({position:"relative",width:C.viewerWidth,height:C.viewerHeight},h.style),className:this.props.className},Le.createElement("svg",{ref:function(oe){return s.ViewerDOM=oe},width:C.viewerWidth,height:C.viewerHeight,style:Y,onMouseDown:function(oe){var de=VI(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de),s.handleViewerEvent(oe)},onMouseMove:function(oe){var de=s.ViewerDOM.getBoundingClientRect(),me=de.left,xe=de.top,Be=oe.clientX-Math.round(me),Ie=oe.clientY-Math.round(xe),Qe=NI(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props,{x:Be,y:Ie});s.getValue()!==Qe&&s.setValue(Qe),s.setState({pointerX:Be,pointerY:Ie}),s.handleViewerEvent(oe)},onMouseUp:function(oe){var de=jI(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de),s.handleViewerEvent(oe)},onClick:function(oe){s.handleViewerEvent(oe)},onDoubleClick:function(oe){var de=FF(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de),s.handleViewerEvent(oe)},onMouseEnter:function(oe){if(!O$()){var de=ME(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de)}},onMouseLeave:function(oe){var de=ME(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de)},onTouchStart:function(oe){var de=a$(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de),s.handleViewerEvent(oe)},onTouchMove:function(oe){var de=s$(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de),s.handleViewerEvent(oe)},onTouchEnd:function(oe){var de=l$(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de),s.handleViewerEvent(oe)},onTouchCancel:function(oe){var de=u$(oe,s.ViewerDOM,s.getTool(),s.getValue(),s.props);s.getValue()!==de&&s.setValue(de),s.handleViewerEvent(oe)}},Le.createElement("rect",{fill:h.background,x:0,y:0,width:C.viewerWidth,height:C.viewerHeight,style:{pointerEvents:"none"}}),Le.createElement("g",{transform:cF(C),style:V?{pointerEvents:"none"}:{}},Le.createElement("rect",{fill:this.props.SVGBackground,style:this.props.SVGStyle,x:C.SVGMinX||0,y:C.SVGMinY||0,width:C.SVGWidth,height:C.SVGHeight}),Le.createElement("g",null,h.children.props.children)),[Ks,na].indexOf(b)>=0&&h.detectAutoPan&&C.focus?Le.createElement("g",{style:{pointerEvents:"none"}},w<=20?Le.createElement(gm,{direction:ya,width:C.viewerWidth,height:C.viewerHeight}):null,C.viewerWidth-u<=20?Le.createElement(gm,{direction:vo,width:C.viewerWidth,height:C.viewerHeight}):null,C.viewerHeight-w<=20?Le.createElement(gm,{direction:_a,width:C.viewerWidth,height:C.viewerHeight}):null,C.focus&&u<=20?Le.createElement(gm,{direction:Mi,width:C.viewerWidth,height:C.viewerHeight}):null):null,C.mode!==aa?null:Le.createElement(YI,{startX:C.startX,startY:C.startY,endX:C.endX,endY:C.endY})),h.toolbarProps.position===zg?null:Le.createElement(T,$g({},this.props.toolbarProps,{value:C,onChangeValue:function(oe){return s.setValue(oe)},tool:b,onChangeTool:function(oe){return s.props.onChangeTool(oe)}})),h.miniatureProps.position===zg?null:Le.createElement(W,$g({},this.props.miniatureProps,{value:C,onChangeValue:function(oe){return s.setValue(oe)},SVGBackground:this.props.SVGBackground}),h.children.props.children))}}]),n}(Le.Component);cw.propTypes={width:Te.number.isRequired,height:Te.number.isRequired,value:Te.oneOfType([Te.object,Te.shape({version:Te.oneOf([2]).isRequired,mode:Te.oneOf([_o,oa,aa]).isRequired,focus:Te.bool.isRequired,a:Te.number.isRequired,b:Te.number.isRequired,c:Te.number.isRequired,d:Te.number.isRequired,e:Te.number.isRequired,f:Te.number.isRequired,viewerWidth:Te.number.isRequired,viewerHeight:Te.number.isRequired,SVGMinX:Te.number.isRequired,SVGMinY:Te.number.isRequired,SVGWidth:Te.number.isRequired,SVGHeight:Te.number.isRequired,startX:Te.number,startY:Te.number,endX:Te.number,endY:Te.number,miniatureOpen:Te.bool.isRequired})]).isRequired,onChangeValue:Te.func.isRequired,tool:Te.oneOf([na,Ks,wa,ss,nl]).isRequired,onChangeTool:Te.func.isRequired,background:Te.string,SVGBackground:Te.string,SVGStyle:Te.object,style:Te.object,className:Te.string,detectWheel:Te.bool,detectAutoPan:Te.bool,detectPinchGesture:Te.bool,onZoom:Te.func,onPan:Te.func,onClick:Te.func,onDoubleClick:Te.func,onMouseUp:Te.func,onMouseMove:Te.func,onMouseDown:Te.func,preventPanOutside:Te.bool,scaleFactor:Te.number,scaleFactorOnWheel:Te.number,scaleFactorMax:Te.number,scaleFactorMin:Te.number,modifierKeys:Te.array,disableDoubleClickZoomWithToolAuto:Te.bool,customMiniature:Te.oneOfType([Te.element,Te.func]),miniatureProps:Te.shape({position:Te.oneOf([zg,vo,Mi]),background:Te.string,width:Te.number,height:Te.number}),customToolbar:Te.oneOfType([Te.element,Te.func]),toolbarProps:Te.shape({position:Te.oneOf([zg,ya,vo,_a,Mi]),SVGAlignX:Te.oneOf([Uc,Gc,rw]),SVGAlignY:Te.oneOf([Uc,Wc,iw]),activeToolColor:Te.string}),children:function(t,n,i){var s=t[n],h=["svg"];if(Le.Children.count(s)!==1||h.indexOf(s.type)===-1)return new Error("`"+i+"` should have a single child of the following types:  `"+h.join("`, `")+"`.");if((!s.props.hasOwnProperty("width")||!s.props.hasOwnProperty("height"))&&!s.props.hasOwnProperty("viewBox"))return new Error("SVG should have props `width` and `height` or `viewBox`")}};cw.defaultProps={style:{},background:"#616264",SVGBackground:"#fff",SVGStyle:{},detectWheel:!0,detectAutoPan:!0,detectPinchGesture:!0,modifierKeys:["Alt","Shift","Control"],preventPanOutside:!0,scaleFactor:1.1,scaleFactorOnWheel:1.06,disableZoomWithToolAuto:!1,onZoom:null,onPan:null,toolbarProps:{},miniatureProps:{}};function $1(e){return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}var nB=["width","height","onChangeTool","onChangeValue"];function B1(){return B1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B1.apply(this,arguments)}function rB(e,t){if(e==null)return{};var n=iB(e,t),i,s;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(s=0;s<h.length;s++)i=h[s],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(n[i]=e[i]))}return n}function iB(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,h;for(h=0;h<i.length;h++)s=i[h],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function oB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function aB(e,t,n){return t&&HE(e.prototype,t),n&&HE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V1(e,t)}function V1(e,t){return V1=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},V1(e,t)}function lB(e){var t=cB();return function(){var i=Vg(e),s;if(t){var h=Vg(this).constructor;s=Reflect.construct(i,arguments,h)}else s=i.apply(this,arguments);return uB(this,s)}}function uB(e,t){if(t&&($1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N1(e)}function N1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cB(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(e)}var t3=function(e){sB(n,e);var t=lB(n);function n(i){var s;return oB(this,n),s=t.call(this,i),s.state={value:i.defaultValue||{},tool:i.defaultTool||Ks},s.Viewer=null,s.changeTool=s.changeTool.bind(N1(s)),s.changeValue=s.changeValue.bind(N1(s)),s}return aB(n,[{key:"changeTool",value:function(s){this.setState({tool:s})}},{key:"changeValue",value:function(s){this.setState({value:s})}},{key:"pan",value:function(s,h){this.Viewer.pan(s,h)}},{key:"zoom",value:function(s,h,f){this.Viewer.zoom(s,h,f)}},{key:"fitSelection",value:function(s,h,f,u){this.Viewer.fitSelection(s,h,f,u)}},{key:"fitToViewer",value:function(s,h){this.Viewer.fitToViewer(s,h)}},{key:"zoomOnViewerCenter",value:function(s){this.Viewer.zoomOnViewerCenter(s)}},{key:"setPointOnViewerCenter",value:function(s,h,f){this.Viewer.setPointOnViewerCenter(s,h,f)}},{key:"reset",value:function(){this.Viewer.reset()}},{key:"openMiniature",value:function(){this.Viewer.openMiniature()}},{key:"closeMiniature",value:function(){this.Viewer.closeMiniature()}},{key:"render",value:function(){var s=this,h=this.props,f=h.width,u=h.height;h.onChangeTool,h.onChangeValue;var w=rB(h,nB),b=this.state,C=b.tool,M=b.value;return Le.createElement(cw,B1({width:f,height:u,tool:C,onChangeTool:this.changeTool,value:M,onChangeValue:this.changeValue,ref:function(N){return s.Viewer=N}},w))}}]),n}(Le.Component);t3.propTypes={width:Te.number.isRequired,height:Te.number.isRequired,defaultValue:Te.object,defaultTool:Te.string};const hB=un("div",{height:"calc(100vh - $4 - $4)",overflowY:"scroll",width:"calc(100%/3)"}),dB=un("div",{width:"100%",height:"calc(100vh - $4 - $4)"}),fB=un("table",{padding:"$2"}),pB=un("div",{width:"calc(100%/3*2)"}),mB=un("tr",{cursor:"pointer",fontFamily:"monospace"},{"&:hover":{color:"red"}}),gB=un("div",{display:"flex"}),yB=e=>{let[t,n,i]=my(e.entry.tileId);return kt(mB,{onClick:()=>{e.setSelectedEntry(e.entry)},children:[Oe("td",{children:e.entry.tileId}),Oe("td",{children:t}),Oe("td",{children:n}),Oe("td",{children:i}),Oe("td",{children:e.entry.offset}),Oe("td",{children:e.entry.length}),Oe("td",{children:e.entry.runLength==0?"directory":`tile(${e.entry.runLength})`})]})};let _B=(e,t)=>e.name==="earth"?-4:e.name==="water"?-3:e.name==="natural"?-2:e.name==="landuse"?-1:e.name==="places"?1:0;const vB=e=>{let[t,n]=j.exports.useState(!1),i="none",s="";e.feature.type===3?i=t?"white":"currentColor":s=t?"white":"currentColor";let h=()=>{n(!0)},f=()=>{n(!1)},u=()=>{e.setSelectedFeature(e.feature)};return Oe("path",{d:e.feature.path,stroke:s,strokeWidth:10,fill:i,fillOpacity:.5,onMouseOver:h,onMouseOut:f,onMouseDown:u})},xB=e=>{let t=e.layer.features.map((n,i)=>Oe(vB,{feature:n,setSelectedFeature:e.setSelectedFeature},i));return Oe("g",{color:e.color,children:t})},wB=un("div",{position:"absolute",right:0,bottom:0,backgroundColor:"$black",padding:"$1"}),bB=e=>{let t=[];for(var n in e.feature.properties)t.push([n,e.feature.properties[n]]);const i=t.map((s,h)=>kt("tr",{children:[Oe("td",{children:s[0]}),Oe("td",{children:s[1]})]},h));return kt(wB,{children:[e.feature.layerName,Oe("table",{children:Oe("tbody",{children:i})})]})},SB=e=>{let[t,n]=j.exports.useState([]),[i,s]=j.exports.useState(0),[h,f]=j.exports.useState(null);const u=j.exports.useRef(null),[w,{width:b,height:C}]=uF();j.exports.useEffect(()=>{u.current.zoomOnViewerCenter(.1)},[]),j.exports.useEffect(()=>{let T=async N=>{let[W,H,le]=my(N.tileId),V=await e.file.getZxy(W,H,le),B=new YO(new _O(new Uint8Array(V.data))),Y=[],se=0;for(let[me,xe]of Object.entries(B.layers)){xe.extent>se&&(se=xe.extent);let Be=[];for(var oe=0;oe<xe.length;oe++){let Ie=xe.feature(oe),Qe=kI(),Tt=Ie.loadGeometry();if(Ie.type===1)for(let Ct of Tt)for(let Et of Ct)Qe.arc(Et.x,Et.y,20,0,2*Math.PI);else for(let Ct of Tt){Qe.moveTo(Ct[0].x,Ct[0].y);for(var de=1;de<Ct.length;de++)Qe.lineTo(Ct[de].x,Ct[de].y);Ie.type===3&&Qe.closePath()}Be.push({path:Qe.toString(),type:Ie.type,id:Ie.id,properties:Ie.properties,layerName:me})}Y.push({features:Be,name:me})}s(se),Y.sort(_B),n(Y)};e.entry&&T(e.entry)},[e.entry]);let M=t.map((T,N)=>Oe(xB,{layer:T,color:Bm[N%12],setSelectedFeature:f},N));return kt(dB,{ref:w,children:[Oe(t3,{ref:u,width:b,height:C,detectAutoPan:!1,onClick:T=>console.log("click",T.x,T.y,T.originalEvent),children:Oe("svg",{viewBox:"0 0 4096 4096",children:M})}),h?Oe(bB,{feature:h}):null]})},EB=e=>{let[t,n]=j.exports.useState("");return j.exports.useEffect(()=>{let i=async s=>{let[h,f,u]=my(s.tileId),w=await e.file.getZxy(h,f,u),b=new Blob([w.data]);var C=window.URL.createObjectURL(b);n(C)};e.entry&&i(e.entry)},[e.entry]),Oe("img",{src:t})};function kB(e){const[t,n,i]=my(e.tileId);let s=`${t}/${n}/${i}`;const h="inspector";let f=!1;const u=window.location.hash.slice(1).split("&").map(w=>{const b=w.split("=")[0];return b===h?(f=!0,`${b}=${s}`):w}).filter(w=>w);return f||u.push(`${h}=${s}`),`#${u.join("&")}`}function CB(e){let[t,n]=j.exports.useState([]),[i,s]=j.exports.useState(null),[h,f]=j.exports.useState(null);function u(M){M&&M.runLength>0&&window.history.replaceState(window.history.state,"",kB(M)),s(M)}j.exports.useEffect(()=>{(async()=>{let T=await e.file.getHeader();if(f(T),T.specVersion<3)n([]);else if(i!==null&&i.runLength===0){let N=await e.file.cache.getDirectory(e.file.source,T.leafDirectoryOffset+i.offset,i.length,T);n(N)}else if(i===null){let N=await e.file.cache.getDirectory(e.file.source,T.rootDirectoryOffset,T.rootDirectoryLength,T);n(N)}})()},[e.file,i]);let w=t.map((M,T)=>Oe(yB,{entry:M,setSelectedEntry:u},T)),b=Oe("div",{});i&&(h==null?void 0:h.tileType)&&(i.runLength===0||(h.tileType===Jl.Mvt?b=Oe(SB,{file:e.file,entry:i,tileType:h.tileType}):b=Oe(EB,{file:e.file,entry:i})));let C="";return h&&h.specVersion<3&&(C="Directory listing supported only for PMTiles v3 archives."),kt(gB,{children:[kt(hB,{children:[C,kt(fB,{children:[Oe("thead",{children:kt("tr",{children:[Oe("th",{children:"tileid"}),Oe("th",{children:"z"}),Oe("th",{children:"x"}),Oe("th",{children:"y"}),Oe("th",{children:"offset"}),Oe("th",{children:"length"}),Oe("th",{children:"type"})]})}),Oe("tbody",{children:w})]})]}),Oe(pB,{children:b})]})}var ih={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3=j.exports;function qt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W_=!1;function at(e,t){return W_&&(W_=!1,t[0]!=="<"&&e.push("<!-- -->")),t==="<!-- -->"?W_=!0:e.push(t)}var oo=Object.prototype.hasOwnProperty,TB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XE={},KE={};function r3(e){return oo.call(KE,e)?!0:oo.call(XE,e)?!1:TB.test(e)?KE[e]=!0:(XE[e]=!0,!1)}function Ri(e,t,n,i,s,h,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=f}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qr[e]=new Ri(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qr[t]=new Ri(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qr[e]=new Ri(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qr[e]=new Ri(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qr[e]=new Ri(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qr[e]=new Ri(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qr[e]=new Ri(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qr[e]=new Ri(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qr[e]=new Ri(e,5,!1,e.toLowerCase(),null,!1,!1)});var hw=/[\-:]([a-z])/g;function dw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hw,dw);Qr[t]=new Ri(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hw,dw);Qr[t]=new Ri(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hw,dw);Qr[t]=new Ri(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qr[e]=new Ri(e,1,!1,e.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new Ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qr[e]=new Ri(e,1,!1,e.toLowerCase(),null,!0,!0)});var Nm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PB=["Webkit","ms","Moz","O"];Object.keys(Nm).forEach(function(e){PB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nm[t]=Nm[e]})});var IB=/["'&<>]/;function Pi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=IB.exec(e);if(t){var n="",i,s=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==i&&(n+=e.substring(s,i)),s=i+1,n+=t}e=s!==i?n+e.substring(s,i):n}return e}var AB=/([A-Z])/g,MB=/^ms-/,j1=Array.isArray;function Ga(e,t){return{insertionMode:e,selectedValue:t}}function zB(e,t,n){switch(t){case"select":return Ga(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ga(2,null);case"math":return Ga(3,null);case"foreignObject":return Ga(1,null);case"table":return Ga(4,null);case"thead":case"tbody":case"tfoot":return Ga(5,null);case"colgroup":return Ga(7,null);case"tr":return Ga(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ga(1,null):e}function YE(e,t){t!==""&&e.push(Pi(t),"<!-- -->")}var JE=new Map;function i3(e,t,n){if(typeof n!="object")throw Error(qt(62));t=!0;for(var i in n)if(oo.call(n,i)){var s=n[i];if(s!=null&&typeof s!="boolean"&&s!==""){if(i.indexOf("--")===0){var h=Pi(i);s=Pi((""+s).trim())}else{h=i;var f=JE.get(h);f!==void 0||(f=Pi(h.replace(AB,"-$1").toLowerCase().replace(MB,"-ms-")),JE.set(h,f)),h=f,s=typeof s=="number"?s===0||oo.call(Nm,i)?""+s:s+"px":Pi((""+s).trim())}t?(t=!1,e.push(' style="',h,":",s)):e.push(";",h,":",s)}}t||e.push('"')}function zo(e,t,n,i){switch(n){case"style":i3(e,t,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Qr.hasOwnProperty(n)?Qr[n]:null,t!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:i&&e.push(" ",n,'=""');break;case 4:i===!0?e.push(" ",n,'=""'):i!==!1&&e.push(" ",n,'="',Pi(i),'"');break;case 5:isNaN(i)||e.push(" ",n,'="',Pi(i),'"');break;case 6:!isNaN(i)&&1<=i&&e.push(" ",n,'="',Pi(i),'"');break;default:t.sanitizeURL&&(i=""+i),e.push(" ",n,'="',Pi(i),'"')}}else if(r3(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Pi(i),'"')}}}function jm(e,t,n){if(t!=null){if(n!=null)throw Error(qt(60));if(typeof t!="object"||!("__html"in t))throw Error(qt(61));t=t.__html,t!=null&&e.push(""+t)}}function DB(e){var t="";return n3.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function q_(e,t,n,i){e.push(qa(n));var s=n=null,h;for(h in t)if(oo.call(t,h)){var f=t[h];if(f!=null)switch(h){case"children":n=f;break;case"dangerouslySetInnerHTML":s=f;break;default:zo(e,i,h,f)}}return e.push(">"),jm(e,s,n),typeof n=="string"?(e.push(Pi(n)),null):n}var RB=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,QE=new Map;function qa(e){var t=QE.get(e);if(t===void 0){if(!RB.test(e))throw Error(qt(65,e));t="<"+e,QE.set(e,t)}return t}function LB(e,t,n,i,s){switch(t){case"select":e.push(qa("select"));var h=null,f=null;for(C in n)if(oo.call(n,C)){var u=n[C];if(u!=null)switch(C){case"children":h=u;break;case"dangerouslySetInnerHTML":f=u;break;case"defaultValue":case"value":break;default:zo(e,i,C,u)}}return e.push(">"),jm(e,f,h),h;case"option":f=s.selectedValue,e.push(qa("option"));var w=u=null,b=null,C=null;for(h in n)if(oo.call(n,h)&&(t=n[h],t!=null))switch(h){case"children":u=t;break;case"selected":b=t;break;case"dangerouslySetInnerHTML":C=t;break;case"value":w=t;default:zo(e,i,h,t)}if(f!=null)if(n=w!==null?""+w:DB(u),j1(f)){for(i=0;i<f.length;i++)if(""+f[i]===n){e.push(' selected=""');break}}else""+f===n&&e.push(' selected=""');else b&&e.push(' selected=""');return e.push(">"),jm(e,C,u),u;case"textarea":e.push(qa("textarea")),C=f=h=null;for(u in n)if(oo.call(n,u)&&(w=n[u],w!=null))switch(u){case"children":C=w;break;case"value":h=w;break;case"defaultValue":f=w;break;case"dangerouslySetInnerHTML":throw Error(qt(91));default:zo(e,i,u,w)}if(h===null&&f!==null&&(h=f),e.push(">"),C!=null){if(h!=null)throw Error(qt(92));if(j1(C)&&1<C.length)throw Error(qt(93));h=""+C}return typeof h=="string"&&h[0]===`
`&&e.push(`
`),h!==null&&e.push(Pi(""+h)),null;case"input":e.push(qa("input")),w=C=u=h=null;for(f in n)if(oo.call(n,f)&&(b=n[f],b!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(qt(399,"input"));case"defaultChecked":w=b;break;case"defaultValue":u=b;break;case"checked":C=b;break;case"value":h=b;break;default:zo(e,i,f,b)}return C!==null?zo(e,i,"checked",C):w!==null&&zo(e,i,"checked",w),h!==null?zo(e,i,"value",h):u!==null&&zo(e,i,"value",u),e.push("/>"),null;case"menuitem":e.push(qa("menuitem"));for(var M in n)if(oo.call(n,M)&&(h=n[M],h!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(qt(400));default:zo(e,i,M,h)}return e.push(">"),null;case"listing":case"pre":e.push(qa(t)),f=h=null;for(w in n)if(oo.call(n,w)&&(u=n[w],u!=null))switch(w){case"children":h=u;break;case"dangerouslySetInnerHTML":f=u;break;default:zo(e,i,w,u)}if(e.push(">"),f!=null){if(h!=null)throw Error(qt(60));if(typeof f!="object"||!("__html"in f))throw Error(qt(61));n=f.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof h=="string"&&h[0]===`
`&&e.push(`
`),h;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(qa(t));for(var T in n)if(oo.call(n,T)&&(h=n[T],h!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(qt(399,t));default:zo(e,i,T,h)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return q_(e,n,t,i);case"html":return s.insertionMode===0&&e.push("<!DOCTYPE html>"),q_(e,n,t,i);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return q_(e,n,t,i);e.push(qa(t)),f=h=null;for(b in n)if(oo.call(n,b)&&(u=n[b],u!=null))switch(b){case"children":h=u;break;case"dangerouslySetInnerHTML":f=u;break;case"style":i3(e,i,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:r3(b)&&typeof u!="function"&&typeof u!="symbol"&&e.push(" ",b,'="',Pi(u),'"')}return e.push(">"),jm(e,f,h),h}}function ek(e,t,n){if(at(e,'<!--$?--><template id="'),n===null)throw Error(qt(395));return at(e,n),at(e,'"></template>')}function OB(e,t,n,i){switch(n.insertionMode){case 0:case 1:return at(e,'<div hidden id="'),at(e,t.segmentPrefix),t=i.toString(16),at(e,t),at(e,'">');case 2:return at(e,'<svg aria-hidden="true" style="display:none" id="'),at(e,t.segmentPrefix),t=i.toString(16),at(e,t),at(e,'">');case 3:return at(e,'<math aria-hidden="true" style="display:none" id="'),at(e,t.segmentPrefix),t=i.toString(16),at(e,t),at(e,'">');case 4:return at(e,'<table hidden id="'),at(e,t.segmentPrefix),t=i.toString(16),at(e,t),at(e,'">');case 5:return at(e,'<table hidden><tbody id="'),at(e,t.segmentPrefix),t=i.toString(16),at(e,t),at(e,'">');case 6:return at(e,'<table hidden><tr id="'),at(e,t.segmentPrefix),t=i.toString(16),at(e,t),at(e,'">');case 7:return at(e,'<table hidden><colgroup id="'),at(e,t.segmentPrefix),t=i.toString(16),at(e,t),at(e,'">');default:throw Error(qt(397))}}function FB(e,t){switch(t.insertionMode){case 0:case 1:return at(e,"</div>");case 2:return at(e,"</svg>");case 3:return at(e,"</math>");case 4:return at(e,"</table>");case 5:return at(e,"</tbody></table>");case 6:return at(e,"</tr></table>");case 7:return at(e,"</colgroup></table>");default:throw Error(qt(397))}}function $B(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}var Zd=Object.assign,BB=Symbol.for("react.element"),o3=Symbol.for("react.portal"),a3=Symbol.for("react.fragment"),s3=Symbol.for("react.strict_mode"),l3=Symbol.for("react.profiler"),u3=Symbol.for("react.provider"),c3=Symbol.for("react.context"),h3=Symbol.for("react.forward_ref"),d3=Symbol.for("react.suspense"),f3=Symbol.for("react.suspense_list"),p3=Symbol.for("react.memo"),fw=Symbol.for("react.lazy"),VB=Symbol.for("react.scope"),NB=Symbol.for("react.debug_trace_mode"),jB=Symbol.for("react.legacy_hidden"),UB=Symbol.for("react.default_value"),tk=Symbol.iterator;function U1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case a3:return"Fragment";case o3:return"Portal";case l3:return"Profiler";case s3:return"StrictMode";case d3:return"Suspense";case f3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c3:return(e.displayName||"Context")+".Consumer";case u3:return(e._context.displayName||"Context")+".Provider";case h3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case p3:return t=e.displayName||null,t!==null?t:U1(e.type)||"Memo";case fw:t=e._payload,e=e._init;try{return U1(e(t))}catch{}}return null}var m3={};function nk(e,t){if(e=e.contextTypes,!e)return m3;var n={},i;for(i in e)n[i]=t[i];return n}var ql=null;function Sy(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(qt(401))}else{if(n===null)throw Error(qt(401));Sy(e,n)}t.context._currentValue2=t.value}}function g3(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&g3(e)}function y3(e){var t=e.parent;t!==null&&y3(t),e.context._currentValue2=e.value}function _3(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(qt(402));e.depth===t.depth?Sy(e,t):_3(e,t)}function v3(e,t){var n=t.parent;if(n===null)throw Error(qt(402));e.depth===n.depth?Sy(e,n):v3(e,n),t.context._currentValue2=t.value}function Ng(e){var t=ql;t!==e&&(t===null?y3(e):e===null?g3(t):t.depth===e.depth?Sy(t,e):t.depth>e.depth?_3(t,e):v3(t,e),ql=e)}var rk={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ik(e,t,n,i){var s=e.state!==void 0?e.state:null;e.updater=rk,e.props=n,e.state=s;var h={queue:[],replace:!1};e._reactInternals=h;var f=t.contextType;if(e.context=typeof f=="object"&&f!==null?f._currentValue2:i,f=t.getDerivedStateFromProps,typeof f=="function"&&(f=f(n,s),s=f==null?s:Zd({},s,f),e.state=s),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&rk.enqueueReplaceState(e,e.state,null),h.queue!==null&&0<h.queue.length)if(t=h.queue,f=h.replace,h.queue=null,h.replace=!1,f&&t.length===1)e.state=t[0];else{for(h=f?t[0]:e.state,s=!0,f=f?1:0;f<t.length;f++){var u=t[f];u=typeof u=="function"?u.call(e,h,n,i):u,u!=null&&(s?(s=!1,h=Zd({},h,u)):Zd(h,u))}e.state=h}else h.queue=null}var GB={id:1,overflow:""};function G1(e,t,n){var i=e.id;e=e.overflow;var s=32-Um(i)-1;i&=~(1<<s),n+=1;var h=32-Um(t)+s;if(30<h){var f=s-s%5;return h=(i&(1<<f)-1).toString(32),i>>=f,s-=f,{id:1<<32-Um(t)+s|n<<s|i,overflow:h+e}}return{id:1<<h|n<<s|i,overflow:e}}var Um=Math.clz32?Math.clz32:ZB,WB=Math.log,qB=Math.LN2;function ZB(e){return e>>>=0,e===0?32:31-(WB(e)/qB|0)|0}function HB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XB=typeof Object.is=="function"?Object.is:HB,ls=null,pw=null,Gm=null,On=null,Ad=!1,jg=!1,_f=0,js=null,Ey=0;function Vl(){if(ls===null)throw Error(qt(321));return ls}function ok(){if(0<Ey)throw Error(qt(312));return{memoizedState:null,queue:null,next:null}}function mw(){return On===null?Gm===null?(Ad=!1,Gm=On=ok()):(Ad=!0,On=Gm):On.next===null?(Ad=!1,On=On.next=ok()):(Ad=!0,On=On.next),On}function gw(){pw=ls=null,jg=!1,Gm=null,Ey=0,On=js=null}function x3(e,t){return typeof t=="function"?t(e):t}function ak(e,t,n){if(ls=Vl(),On=mw(),Ad){var i=On.queue;if(t=i.dispatch,js!==null&&(n=js.get(i),n!==void 0)){js.delete(i),i=On.memoizedState;do i=e(i,n.action),n=n.next;while(n!==null);return On.memoizedState=i,[i,t]}return[On.memoizedState,t]}return e=e===x3?typeof t=="function"?t():t:n!==void 0?n(t):t,On.memoizedState=e,e=On.queue={last:null,dispatch:null},e=e.dispatch=KB.bind(null,ls,e),[On.memoizedState,e]}function sk(e,t){if(ls=Vl(),On=mw(),t=t===void 0?null:t,On!==null){var n=On.memoizedState;if(n!==null&&t!==null){var i=n[1];e:if(i===null)i=!1;else{for(var s=0;s<i.length&&s<t.length;s++)if(!XB(t[s],i[s])){i=!1;break e}i=!0}if(i)return n[0]}}return e=e(),On.memoizedState=[e,t],e}function KB(e,t,n){if(25<=Ey)throw Error(qt(301));if(e===ls)if(jg=!0,e={action:n,next:null},js===null&&(js=new Map),n=js.get(t),n===void 0)js.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function YB(){throw Error(qt(394))}function ym(){}var lk={readContext:function(e){return e._currentValue2},useContext:function(e){return Vl(),e._currentValue2},useMemo:sk,useReducer:ak,useRef:function(e){ls=Vl(),On=mw();var t=On.memoizedState;return t===null?(e={current:e},On.memoizedState=e):t},useState:function(e){return ak(x3,e)},useInsertionEffect:ym,useLayoutEffect:function(){},useCallback:function(e,t){return sk(function(){return e},t)},useImperativeHandle:ym,useEffect:ym,useDebugValue:ym,useDeferredValue:function(e){return Vl(),e},useTransition:function(){return Vl(),[!1,YB]},useId:function(){var e=pw.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Um(e)-1)).toString(32)+t;var n=Wm;if(n===null)throw Error(qt(404));return t=_f++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Vl(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(qt(407));return n()}},Wm=null,Z_=n3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function JB(e){console.error(e)}function Md(){}function QB(e,t,n,i,s,h,f,u,w){var b=[],C=new Set;return t={destination:null,responseState:t,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:C,pingedTasks:b,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:s===void 0?JB:s,onAllReady:h===void 0?Md:h,onShellReady:f===void 0?Md:f,onShellError:u===void 0?Md:u,onFatalError:w===void 0?Md:w},n=Ug(t,0,null,n),n.parentFlushed=!0,e=yw(t,e,null,n,C,m3,null,GB),b.push(e),t}function yw(e,t,n,i,s,h,f,u){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var w={node:t,ping:function(){var b=e.pingedTasks;b.push(w),b.length===1&&S3(e)},blockedBoundary:n,blockedSegment:i,abortSet:s,legacyContext:h,context:f,treeContext:u};return s.add(w),w}function Ug(e,t,n,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n}}function vf(e,t){e=e.onError,e(t)}function Gg(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function uk(e,t,n,i,s){for(ls={},pw=t,_f=0,e=n(i,s);jg;)jg=!1,_f=0,Ey+=1,On=null,e=n(i,s);return gw(),e}function ck(e,t,n,i){var s=n.render(),h=i.childContextTypes;if(h!=null){var f=t.legacyContext;if(typeof n.getChildContext!="function")i=f;else{n=n.getChildContext();for(var u in n)if(!(u in h))throw Error(qt(108,U1(i)||"Unknown",u));i=Zd({},f,n)}t.legacyContext=i,ao(e,t,s),t.legacyContext=f}else ao(e,t,s)}function hk(e,t){if(e&&e.defaultProps){t=Zd({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function W1(e,t,n,i,s){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){s=nk(n,t.legacyContext);var h=n.contextType;h=new n(i,typeof h=="object"&&h!==null?h._currentValue2:s),ik(h,n,i,s),ck(e,t,h,n)}else{h=nk(n,t.legacyContext),s=uk(e,t,n,i,h);var f=_f!==0;if(typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0)ik(s,n,i,h),ck(e,t,s,n);else if(f){i=t.treeContext,t.treeContext=G1(i,1,0);try{ao(e,t,s)}finally{t.treeContext=i}}else ao(e,t,s)}else if(typeof n=="string")switch(s=t.blockedSegment,h=LB(s.chunks,n,i,e.responseState,s.formatContext),f=s.formatContext,s.formatContext=zB(f,n,i),q1(e,t,h),s.formatContext=f,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:s.chunks.push("</",n,">")}else{switch(n){case jB:case NB:case s3:case l3:case a3:ao(e,t,i.children);return;case f3:ao(e,t,i.children);return;case VB:throw Error(qt(343));case d3:e:{n=t.blockedBoundary,s=t.blockedSegment,h=i.fallback,i=i.children,f=new Set;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:f},w=Ug(e,s.chunks.length,u,s.formatContext);s.children.push(w);var b=Ug(e,0,null,s.formatContext);b.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=b;try{if(q1(e,t,i),b.status=1,Wg(u,b),u.pendingTasks===0)break e}catch(C){b.status=4,vf(e,C),u.forceClientRender=!0}finally{t.blockedBoundary=n,t.blockedSegment=s}t=yw(e,h,n,w,f,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case h3:if(i=uk(e,t,n.render,i,s),_f!==0){n=t.treeContext,t.treeContext=G1(n,1,0);try{ao(e,t,i)}finally{t.treeContext=n}}else ao(e,t,i);return;case p3:n=n.type,i=hk(n,i),W1(e,t,n,i,s);return;case u3:if(s=i.children,n=n._context,i=i.value,h=n._currentValue2,n._currentValue2=i,f=ql,ql=i={parent:f,depth:f===null?0:f.depth+1,context:n,parentValue:h,value:i},t.context=i,ao(e,t,s),e=ql,e===null)throw Error(qt(403));i=e.parentValue,e.context._currentValue2=i===UB?e.context._defaultValue:i,e=ql=e.parent,t.context=e;return;case c3:i=i.children,i=i(n._currentValue2),ao(e,t,i);return;case fw:s=n._init,n=s(n._payload),i=hk(n,i),W1(e,t,n,i,void 0);return}throw Error(qt(130,n==null?n:typeof n,""))}}function ao(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case BB:W1(e,t,n.type,n.props,n.ref);return;case o3:throw Error(qt(257));case fw:var i=n._init;n=i(n._payload),ao(e,t,n);return}if(j1(n)){dk(e,t,n);return}if(n===null||typeof n!="object"?i=null:(i=tk&&n[tk]||n["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(n))){if(n=i.next(),!n.done){var s=[];do s.push(n.value),n=i.next();while(!n.done);dk(e,t,s)}return}throw e=Object.prototype.toString.call(n),Error(qt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(t=t.blockedSegment.chunks,e.responseState.generateStaticMarkup?t.push(Pi(n)):YE(t,n)):typeof n=="number"&&(t=t.blockedSegment.chunks,n=""+n,e.responseState.generateStaticMarkup?t.push(Pi(n)):YE(t,n))}function dk(e,t,n){for(var i=n.length,s=0;s<i;s++){var h=t.treeContext;t.treeContext=G1(h,i,s);try{q1(e,t,n[s])}finally{t.treeContext=h}}}function q1(e,t,n){var i=t.blockedSegment.formatContext,s=t.legacyContext,h=t.context;try{return ao(e,t,n)}catch(w){if(gw(),typeof w=="object"&&w!==null&&typeof w.then=="function"){n=w;var f=t.blockedSegment,u=Ug(e,f.chunks.length,null,f.formatContext);f.children.push(u),e=yw(e,t.node,t.blockedBoundary,u,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=h,Ng(h)}else throw t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=h,Ng(h),w}}function e8(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,b3(this,t,e)}function w3(e){var t=e.blockedBoundary;e.blockedSegment.status=3,t===null?(this.allPendingTasks--,this.status!==2&&(this.status=2,this.destination!==null&&this.destination.push(null))):(t.pendingTasks--,t.forceClientRender||(t.forceClientRender=!0,t.parentFlushed&&this.clientRenderedBoundaries.push(t)),t.fallbackAbortableTasks.forEach(w3,this),t.fallbackAbortableTasks.clear(),this.allPendingTasks--,this.allPendingTasks===0&&(e=this.onAllReady,e()))}function Wg(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Wg(e,n)}else e.completedSegments.push(t)}function b3(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(qt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Md,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Wg(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(e8,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Wg(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function S3(e){if(e.status!==2){var t=ql,n=Z_.current;Z_.current=lk;var i=Wm;Wm=e.responseState;try{var s=e.pingedTasks,h;for(h=0;h<s.length;h++){var f=s[h],u=e,w=f.blockedSegment;if(w.status===0){Ng(f.context);try{ao(u,f,f.node),f.abortSet.delete(f),w.status=1,b3(u,f.blockedBoundary,w)}catch(N){if(gw(),typeof N=="object"&&N!==null&&typeof N.then=="function"){var b=f.ping;N.then(b,b)}else{f.abortSet.delete(f),w.status=4;var C=f.blockedBoundary,M=N;if(vf(u,M),C===null?Gg(u,M):(C.pendingTasks--,C.forceClientRender||(C.forceClientRender=!0,C.parentFlushed&&u.clientRenderedBoundaries.push(C))),u.allPendingTasks--,u.allPendingTasks===0){var T=u.onAllReady;T()}}}finally{}}}s.splice(0,h),e.destination!==null&&_w(e,e.destination)}catch(N){vf(e,N),Gg(e,N)}finally{Wm=i,Z_.current=n,n===lk&&Ng(t)}}}function _m(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=e.nextSegmentId++;return e=e.responseState,at(t,'<template id="'),at(t,e.placeholderPrefix),e=i.toString(16),at(t,e),at(t,'"></template>');case 1:n.status=2;var s=!0;i=n.chunks;var h=0;n=n.children;for(var f=0;f<n.length;f++){for(s=n[f];h<s.index;h++)at(t,i[h]);s=ky(e,t,s)}for(;h<i.length-1;h++)at(t,i[h]);return h<i.length&&(s=at(t,i[h])),s;default:throw Error(qt(390))}}function ky(e,t,n){var i=n.boundary;if(i===null)return _m(e,t,n);if(i.parentFlushed=!0,i.forceClientRender)return e.responseState.generateStaticMarkup||at(t,"<!--$!-->"),_m(e,t,n),e=e.responseState.generateStaticMarkup?!0:at(t,"<!--/$-->"),e;if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var s=e.responseState,h=s.nextSuspenseID++;return s=s.boundaryPrefix+h.toString(16),i=i.id=s,ek(t,e.responseState,i),_m(e,t,n),at(t,"<!--/$-->")}if(i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),ek(t,e.responseState,i.id),_m(e,t,n),at(t,"<!--/$-->");if(e.responseState.generateStaticMarkup||at(t,"<!--$-->"),n=i.completedSegments,n.length!==1)throw Error(qt(391));return ky(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:at(t,"<!--/$-->"),e}function fk(e,t,n){return OB(t,e.responseState,n.formatContext,n.id),ky(e,t,n),FB(t,n.formatContext)}function pk(e,t,n){for(var i=n.completedSegments,s=0;s<i.length;s++)E3(e,t,n,i[s]);if(i.length=0,e=e.responseState,i=n.id,n=n.rootSegmentID,at(t,e.startInlineScript),e.sentCompleteBoundaryFunction?at(t,'$RC("'):(e.sentCompleteBoundaryFunction=!0,at(t,'function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),i===null)throw Error(qt(395));return n=n.toString(16),at(t,i),at(t,'","'),at(t,e.segmentPrefix),at(t,n),at(t,'")<\/script>')}function E3(e,t,n,i){if(i.status===2)return!0;var s=i.id;if(s===-1){if((i.id=n.rootSegmentID)===-1)throw Error(qt(392));return fk(e,t,i)}return fk(e,t,i),e=e.responseState,at(t,e.startInlineScript),e.sentCompleteSegmentFunction?at(t,'$RS("'):(e.sentCompleteSegmentFunction=!0,at(t,'function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),at(t,e.segmentPrefix),s=s.toString(16),at(t,s),at(t,'","'),at(t,e.placeholderPrefix),at(t,s),at(t,'")<\/script>')}function _w(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){ky(e,t,n),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)at(t,i[n]);n<i.length&&at(t,i[n])}var s=e.clientRenderedBoundaries,h;for(h=0;h<s.length;h++){i=t;var f=e.responseState,u=s[h].id;if(at(i,f.startInlineScript),f.sentClientRenderFunction?at(i,'$RX("'):(f.sentClientRenderFunction=!0,at(i,'function $RX(a){if(a=document.getElementById(a))a=a.previousSibling,a.data="$!",a._reactRetry&&a._reactRetry()};$RX("')),u===null)throw Error(qt(395));if(at(i,u),!at(i,'")<\/script>')){e.destination=null,h++,s.splice(0,h);return}}s.splice(0,h);var w=e.completedBoundaries;for(h=0;h<w.length;h++)if(!pk(e,t,w[h])){e.destination=null,h++,w.splice(0,h);return}w.splice(0,h);var b=e.partialBoundaries;for(h=0;h<b.length;h++){var C=b[h];e:{s=e,f=t;var M=C.completedSegments;for(u=0;u<M.length;u++)if(!E3(s,f,C,M[u])){u++,M.splice(0,u);var T=!1;break e}M.splice(0,u),T=!0}if(!T){e.destination=null,h++,b.splice(0,h);return}}b.splice(0,h);var N=e.completedBoundaries;for(h=0;h<N.length;h++)if(!pk(e,t,N[h])){e.destination=null,h++,N.splice(0,h);return}N.splice(0,h)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function t8(e){try{var t=e.abortableTasks;t.forEach(w3,e),t.clear(),e.destination!==null&&_w(e,e.destination)}catch(n){vf(e,n),Gg(e,n)}}function n8(){}function k3(e,t,n){var i=!1,s=null,h="",f={push:function(w){return w!==null&&(h+=w),!0},destroy:function(w){i=!0,s=w}},u=!1;if(e=QB(e,$B(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,n8,void 0,function(){u=!0},void 0,void 0),S3(e),t8(e),e.status===1)e.status=2,f.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=f;try{_w(e,f)}catch(w){vf(e,w),Gg(e,w)}}if(i)throw s;if(!u)throw Error(qt(426));return h}ih.renderToNodeStream=function(){throw Error(qt(207))};ih.renderToStaticMarkup=function(e,t){return k3(e,t,!0)};ih.renderToStaticNodeStream=function(){throw Error(qt(208))};ih.renderToString=function(e,t){return k3(e,t,!1)};ih.version="18.1.0";var vw={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3=j.exports;function Kt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var so=null,lo=0;function zt(e,t){if(t.length!==0)if(512<t.length)0<lo&&(e.enqueue(new Uint8Array(so.buffer,0,lo)),so=new Uint8Array(512),lo=0),e.enqueue(t);else{var n=so.length-lo;n<t.length&&(n===0?e.enqueue(so):(so.set(t.subarray(0,n),lo),e.enqueue(so),t=t.subarray(n)),so=new Uint8Array(512),lo=0),so.set(t,lo),lo+=t.length}}function Kn(e,t){return zt(e,t),!0}function mk(e){so&&0<lo&&(e.enqueue(new Uint8Array(so.buffer,0,lo)),so=null,lo=0)}var T3=new TextEncoder;function nn(e){return T3.encode(e)}function gt(e){return T3.encode(e)}function P3(e,t){typeof e.error=="function"?e.error(t):e.close()}var uo=Object.prototype.hasOwnProperty,r8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gk={},yk={};function I3(e){return uo.call(yk,e)?!0:uo.call(gk,e)?!1:r8.test(e)?yk[e]=!0:(gk[e]=!0,!1)}function Li(e,t,n,i,s,h,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=f}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new Li(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new Li(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new Li(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new Li(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new Li(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new Li(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new Li(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new Li(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new Li(e,5,!1,e.toLowerCase(),null,!1,!1)});var xw=/[\-:]([a-z])/g;function ww(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xw,ww);ei[t]=new Li(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xw,ww);ei[t]=new Li(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xw,ww);ei[t]=new Li(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new Li(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new Li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new Li(e,1,!1,e.toLowerCase(),null,!0,!0)});var qm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i8=["Webkit","ms","Moz","O"];Object.keys(qm).forEach(function(e){i8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qm[t]=qm[e]})});var o8=/["'&<>]/;function Kr(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=o8.exec(e);if(t){var n="",i,s=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==i&&(n+=e.substring(s,i)),s=i+1,n+=t}e=s!==i?n+e.substring(s,i):n}return e}var a8=/([A-Z])/g,s8=/^ms-/,Z1=Array.isArray,l8=gt("<script>"),u8=gt("<\/script>"),c8=gt('<script src="'),h8=gt('<script type="module" src="'),_k=gt('" async=""><\/script>'),d8=/(<\/|<)(s)(cript)/gi;function f8(e,t,n,i){return""+t+(n==="s"?"\\u0073":"\\u0053")+i}function p8(e,t,n,i,s){e=e===void 0?"":e,t=t===void 0?l8:gt('<script nonce="'+Kr(t)+'">');var h=[];if(n!==void 0&&h.push(t,nn((""+n).replace(d8,f8)),u8),i!==void 0)for(n=0;n<i.length;n++)h.push(c8,nn(Kr(i[n])),_k);if(s!==void 0)for(i=0;i<s.length;i++)h.push(h8,nn(Kr(s[i])),_k);return{bootstrapChunks:h,startInlineScript:t,placeholderPrefix:gt(e+"P:"),segmentPrefix:gt(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function da(e,t){return{insertionMode:e,selectedValue:t}}function m8(e){return da(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function g8(e,t,n){switch(t){case"select":return da(1,n.value!=null?n.value:n.defaultValue);case"svg":return da(2,null);case"math":return da(3,null);case"foreignObject":return da(1,null);case"table":return da(4,null);case"thead":case"tbody":case"tfoot":return da(5,null);case"colgroup":return da(7,null);case"tr":return da(6,null)}return 4<=e.insertionMode||e.insertionMode===0?da(1,null):e}var vk=gt("<!-- -->"),xk=new Map,y8=gt(' style="'),wk=gt(":"),_8=gt(";");function A3(e,t,n){if(typeof n!="object")throw Error(Kt(62));t=!0;for(var i in n)if(uo.call(n,i)){var s=n[i];if(s!=null&&typeof s!="boolean"&&s!==""){if(i.indexOf("--")===0){var h=nn(Kr(i));s=nn(Kr((""+s).trim()))}else{h=i;var f=xk.get(h);f!==void 0||(f=gt(Kr(h.replace(a8,"-$1").toLowerCase().replace(s8,"-ms-"))),xk.set(h,f)),h=f,s=typeof s=="number"?s===0||uo.call(qm,i)?nn(""+s):nn(s+"px"):nn(Kr((""+s).trim()))}t?(t=!1,e.push(y8,h,wk,s)):e.push(_8,h,wk,s)}}t||e.push(Nl)}var Rs=gt(" "),hc=gt('="'),Nl=gt('"'),bk=gt('=""');function Do(e,t,n,i){switch(n){case"style":A3(e,t,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ei.hasOwnProperty(n)?ei[n]:null,t!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=nn(t.attributeName),t.type){case 3:i&&e.push(Rs,n,bk);break;case 4:i===!0?e.push(Rs,n,bk):i!==!1&&e.push(Rs,n,hc,nn(Kr(i)),Nl);break;case 5:isNaN(i)||e.push(Rs,n,hc,nn(Kr(i)),Nl);break;case 6:!isNaN(i)&&1<=i&&e.push(Rs,n,hc,nn(Kr(i)),Nl);break;default:t.sanitizeURL&&(i=""+i),e.push(Rs,n,hc,nn(Kr(i)),Nl)}}else if(I3(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Rs,nn(n),hc,nn(Kr(i)),Nl)}}}var $l=gt(">"),Sk=gt("/>");function Zm(e,t,n){if(t!=null){if(n!=null)throw Error(Kt(60));if(typeof t!="object"||!("__html"in t))throw Error(Kt(61));t=t.__html,t!=null&&e.push(nn(""+t))}}function v8(e){var t="";return C3.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var H_=gt(' selected=""');function X_(e,t,n,i){e.push(Za(n));var s=n=null,h;for(h in t)if(uo.call(t,h)){var f=t[h];if(f!=null)switch(h){case"children":n=f;break;case"dangerouslySetInnerHTML":s=f;break;default:Do(e,i,h,f)}}return e.push($l),Zm(e,s,n),typeof n=="string"?(e.push(nn(Kr(n))),null):n}var K_=gt(`
`),x8=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ek=new Map;function Za(e){var t=Ek.get(e);if(t===void 0){if(!x8.test(e))throw Error(Kt(65,e));t=gt("<"+e),Ek.set(e,t)}return t}var w8=gt("<!DOCTYPE html>");function b8(e,t,n,i,s){switch(t){case"select":e.push(Za("select"));var h=null,f=null;for(C in n)if(uo.call(n,C)){var u=n[C];if(u!=null)switch(C){case"children":h=u;break;case"dangerouslySetInnerHTML":f=u;break;case"defaultValue":case"value":break;default:Do(e,i,C,u)}}return e.push($l),Zm(e,f,h),h;case"option":f=s.selectedValue,e.push(Za("option"));var w=u=null,b=null,C=null;for(h in n)if(uo.call(n,h)&&(t=n[h],t!=null))switch(h){case"children":u=t;break;case"selected":b=t;break;case"dangerouslySetInnerHTML":C=t;break;case"value":w=t;default:Do(e,i,h,t)}if(f!=null)if(n=w!==null?""+w:v8(u),Z1(f)){for(i=0;i<f.length;i++)if(""+f[i]===n){e.push(H_);break}}else""+f===n&&e.push(H_);else b&&e.push(H_);return e.push($l),Zm(e,C,u),u;case"textarea":e.push(Za("textarea")),C=f=h=null;for(u in n)if(uo.call(n,u)&&(w=n[u],w!=null))switch(u){case"children":C=w;break;case"value":h=w;break;case"defaultValue":f=w;break;case"dangerouslySetInnerHTML":throw Error(Kt(91));default:Do(e,i,u,w)}if(h===null&&f!==null&&(h=f),e.push($l),C!=null){if(h!=null)throw Error(Kt(92));if(Z1(C)&&1<C.length)throw Error(Kt(93));h=""+C}return typeof h=="string"&&h[0]===`
`&&e.push(K_),h!==null&&e.push(nn(Kr(""+h))),null;case"input":e.push(Za("input")),w=C=u=h=null;for(f in n)if(uo.call(n,f)&&(b=n[f],b!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Kt(399,"input"));case"defaultChecked":w=b;break;case"defaultValue":u=b;break;case"checked":C=b;break;case"value":h=b;break;default:Do(e,i,f,b)}return C!==null?Do(e,i,"checked",C):w!==null&&Do(e,i,"checked",w),h!==null?Do(e,i,"value",h):u!==null&&Do(e,i,"value",u),e.push(Sk),null;case"menuitem":e.push(Za("menuitem"));for(var M in n)if(uo.call(n,M)&&(h=n[M],h!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(Kt(400));default:Do(e,i,M,h)}return e.push($l),null;case"listing":case"pre":e.push(Za(t)),f=h=null;for(w in n)if(uo.call(n,w)&&(u=n[w],u!=null))switch(w){case"children":h=u;break;case"dangerouslySetInnerHTML":f=u;break;default:Do(e,i,w,u)}if(e.push($l),f!=null){if(h!=null)throw Error(Kt(60));if(typeof f!="object"||!("__html"in f))throw Error(Kt(61));n=f.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(K_,nn(n)):e.push(nn(""+n)))}return typeof h=="string"&&h[0]===`
`&&e.push(K_),h;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Za(t));for(var T in n)if(uo.call(n,T)&&(h=n[T],h!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(Kt(399,t));default:Do(e,i,T,h)}return e.push(Sk),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return X_(e,n,t,i);case"html":return s.insertionMode===0&&e.push(w8),X_(e,n,t,i);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return X_(e,n,t,i);e.push(Za(t)),f=h=null;for(b in n)if(uo.call(n,b)&&(u=n[b],u!=null))switch(b){case"children":h=u;break;case"dangerouslySetInnerHTML":f=u;break;case"style":A3(e,i,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:I3(b)&&typeof u!="function"&&typeof u!="symbol"&&e.push(Rs,nn(b),hc,nn(Kr(u)),Nl)}return e.push($l),Zm(e,f,h),h}}var S8=gt("</"),E8=gt(">"),k8=gt('<template id="'),C8=gt('"></template>'),T8=gt("<!--$-->"),P8=gt('<!--$?--><template id="'),I8=gt('"></template>'),A8=gt("<!--$!-->"),M8=gt("<!--/$-->");function kk(e,t,n){if(zt(e,P8),n===null)throw Error(Kt(395));return zt(e,n),Kn(e,I8)}var z8=gt('<div hidden id="'),D8=gt('">'),R8=gt("</div>"),L8=gt('<svg aria-hidden="true" style="display:none" id="'),O8=gt('">'),F8=gt("</svg>"),$8=gt('<math aria-hidden="true" style="display:none" id="'),B8=gt('">'),V8=gt("</math>"),N8=gt('<table hidden id="'),j8=gt('">'),U8=gt("</table>"),G8=gt('<table hidden><tbody id="'),W8=gt('">'),q8=gt("</tbody></table>"),Z8=gt('<table hidden><tr id="'),H8=gt('">'),X8=gt("</tr></table>"),K8=gt('<table hidden><colgroup id="'),Y8=gt('">'),J8=gt("</colgroup></table>");function Q8(e,t,n,i){switch(n.insertionMode){case 0:case 1:return zt(e,z8),zt(e,t.segmentPrefix),zt(e,nn(i.toString(16))),Kn(e,D8);case 2:return zt(e,L8),zt(e,t.segmentPrefix),zt(e,nn(i.toString(16))),Kn(e,O8);case 3:return zt(e,$8),zt(e,t.segmentPrefix),zt(e,nn(i.toString(16))),Kn(e,B8);case 4:return zt(e,N8),zt(e,t.segmentPrefix),zt(e,nn(i.toString(16))),Kn(e,j8);case 5:return zt(e,G8),zt(e,t.segmentPrefix),zt(e,nn(i.toString(16))),Kn(e,W8);case 6:return zt(e,Z8),zt(e,t.segmentPrefix),zt(e,nn(i.toString(16))),Kn(e,H8);case 7:return zt(e,K8),zt(e,t.segmentPrefix),zt(e,nn(i.toString(16))),Kn(e,Y8);default:throw Error(Kt(397))}}function eV(e,t){switch(t.insertionMode){case 0:case 1:return Kn(e,R8);case 2:return Kn(e,F8);case 3:return Kn(e,V8);case 4:return Kn(e,U8);case 5:return Kn(e,q8);case 6:return Kn(e,X8);case 7:return Kn(e,J8);default:throw Error(Kt(397))}}var tV=gt('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),nV=gt('$RS("'),rV=gt('","'),iV=gt('")<\/script>'),oV=gt('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),aV=gt('$RC("'),sV=gt('","'),lV=gt('")<\/script>'),uV=gt('function $RX(a){if(a=document.getElementById(a))a=a.previousSibling,a.data="$!",a._reactRetry&&a._reactRetry()};$RX("'),cV=gt('$RX("'),hV=gt('")<\/script>'),Hd=Object.assign,dV=Symbol.for("react.element"),M3=Symbol.for("react.portal"),z3=Symbol.for("react.fragment"),D3=Symbol.for("react.strict_mode"),R3=Symbol.for("react.profiler"),L3=Symbol.for("react.provider"),O3=Symbol.for("react.context"),F3=Symbol.for("react.forward_ref"),$3=Symbol.for("react.suspense"),B3=Symbol.for("react.suspense_list"),V3=Symbol.for("react.memo"),bw=Symbol.for("react.lazy"),fV=Symbol.for("react.scope"),pV=Symbol.for("react.debug_trace_mode"),mV=Symbol.for("react.legacy_hidden"),gV=Symbol.for("react.default_value"),Ck=Symbol.iterator;function H1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z3:return"Fragment";case M3:return"Portal";case R3:return"Profiler";case D3:return"StrictMode";case $3:return"Suspense";case B3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O3:return(e.displayName||"Context")+".Consumer";case L3:return(e._context.displayName||"Context")+".Provider";case F3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V3:return t=e.displayName||null,t!==null?t:H1(e.type)||"Memo";case bw:t=e._payload,e=e._init;try{return H1(e(t))}catch{}}return null}var N3={};function Tk(e,t){if(e=e.contextTypes,!e)return N3;var n={},i;for(i in e)n[i]=t[i];return n}var Zl=null;function Cy(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Kt(401))}else{if(n===null)throw Error(Kt(401));Cy(e,n)}t.context._currentValue=t.value}}function j3(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&j3(e)}function U3(e){var t=e.parent;t!==null&&U3(t),e.context._currentValue=e.value}function G3(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Kt(402));e.depth===t.depth?Cy(e,t):G3(e,t)}function W3(e,t){var n=t.parent;if(n===null)throw Error(Kt(402));e.depth===n.depth?Cy(e,n):W3(e,n),t.context._currentValue=t.value}function qg(e){var t=Zl;t!==e&&(t===null?U3(e):e===null?j3(t):t.depth===e.depth?Cy(t,e):t.depth>e.depth?G3(t,e):W3(t,e),Zl=e)}var Pk={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Ik(e,t,n,i){var s=e.state!==void 0?e.state:null;e.updater=Pk,e.props=n,e.state=s;var h={queue:[],replace:!1};e._reactInternals=h;var f=t.contextType;if(e.context=typeof f=="object"&&f!==null?f._currentValue:i,f=t.getDerivedStateFromProps,typeof f=="function"&&(f=f(n,s),s=f==null?s:Hd({},s,f),e.state=s),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Pk.enqueueReplaceState(e,e.state,null),h.queue!==null&&0<h.queue.length)if(t=h.queue,f=h.replace,h.queue=null,h.replace=!1,f&&t.length===1)e.state=t[0];else{for(h=f?t[0]:e.state,s=!0,f=f?1:0;f<t.length;f++){var u=t[f];u=typeof u=="function"?u.call(e,h,n,i):u,u!=null&&(s?(s=!1,h=Hd({},h,u)):Hd(h,u))}e.state=h}else h.queue=null}var yV={id:1,overflow:""};function X1(e,t,n){var i=e.id;e=e.overflow;var s=32-Hm(i)-1;i&=~(1<<s),n+=1;var h=32-Hm(t)+s;if(30<h){var f=s-s%5;return h=(i&(1<<f)-1).toString(32),i>>=f,s-=f,{id:1<<32-Hm(t)+s|n<<s|i,overflow:h+e}}return{id:1<<h|n<<s|i,overflow:e}}var Hm=Math.clz32?Math.clz32:xV,_V=Math.log,vV=Math.LN2;function xV(e){return e>>>=0,e===0?32:31-(_V(e)/vV|0)|0}function wV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bV=typeof Object.is=="function"?Object.is:wV,us=null,Sw=null,Xm=null,Fn=null,zd=!1,Zg=!1,xf=0,Us=null,Ty=0;function jl(){if(us===null)throw Error(Kt(321));return us}function Ak(){if(0<Ty)throw Error(Kt(312));return{memoizedState:null,queue:null,next:null}}function Ew(){return Fn===null?Xm===null?(zd=!1,Xm=Fn=Ak()):(zd=!0,Fn=Xm):Fn.next===null?(zd=!1,Fn=Fn.next=Ak()):(zd=!0,Fn=Fn.next),Fn}function kw(){Sw=us=null,Zg=!1,Xm=null,Ty=0,Fn=Us=null}function q3(e,t){return typeof t=="function"?t(e):t}function Mk(e,t,n){if(us=jl(),Fn=Ew(),zd){var i=Fn.queue;if(t=i.dispatch,Us!==null&&(n=Us.get(i),n!==void 0)){Us.delete(i),i=Fn.memoizedState;do i=e(i,n.action),n=n.next;while(n!==null);return Fn.memoizedState=i,[i,t]}return[Fn.memoizedState,t]}return e=e===q3?typeof t=="function"?t():t:n!==void 0?n(t):t,Fn.memoizedState=e,e=Fn.queue={last:null,dispatch:null},e=e.dispatch=SV.bind(null,us,e),[Fn.memoizedState,e]}function zk(e,t){if(us=jl(),Fn=Ew(),t=t===void 0?null:t,Fn!==null){var n=Fn.memoizedState;if(n!==null&&t!==null){var i=n[1];e:if(i===null)i=!1;else{for(var s=0;s<i.length&&s<t.length;s++)if(!bV(t[s],i[s])){i=!1;break e}i=!0}if(i)return n[0]}}return e=e(),Fn.memoizedState=[e,t],e}function SV(e,t,n){if(25<=Ty)throw Error(Kt(301));if(e===us)if(Zg=!0,e={action:n,next:null},Us===null&&(Us=new Map),n=Us.get(t),n===void 0)Us.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function EV(){throw Error(Kt(394))}function vm(){}var Dk={readContext:function(e){return e._currentValue},useContext:function(e){return jl(),e._currentValue},useMemo:zk,useReducer:Mk,useRef:function(e){us=jl(),Fn=Ew();var t=Fn.memoizedState;return t===null?(e={current:e},Fn.memoizedState=e):t},useState:function(e){return Mk(q3,e)},useInsertionEffect:vm,useLayoutEffect:function(){},useCallback:function(e,t){return zk(function(){return e},t)},useImperativeHandle:vm,useEffect:vm,useDebugValue:vm,useDeferredValue:function(e){return jl(),e},useTransition:function(){return jl(),[!1,EV]},useId:function(){var e=Sw.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Hm(e)-1)).toString(32)+t;var n=Km;if(n===null)throw Error(Kt(404));return t=xf++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return jl(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Kt(407));return n()}},Km=null,Y_=C3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function kV(e){console.error(e)}function Dd(){}function CV(e,t,n,i,s,h,f,u,w){var b=[],C=new Set;return t={destination:null,responseState:t,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:C,pingedTasks:b,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:s===void 0?kV:s,onAllReady:h===void 0?Dd:h,onShellReady:f===void 0?Dd:f,onShellError:u===void 0?Dd:u,onFatalError:w===void 0?Dd:w},n=Hg(t,0,null,n),n.parentFlushed=!0,e=Cw(t,e,null,n,C,N3,null,yV),b.push(e),t}function Cw(e,t,n,i,s,h,f,u){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var w={node:t,ping:function(){var b=e.pingedTasks;b.push(w),b.length===1&&X3(e)},blockedBoundary:n,blockedSegment:i,abortSet:s,legacyContext:h,context:f,treeContext:u};return s.add(w),w}function Hg(e,t,n,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n}}function wf(e,t){e=e.onError,e(t)}function Xg(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,P3(e.destination,t)):(e.status=1,e.fatalError=t)}function Rk(e,t,n,i,s){for(us={},Sw=t,xf=0,e=n(i,s);Zg;)Zg=!1,xf=0,Ty+=1,Fn=null,e=n(i,s);return kw(),e}function Lk(e,t,n,i){var s=n.render(),h=i.childContextTypes;if(h!=null){var f=t.legacyContext;if(typeof n.getChildContext!="function")i=f;else{n=n.getChildContext();for(var u in n)if(!(u in h))throw Error(Kt(108,H1(i)||"Unknown",u));i=Hd({},f,n)}t.legacyContext=i,co(e,t,s),t.legacyContext=f}else co(e,t,s)}function Ok(e,t){if(e&&e.defaultProps){t=Hd({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function K1(e,t,n,i,s){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){s=Tk(n,t.legacyContext);var h=n.contextType;h=new n(i,typeof h=="object"&&h!==null?h._currentValue:s),Ik(h,n,i,s),Lk(e,t,h,n)}else{h=Tk(n,t.legacyContext),s=Rk(e,t,n,i,h);var f=xf!==0;if(typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0)Ik(s,n,i,h),Lk(e,t,s,n);else if(f){i=t.treeContext,t.treeContext=X1(i,1,0);try{co(e,t,s)}finally{t.treeContext=i}}else co(e,t,s)}else if(typeof n=="string")switch(s=t.blockedSegment,h=b8(s.chunks,n,i,e.responseState,s.formatContext),f=s.formatContext,s.formatContext=g8(f,n,i),Y1(e,t,h),s.formatContext=f,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:s.chunks.push(S8,nn(n),E8)}else{switch(n){case mV:case pV:case D3:case R3:case z3:co(e,t,i.children);return;case B3:co(e,t,i.children);return;case fV:throw Error(Kt(343));case $3:e:{n=t.blockedBoundary,s=t.blockedSegment,h=i.fallback,i=i.children,f=new Set;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:f},w=Hg(e,s.chunks.length,u,s.formatContext);s.children.push(w);var b=Hg(e,0,null,s.formatContext);b.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=b;try{if(Y1(e,t,i),b.status=1,Kg(u,b),u.pendingTasks===0)break e}catch(C){b.status=4,wf(e,C),u.forceClientRender=!0}finally{t.blockedBoundary=n,t.blockedSegment=s}t=Cw(e,h,n,w,f,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F3:if(i=Rk(e,t,n.render,i,s),xf!==0){n=t.treeContext,t.treeContext=X1(n,1,0);try{co(e,t,i)}finally{t.treeContext=n}}else co(e,t,i);return;case V3:n=n.type,i=Ok(n,i),K1(e,t,n,i,s);return;case L3:if(s=i.children,n=n._context,i=i.value,h=n._currentValue,n._currentValue=i,f=Zl,Zl=i={parent:f,depth:f===null?0:f.depth+1,context:n,parentValue:h,value:i},t.context=i,co(e,t,s),e=Zl,e===null)throw Error(Kt(403));i=e.parentValue,e.context._currentValue=i===gV?e.context._defaultValue:i,e=Zl=e.parent,t.context=e;return;case O3:i=i.children,i=i(n._currentValue),co(e,t,i);return;case bw:s=n._init,n=s(n._payload),i=Ok(n,i),K1(e,t,n,i,void 0);return}throw Error(Kt(130,n==null?n:typeof n,""))}}function co(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case dV:K1(e,t,n.type,n.props,n.ref);return;case M3:throw Error(Kt(257));case bw:var i=n._init;n=i(n._payload),co(e,t,n);return}if(Z1(n)){Fk(e,t,n);return}if(n===null||typeof n!="object"?i=null:(i=Ck&&n[Ck]||n["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(n))){if(n=i.next(),!n.done){var s=[];do s.push(n.value),n=i.next();while(!n.done);Fk(e,t,s)}return}throw t=Object.prototype.toString.call(n),Error(Kt(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?n!==""&&t.blockedSegment.chunks.push(nn(Kr(n)),vk):typeof n=="number"&&(e=""+n,e!==""&&t.blockedSegment.chunks.push(nn(Kr(e)),vk))}function Fk(e,t,n){for(var i=n.length,s=0;s<i;s++){var h=t.treeContext;t.treeContext=X1(h,i,s);try{Y1(e,t,n[s])}finally{t.treeContext=h}}}function Y1(e,t,n){var i=t.blockedSegment.formatContext,s=t.legacyContext,h=t.context;try{return co(e,t,n)}catch(w){if(kw(),typeof w=="object"&&w!==null&&typeof w.then=="function"){n=w;var f=t.blockedSegment,u=Hg(e,f.chunks.length,null,f.formatContext);f.children.push(u),e=Cw(e,t.node,t.blockedBoundary,u,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=h,qg(h)}else throw t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=h,qg(h),w}}function TV(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,H3(this,t,e)}function Z3(e){var t=e.blockedBoundary;e.blockedSegment.status=3,t===null?(this.allPendingTasks--,this.status!==2&&(this.status=2,this.destination!==null&&this.destination.close())):(t.pendingTasks--,t.forceClientRender||(t.forceClientRender=!0,t.parentFlushed&&this.clientRenderedBoundaries.push(t)),t.fallbackAbortableTasks.forEach(Z3,this),t.fallbackAbortableTasks.clear(),this.allPendingTasks--,this.allPendingTasks===0&&(e=this.onAllReady,e()))}function Kg(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Kg(e,n)}else e.completedSegments.push(t)}function H3(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Kt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Dd,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Kg(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(TV,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Kg(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function X3(e){if(e.status!==2){var t=Zl,n=Y_.current;Y_.current=Dk;var i=Km;Km=e.responseState;try{var s=e.pingedTasks,h;for(h=0;h<s.length;h++){var f=s[h],u=e,w=f.blockedSegment;if(w.status===0){qg(f.context);try{co(u,f,f.node),f.abortSet.delete(f),w.status=1,H3(u,f.blockedBoundary,w)}catch(N){if(kw(),typeof N=="object"&&N!==null&&typeof N.then=="function"){var b=f.ping;N.then(b,b)}else{f.abortSet.delete(f),w.status=4;var C=f.blockedBoundary,M=N;if(wf(u,M),C===null?Xg(u,M):(C.pendingTasks--,C.forceClientRender||(C.forceClientRender=!0,C.parentFlushed&&u.clientRenderedBoundaries.push(C))),u.allPendingTasks--,u.allPendingTasks===0){var T=u.onAllReady;T()}}}finally{}}}s.splice(0,h),e.destination!==null&&Tw(e,e.destination)}catch(N){wf(e,N),Xg(e,N)}finally{Km=i,Y_.current=n,n===Dk&&qg(t)}}}function xm(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=e.nextSegmentId++;return e=e.responseState,zt(t,k8),zt(t,e.placeholderPrefix),e=nn(i.toString(16)),zt(t,e),Kn(t,C8);case 1:n.status=2;var s=!0;i=n.chunks;var h=0;n=n.children;for(var f=0;f<n.length;f++){for(s=n[f];h<s.index;h++)zt(t,i[h]);s=Py(e,t,s)}for(;h<i.length-1;h++)zt(t,i[h]);return h<i.length&&(s=Kn(t,i[h])),s;default:throw Error(Kt(390))}}function Py(e,t,n){var i=n.boundary;if(i===null)return xm(e,t,n);if(i.parentFlushed=!0,i.forceClientRender)Kn(t,A8),xm(e,t,n);else if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var s=e.responseState,h=s.nextSuspenseID++;s=gt(s.boundaryPrefix+h.toString(16)),i=i.id=s,kk(t,e.responseState,i),xm(e,t,n)}else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),kk(t,e.responseState,i.id),xm(e,t,n);else{if(Kn(t,T8),n=i.completedSegments,n.length!==1)throw Error(Kt(391));Py(e,t,n[0])}return Kn(t,M8)}function $k(e,t,n){return Q8(t,e.responseState,n.formatContext,n.id),Py(e,t,n),eV(t,n.formatContext)}function Bk(e,t,n){for(var i=n.completedSegments,s=0;s<i.length;s++)K3(e,t,n,i[s]);if(i.length=0,e=e.responseState,i=n.id,n=n.rootSegmentID,zt(t,e.startInlineScript),e.sentCompleteBoundaryFunction?zt(t,aV):(e.sentCompleteBoundaryFunction=!0,zt(t,oV)),i===null)throw Error(Kt(395));return n=nn(n.toString(16)),zt(t,i),zt(t,sV),zt(t,e.segmentPrefix),zt(t,n),Kn(t,lV)}function K3(e,t,n,i){if(i.status===2)return!0;var s=i.id;if(s===-1){if((i.id=n.rootSegmentID)===-1)throw Error(Kt(392));return $k(e,t,i)}return $k(e,t,i),e=e.responseState,zt(t,e.startInlineScript),e.sentCompleteSegmentFunction?zt(t,nV):(e.sentCompleteSegmentFunction=!0,zt(t,tV)),zt(t,e.segmentPrefix),s=nn(s.toString(16)),zt(t,s),zt(t,rV),zt(t,e.placeholderPrefix),zt(t,s),Kn(t,iV)}function Tw(e,t){so=new Uint8Array(512),lo=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){Py(e,t,n),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)zt(t,i[n]);n<i.length&&Kn(t,i[n])}var s=e.clientRenderedBoundaries,h;for(h=0;h<s.length;h++){i=t;var f=e.responseState,u=s[h].id;if(zt(i,f.startInlineScript),f.sentClientRenderFunction?zt(i,cV):(f.sentClientRenderFunction=!0,zt(i,uV)),u===null)throw Error(Kt(395));zt(i,u),Kn(i,hV)}s.splice(0,h);var w=e.completedBoundaries;for(h=0;h<w.length;h++)Bk(e,t,w[h]);w.splice(0,h),mk(t),so=new Uint8Array(512),lo=0;var b=e.partialBoundaries;for(h=0;h<b.length;h++){var C=b[h];e:{s=e,f=t;var M=C.completedSegments;for(u=0;u<M.length;u++)if(!K3(s,f,C,M[u])){u++,M.splice(0,u);var T=!1;break e}M.splice(0,u),T=!0}if(!T){e.destination=null,h++,b.splice(0,h);return}}b.splice(0,h);var N=e.completedBoundaries;for(h=0;h<N.length;h++)Bk(e,t,N[h]);N.splice(0,h)}finally{mk(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function Vk(e){try{var t=e.abortableTasks;t.forEach(Z3,e),t.clear(),e.destination!==null&&Tw(e,e.destination)}catch(n){wf(e,n),Xg(e,n)}}vw.renderToReadableStream=function(e,t){return new Promise(function(n,i){var s,h,f=new Promise(function(C,M){h=C,s=M}),u=CV(e,p8(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),m8(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,h,function(){var C=new ReadableStream({type:"bytes",pull:function(M){if(u.status===1)u.status=2,P3(M,u.fatalError);else if(u.status!==2&&u.destination===null){u.destination=M;try{Tw(u,M)}catch(T){wf(u,T),Xg(u,T)}}},cancel:function(){Vk(u)}});C.allReady=f,n(C)},function(C){f.catch(function(){}),i(C)},s);if(t&&t.signal){var w=t.signal,b=function(){Vk(u),w.removeEventListener("abort",b)};w.addEventListener("abort",b)}X3(u)})};vw.version="18.1.0";var oh,Y3;oh=ih,Y3=vw;oh.version;var PV=oh.renderToString;oh.renderToStaticMarkup;oh.renderToNodeStream;oh.renderToStaticNodeStream;Y3.renderToReadableStream;var J3={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Kd,function(){var n,i,s;function h(u,w){if(!n)n=w;else if(!i)i=w;else{var b="var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk);",C={};n(C),s=w(C),typeof window!="undefined"&&(s.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}}h(["exports"],function(u){var w=b;function b(a,r,l,d){this.cx=3*a,this.bx=3*(l-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(d-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=r,this.p2x=l,this.p2y=d}function C(a,r,l,d){const m=new w(a,r,l,d);return function(_){return m.solve(_)}}b.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,r){if(r===void 0&&(r=1e-6),a<0)return 0;if(a>1)return 1;for(var l=a,d=0;d<8;d++){var m=this.sampleCurveX(l)-a;if(Math.abs(m)<r)return l;var _=this.sampleCurveDerivativeX(l);if(Math.abs(_)<1e-6)break;l-=m/_}var v=0,S=1;for(l=a,d=0;d<20&&(m=this.sampleCurveX(l),!(Math.abs(m-a)<r));d++)a>m?v=l:S=l,l=.5*(S-v)+v;return l},solve:function(a,r){return this.sampleCurveY(this.solveCurveX(a,r))}};const M=C(.25,.1,.25,1);function T(a,r,l){return Math.min(l,Math.max(r,a))}function N(a,r,l){const d=l-r,m=((a-r)%d+d)%d+r;return m===r?l:m}function W(a,...r){for(const l of r)for(const d in l)a[d]=l[d];return a}let H=1;function le(a,r){a.forEach(l=>{r[l]&&(r[l]=r[l].bind(r))})}function V(a,r,l){const d={};for(const m in a)d[m]=r.call(l||this,a[m],m,a);return d}function B(a,r,l){const d={};for(const m in a)r.call(l||this,a[m],m,a)&&(d[m]=a[m]);return d}function Y(a){return Array.isArray(a)?a.map(Y):typeof a=="object"&&a?V(a,Y):a}const se={};function oe(a){se[a]||(typeof console!="undefined"&&console.warn(a),se[a]=!0)}function de(a,r,l){return(l.y-a.y)*(r.x-a.x)>(r.y-a.y)*(l.x-a.x)}function me(a){let r=0;for(let l,d,m=0,_=a.length,v=_-1;m<_;v=m++)l=a[m],d=a[v],r+=(d.x-l.x)*(l.y+d.y);return r}function xe(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function Be(a){const r={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,d,m,_)=>{const v=m||_;return r[d]=!v||v.toLowerCase(),""}),r["max-age"]){const l=parseInt(r["max-age"],10);isNaN(l)?delete r["max-age"]:r["max-age"]=l}return r}let Ie,Qe,Tt=null;function Ct(a){if(Tt==null){const r=a.navigator?a.navigator.userAgent:null;Tt=!!a.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return Tt}function Et(a){return typeof ImageBitmap!="undefined"&&a instanceof ImageBitmap}const jt={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(a){const r=requestAnimationFrame(a);return{cancel:()=>cancelAnimationFrame(r)}},getImageData(a,r=0){const l=window.document.createElement("canvas"),d=l.getContext("2d");if(!d)throw new Error("failed to create canvas 2d context");return l.width=a.width,l.height=a.height,d.drawImage(a,0,0,a.width,a.height),d.getImageData(-r,-r,a.width+2*r,a.height+2*r)},resolveURL:a=>(Ie||(Ie=document.createElement("a")),Ie.href=a,Ie.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Qe==null&&(Qe=matchMedia("(prefers-reduced-motion: reduce)")),Qe.matches)}};var tt=dn;function dn(a,r){this.x=a,this.y=r}dn.prototype={clone:function(){return new dn(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,r){return this.clone()._rotateAround(a,r)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var r=a.x-this.x,l=a.y-this.y;return r*r+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,r){return Math.atan2(this.x*r-this.y*a,this.x*a+this.y*r)},_matMult:function(a){var r=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=r,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var r=Math.cos(a),l=Math.sin(a),d=l*this.x+r*this.y;return this.x=r*this.x-l*this.y,this.y=d,this},_rotateAround:function(a,r){var l=Math.cos(a),d=Math.sin(a),m=r.y+d*(this.x-r.x)+l*(this.y-r.y);return this.x=r.x+l*(this.x-r.x)-d*(this.y-r.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},dn.convert=function(a){return a instanceof dn?a:Array.isArray(a)?new dn(a[0],a[1]):a};const Ne={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},nt="mapbox-tiles";let ut,Ft,ct=500,mn=50;function rn(){typeof caches=="undefined"||ut||(ut=caches.open(nt))}let Jn=1/0;const Ht={supported:!1,testSupport:function(a){!fi&&kr&&(pi?fn(a):Gn=a)}};let Gn,kr,fi=!1,pi=!1;function fn(a){const r=a.createTexture();a.bindTexture(a.TEXTURE_2D,r);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,kr),a.isContextLost())return;Ht.supported=!0}catch{}a.deleteTexture(r),fi=!0}typeof document!="undefined"&&(kr=document.createElement("img"),kr.onload=function(){Gn&&fn(Gn),Gn=null,pi=!0},kr.onerror=function(){fi=!0,Gn=null},kr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Rn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Rn);class Pn extends Error{constructor(r,l,d,m){super(`AJAXError: ${l} (${r}): ${d}`),this.status=r,this.statusText=l,this.url=d,this.body=m}}const jr=xe()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function ti(a,r){const l=new AbortController,d=new Request(a.url,{method:a.method||"GET",body:a.body,credentials:a.credentials,headers:a.headers,referrer:jr(),signal:l.signal});let m=!1,_=!1;return a.type==="json"&&d.headers.set("Accept","application/json"),((v,S,k)=>{if(_)return;const A=Date.now();fetch(d).then(R=>R.ok?((O,$,G)=>{(a.type==="arrayBuffer"?O.arrayBuffer():a.type==="json"?O.json():O.text()).then(q=>{_||($&&G&&function(re,ie,ye){if(rn(),!ut)return;const be={status:ie.status,statusText:ie.statusText,headers:new Headers};ie.headers.forEach((Pe,Re)=>be.headers.set(Re,Pe));const we=Be(ie.headers.get("Cache-Control")||"");we["no-store"]||(we["max-age"]&&be.headers.set("Expires",new Date(ye+1e3*we["max-age"]).toUTCString()),new Date(be.headers.get("Expires")).getTime()-ye<42e4||function(Pe,Re){if(Ft===void 0)try{new Response(new ReadableStream),Ft=!0}catch{Ft=!1}Ft?Re(Pe.body):Pe.blob().then(Re)}(ie,Pe=>{const Re=new Response(Pe,be);rn(),ut&&ut.then(ze=>ze.put(function(ot){const pt=ot.indexOf("?");return pt<0?ot:ot.slice(0,pt)}(re.url),Re)).catch(ze=>oe(ze.message))}))}(d,$,G),m=!0,r(null,q,O.headers.get("Cache-Control"),O.headers.get("Expires")))}).catch(q=>{_||r(new Error(q.message))})})(R,null,A):R.blob().then(O=>r(new Pn(R.status,R.statusText,a.url,O)))).catch(R=>{R.code!==20&&r(new Error(R.message))})})(),{cancel:()=>{_=!0,m||l.abort()}}}const Oi=function(a,r){if(/:\/\//.test(a.url)&&!/^https?:|^file:/.test(a.url)){if(xe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,r);if(!xe()){const d=a.url.substring(0,a.url.indexOf("://"));return(Ne.REGISTERED_PROTOCOLS[d]||ti)(a,r)}}if(!(/^file:/.test(l=a.url)||/^file:/.test(jr())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return ti(a,r);if(xe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,r,void 0,!0)}var l;return function(d,m){const _=new XMLHttpRequest;_.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(_.responseType="arraybuffer");for(const v in d.headers)_.setRequestHeader(v,d.headers[v]);return d.type==="json"&&(_.responseType="text",_.setRequestHeader("Accept","application/json")),_.withCredentials=d.credentials==="include",_.onerror=()=>{m(new Error(_.statusText))},_.onload=()=>{if((_.status>=200&&_.status<300||_.status===0)&&_.response!==null){let v=_.response;if(d.type==="json")try{v=JSON.parse(_.response)}catch(S){return m(S)}m(null,v,_.getResponseHeader("Cache-Control"),_.getResponseHeader("Expires"))}else{const v=new Blob([_.response],{type:_.getResponseHeader("Content-Type")});m(new Pn(_.status,_.statusText,d.url,v))}},_.send(d.body),{cancel:()=>_.abort()}}(a,r)},fr=function(a,r){return Oi(W(a,{type:"arrayBuffer"}),r)};function So(a){const r=window.document.createElement("a");return r.href=a,r.protocol===window.document.location.protocol&&r.host===window.document.location.host}const Rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let pr,Wn;pr=[],Wn=0;const jo=function(a,r){if(Ht.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),Wn>=Ne.MAX_PARALLEL_IMAGE_REQUESTS){const _={requestParameters:a,callback:r,cancelled:!1,cancel(){this.cancelled=!0}};return pr.push(_),_}Wn++;let l=!1;const d=()=>{if(!l)for(l=!0,Wn--;pr.length&&Wn<Ne.MAX_PARALLEL_IMAGE_REQUESTS;){const _=pr.shift(),{requestParameters:v,callback:S,cancelled:k}=_;k||(_.cancel=jo(v,S).cancel)}},m=fr(a,(_,v,S,k)=>{d(),_?r(_):v&&function(A,R){typeof createImageBitmap=="function"?function(O,$){const G=new Blob([new Uint8Array(O)],{type:"image/png"});createImageBitmap(G).then(q=>{$(null,q)}).catch(q=>{$(new Error(`Could not load image because of ${q.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(A,R):function(O,$){const G=new Image;G.onload=()=>{$(null,G),URL.revokeObjectURL(G.src),G.onload=null,window.requestAnimationFrame(()=>{G.src=Rr})},G.onerror=()=>$(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const q=new Blob([new Uint8Array(O)],{type:"image/png"});G.src=O.byteLength?URL.createObjectURL(q):Rr}(A,R)}(v,(A,R)=>{A!=null?r(A):R!=null&&r(null,R,{cacheControl:S,expires:k})})});return{cancel:()=>{m.cancel(),d()}}};function $t(a,r,l){l[a]&&l[a].indexOf(r)!==-1||(l[a]=l[a]||[],l[a].push(r))}function He(a,r,l){if(l&&l[a]){const d=l[a].indexOf(r);d!==-1&&l[a].splice(d,1)}}class xt{constructor(r,l={}){W(this,l),this.type=r}}class on extends xt{constructor(r,l={}){super("error",W({error:r},l))}}class kn{on(r,l){return this._listeners=this._listeners||{},$t(r,l,this._listeners),this}off(r,l){return He(r,l,this._listeners),He(r,l,this._oneTimeListeners),this}once(r,l){return this._oneTimeListeners=this._oneTimeListeners||{},$t(r,l,this._oneTimeListeners),this}fire(r,l){typeof r=="string"&&(r=new xt(r,l||{}));const d=r.type;if(this.listens(d)){r.target=this;const m=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const S of m)S.call(this,r);const _=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const S of _)He(d,S,this._oneTimeListeners),S.call(this,r);const v=this._eventedParent;v&&(W(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),v.fire(r))}else r instanceof on&&console.error(r.error);return this}listens(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)}setEventedParent(r,l){return this._eventedParent=r,this._eventedParentData=l,this}}var ve={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class je{constructor(r,l,d,m){this.message=(r?`${r}: `:"")+d,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function Cr(a){const r=a.value;return r?[new je(a.key,r,"constants have been deprecated as of v8")]:[]}function mi(a,...r){for(const l of r)for(const d in l)a[d]=l[d];return a}function an(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Lr(a){if(Array.isArray(a))return a.map(Lr);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const r={};for(const l in a)r[l]=Lr(a[l]);return r}return an(a)}class or extends Error{constructor(r,l){super(l),this.message=l,this.key=r}}class Ki{constructor(r,l=[]){this.parent=r,this.bindings={};for(const[d,m]of l)this.bindings[d]=m}concat(r){return new Ki(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}const pn={kind:"null"},Ue={kind:"number"},Dt={kind:"string"},At={kind:"boolean"},Ur={kind:"color"},Yi={kind:"object"},Lt={kind:"value"},Ea={kind:"collator"},Ji={kind:"formatted"},Uo={kind:"resolvedImage"};function ar(a,r){return{kind:"array",itemType:a,N:r}}function xn(a){if(a.kind==="array"){const r=xn(a.itemType);return typeof a.N=="number"?`array<${r}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${r}>`}return a.kind}const Fi=[pn,Ue,Dt,At,Ur,Ji,Yi,ar(Lt),Uo];function ka(a,r){if(r.kind==="error")return null;if(a.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!ka(a.itemType,r.itemType))&&(typeof a.N!="number"||a.N===r.N))return null}else{if(a.kind===r.kind)return null;if(a.kind==="value"){for(const l of Fi)if(!ka(l,r))return null}}return`Expected ${xn(a)} but found ${xn(r)} instead.`}function mr(a,r){return r.some(l=>l.kind===a.kind)}function Qi(a,r){return r.some(l=>l==="null"?a===null:l==="array"?Array.isArray(a):l==="object"?a&&!Array.isArray(a)&&typeof a=="object":l===typeof a)}var eo,cl={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function hs(a){return(a=Math.round(a))<0?0:a>255?255:a}function ds(a){return hs(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function J(a){return(r=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:r>1?1:r;var r}function z(a,r,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?a+(r-a)*l*6:2*l<1?r:3*l<2?a+(r-a)*(2/3-l)*6:a}try{eo={}.parseCSSColor=function(a){var r,l=a.replace(/ /g,"").toLowerCase();if(l in cl)return cl[l].slice();if(l[0]==="#")return l.length===4?(r=parseInt(l.substr(1),16))>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null:l.length===7&&(r=parseInt(l.substr(1),16))>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null;var d=l.indexOf("("),m=l.indexOf(")");if(d!==-1&&m+1===l.length){var _=l.substr(0,d),v=l.substr(d+1,m-(d+1)).split(","),S=1;switch(_){case"rgba":if(v.length!==4)return null;S=J(v.pop());case"rgb":return v.length!==3?null:[ds(v[0]),ds(v[1]),ds(v[2]),S];case"hsla":if(v.length!==4)return null;S=J(v.pop());case"hsl":if(v.length!==3)return null;var k=(parseFloat(v[0])%360+360)%360/360,A=J(v[1]),R=J(v[2]),O=R<=.5?R*(A+1):R+A-R*A,$=2*R-O;return[hs(255*z($,O,k+1/3)),hs(255*z($,O,k)),hs(255*z($,O,k-1/3)),S];default:return null}}return null}}catch{}class L{constructor(r,l,d,m=1){this.r=r,this.g=l,this.b=d,this.a=m}static parse(r){if(!r)return;if(r instanceof L)return r;if(typeof r!="string")return;const l=eo(r);return l?new L(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[r,l,d,m]=this.toArray();return`rgba(${Math.round(r)},${Math.round(l)},${Math.round(d)},${m})`}toArray(){const{r,g:l,b:d,a:m}=this;return m===0?[0,0,0,0]:[255*r/m,255*l/m,255*d/m,m]}}L.black=new L(0,0,0,1),L.white=new L(1,1,1,1),L.transparent=new L(0,0,0,0),L.red=new L(1,0,0,1);class Z{constructor(r,l,d){this.sensitivity=r?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,l){return this.collator.compare(r,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Q{constructor(r,l,d,m,_){this.text=r,this.image=l,this.scale=d,this.fontStack=m,this.textColor=_}}class ee{constructor(r){this.sections=r}static fromString(r){return new ee([new Q(r,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(r=>r.text.length!==0||r.image&&r.image.name.length!==0)}static factory(r){return r instanceof ee?r:ee.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map(r=>r.text).join("")}serialize(){const r=["format"];for(const l of this.sections){if(l.image){r.push(["image",l.image.name]);continue}r.push(l.text);const d={};l.fontStack&&(d["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(d["font-scale"]=l.scale),l.textColor&&(d["text-color"]=["rgba"].concat(l.textColor.toArray())),r.push(d)}return r}}class ce{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new ce({name:r,available:!1}):null}serialize(){return["image",this.name]}}function ae(a,r,l,d){return typeof a=="number"&&a>=0&&a<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof l=="number"&&l>=0&&l<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[a,r,l,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[a,r,l,d]:[a,r,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ue(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof L||a instanceof Z||a instanceof ee||a instanceof ce)return!0;if(Array.isArray(a)){for(const r of a)if(!ue(r))return!1;return!0}if(typeof a=="object"){for(const r in a)if(!ue(a[r]))return!1;return!0}return!1}function he(a){if(a===null)return pn;if(typeof a=="string")return Dt;if(typeof a=="boolean")return At;if(typeof a=="number")return Ue;if(a instanceof L)return Ur;if(a instanceof Z)return Ea;if(a instanceof ee)return Ji;if(a instanceof ce)return Uo;if(Array.isArray(a)){const r=a.length;let l;for(const d of a){const m=he(d);if(l){if(l===m)continue;l=Lt;break}l=m}return ar(l||Lt,r)}return Yi}function ke(a){const r=typeof a;return a===null?"":r==="string"||r==="number"||r==="boolean"?String(a):a instanceof L||a instanceof ee||a instanceof ce?a.toString():JSON.stringify(a)}class De{constructor(r,l){this.type=r,this.value=l}static parse(r,l){if(r.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!ue(r[1]))return l.error("invalid value");const d=r[1];let m=he(d);const _=l.expectedType;return m.kind!=="array"||m.N!==0||!_||_.kind!=="array"||typeof _.N=="number"&&_.N!==0||(m=_),new De(m,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof L?["rgba"].concat(this.value.toArray()):this.value instanceof ee?this.value.serialize():this.value}}class Se{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}}const lt={string:Dt,number:Ue,boolean:At,object:Yi};class et{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");let d,m=1;const _=r[0];if(_==="array"){let S,k;if(r.length>2){const A=r[1];if(typeof A!="string"||!(A in lt)||A==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);S=lt[A],m++}else S=Lt;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return l.error('The length argument to "array" must be a positive integer literal',2);k=r[2],m++}d=ar(S,k)}else d=lt[_];const v=[];for(;m<r.length;m++){const S=l.parse(r[m],m,Lt);if(!S)return null;v.push(S)}return new et(d,v)}evaluate(r){for(let l=0;l<this.args.length;l++){const d=this.args[l].evaluate(r);if(!ka(this.type,he(d)))return d;if(l===this.args.length-1)throw new Se(`Expected value to be of type ${xn(this.type)}, but found ${xn(he(d))} instead.`)}return null}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=this.type,l=[r.kind];if(r.kind==="array"){const d=r.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){l.push(d.kind);const m=r.N;(typeof m=="number"||this.args.length>1)&&l.push(m)}}return l.concat(this.args.map(d=>d.serialize()))}}class dt{constructor(r){this.type=Ji,this.sections=r}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const d=r[1];if(!Array.isArray(d)&&typeof d=="object")return l.error("First argument must be an image or text section.");const m=[];let _=!1;for(let v=1;v<=r.length-1;++v){const S=r[v];if(_&&typeof S=="object"&&!Array.isArray(S)){_=!1;let k=null;if(S["font-scale"]&&(k=l.parse(S["font-scale"],1,Ue),!k))return null;let A=null;if(S["text-font"]&&(A=l.parse(S["text-font"],1,ar(Dt)),!A))return null;let R=null;if(S["text-color"]&&(R=l.parse(S["text-color"],1,Ur),!R))return null;const O=m[m.length-1];O.scale=k,O.font=A,O.textColor=R}else{const k=l.parse(r[v],1,Lt);if(!k)return null;const A=k.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,m.push({content:k,scale:null,font:null,textColor:null})}}return new dt(m)}evaluate(r){return new ee(this.sections.map(l=>{const d=l.content.evaluate(r);return he(d)===Uo?new Q("",d,null,null,null):new Q(ke(d),null,l.scale?l.scale.evaluate(r):null,l.font?l.font.evaluate(r).join(","):null,l.textColor?l.textColor.evaluate(r):null)}))}eachChild(r){for(const l of this.sections)r(l.content),l.scale&&r(l.scale),l.font&&r(l.font),l.textColor&&r(l.textColor)}outputDefined(){return!1}serialize(){const r=["format"];for(const l of this.sections){r.push(l.content.serialize());const d={};l.scale&&(d["font-scale"]=l.scale.serialize()),l.font&&(d["text-font"]=l.font.serialize()),l.textColor&&(d["text-color"]=l.textColor.serialize()),r.push(d)}return r}}class wt{constructor(r){this.type=Uo,this.input=r}static parse(r,l){if(r.length!==2)return l.error("Expected two arguments.");const d=l.parse(r[1],1,Dt);return d?new wt(d):l.error("No image name provided.")}evaluate(r){const l=this.input.evaluate(r),d=ce.fromString(l);return d&&r.availableImages&&(d.available=r.availableImages.indexOf(l)>-1),d}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Xt={"to-boolean":At,"to-color":Ur,"to-number":Ue,"to-string":Dt};class Ut{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const d=r[0];if((d==="to-boolean"||d==="to-string")&&r.length!==2)return l.error("Expected one argument.");const m=Xt[d],_=[];for(let v=1;v<r.length;v++){const S=l.parse(r[v],v,Lt);if(!S)return null;_.push(S)}return new Ut(m,_)}evaluate(r){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(r));if(this.type.kind==="color"){let l,d;for(const m of this.args){if(l=m.evaluate(r),d=null,l instanceof L)return l;if(typeof l=="string"){const _=r.parseColor(l);if(_)return _}else if(Array.isArray(l)&&(d=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:ae(l[0],l[1],l[2],l[3]),!d))return new L(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Se(d||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const d of this.args){if(l=d.evaluate(r),l===null)return 0;const m=Number(l);if(!isNaN(m))return m}throw new Se(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?ee.fromString(ke(this.args[0].evaluate(r))):this.type.kind==="resolvedImage"?ce.fromString(ke(this.args[0].evaluate(r))):ke(this.args[0].evaluate(r))}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){if(this.type.kind==="formatted")return new dt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new wt(this.args[0]).serialize();const r=[`to-${this.type.kind}`];return this.eachChild(l=>{r.push(l.serialize())}),r}}const Bt=["Unknown","Point","LineString","Polygon"];class Ot{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Bt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(r){let l=this._parseColorCache[r];return l||(l=this._parseColorCache[r]=L.parse(r)),l}}class Rt{constructor(r,l,d,m){this.name=r,this.type=l,this._evaluate=d,this.args=m}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(r=>r.serialize()))}static parse(r,l){const d=r[0],m=Rt.definitions[d];if(!m)return l.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const _=Array.isArray(m)?m[0]:m.type,v=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,S=v.filter(([A])=>!Array.isArray(A)||A.length===r.length-1);let k=null;for(const[A,R]of S){k=new du(l.registry,l.path,null,l.scope);const O=[];let $=!1;for(let G=1;G<r.length;G++){const q=r[G],re=Array.isArray(A)?A[G-1]:A.type,ie=k.parse(q,1+O.length,re);if(!ie){$=!0;break}O.push(ie)}if(!$)if(Array.isArray(A)&&A.length!==O.length)k.error(`Expected ${A.length} arguments, but found ${O.length} instead.`);else{for(let G=0;G<O.length;G++){const q=Array.isArray(A)?A[G]:A.type,re=O[G];k.concat(G+1).checkSubtype(q,re.type)}if(k.errors.length===0)return new Rt(d,_,R,O)}}if(S.length===1)l.errors.push(...k.errors);else{const A=(S.length?S:v).map(([O])=>{return $=O,Array.isArray($)?`(${$.map(xn).join(", ")})`:`(${xn($.type)}...)`;var $}).join(" | "),R=[];for(let O=1;O<r.length;O++){const $=l.parse(r[O],1+R.length);if(!$)return null;R.push(xn($.type))}l.error(`Expected arguments of type ${A}, but found (${R.join(", ")}) instead.`)}return null}static register(r,l){Rt.definitions=l;for(const d in l)r[d]=Rt}}class Qn{constructor(r,l,d){this.type=Ea,this.locale=d,this.caseSensitive=r,this.diacriticSensitive=l}static parse(r,l){if(r.length!==2)return l.error("Expected one argument.");const d=r[1];if(typeof d!="object"||Array.isArray(d))return l.error("Collator options argument must be an object.");const m=l.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,At);if(!m)return null;const _=l.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,At);if(!_)return null;let v=null;return d.locale&&(v=l.parse(d.locale,1,Dt),!v)?null:new Qn(m,_,v)}evaluate(r){return new Z(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}serialize(){const r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]}}const qn=8192;function xr(a,r){a[0]=Math.min(a[0],r[0]),a[1]=Math.min(a[1],r[1]),a[2]=Math.max(a[2],r[0]),a[3]=Math.max(a[3],r[1])}function Tr(a,r){return!(a[0]<=r[0]||a[2]>=r[2]||a[1]<=r[1]||a[3]>=r[3])}function uh(a,r){const l=(180+a[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,m=Math.pow(2,r.z);return[Math.round(l*m*qn),Math.round(d*m*qn)]}function ch(a,r,l){const d=a[0]-r[0],m=a[1]-r[1],_=a[0]-l[0],v=a[1]-l[1];return d*v-_*m==0&&d*_<=0&&m*v<=0}function wn(a,r){let l=!1;for(let v=0,S=r.length;v<S;v++){const k=r[v];for(let A=0,R=k.length;A<R-1;A++){if(ch(a,k[A],k[A+1]))return!1;(m=k[A])[1]>(d=a)[1]!=(_=k[A+1])[1]>d[1]&&d[0]<(_[0]-m[0])*(d[1]-m[1])/(_[1]-m[1])+m[0]&&(l=!l)}}var d,m,_;return l}function i0(a,r){for(let l=0;l<r.length;l++)if(wn(a,r[l]))return!0;return!1}function hh(a,r,l,d){const m=d[0]-l[0],_=d[1]-l[1],v=(a[0]-l[0])*_-m*(a[1]-l[1]),S=(r[0]-l[0])*_-m*(r[1]-l[1]);return v>0&&S<0||v<0&&S>0}function o0(a,r,l){for(const A of l)for(let R=0;R<A.length-1;++R)if((S=[(v=A[R+1])[0]-(_=A[R])[0],v[1]-_[1]])[0]*(k=[(m=r)[0]-(d=a)[0],m[1]-d[1]])[1]-S[1]*k[0]!=0&&hh(d,m,_,v)&&hh(_,v,d,m))return!0;var d,m,_,v,S,k;return!1}function dh(a,r){for(let l=0;l<a.length;++l)if(!wn(a[l],r))return!1;for(let l=0;l<a.length-1;++l)if(o0(a[l],a[l+1],r))return!1;return!0}function jf(a,r){for(let l=0;l<r.length;l++)if(dh(a,r[l]))return!0;return!1}function fh(a,r,l){const d=[];for(let m=0;m<a.length;m++){const _=[];for(let v=0;v<a[m].length;v++){const S=uh(a[m][v],l);xr(r,S),_.push(S)}d.push(_)}return d}function ph(a,r,l){const d=[];for(let m=0;m<a.length;m++){const _=fh(a[m],r,l);d.push(_)}return d}function mh(a,r,l,d){if(a[0]<l[0]||a[0]>l[2]){const m=.5*d;let _=a[0]-l[0]>m?-d:l[0]-a[0]>m?d:0;_===0&&(_=a[0]-l[2]>m?-d:l[2]-a[0]>m?d:0),a[0]+=_}xr(r,a)}function Uf(a,r,l,d){const m=Math.pow(2,d.z)*qn,_=[d.x*qn,d.y*qn],v=[];for(const S of a)for(const k of S){const A=[k.x+_[0],k.y+_[1]];mh(A,r,l,m),v.push(A)}return v}function Gf(a,r,l,d){const m=Math.pow(2,d.z)*qn,_=[d.x*qn,d.y*qn],v=[];for(const k of a){const A=[];for(const R of k){const O=[R.x+_[0],R.y+_[1]];xr(r,O),A.push(O)}v.push(A)}if(r[2]-r[0]<=m/2){(S=r)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const k of v)for(const A of k)mh(A,r,l,m)}var S;return v}class Ca{constructor(r,l){this.type=At,this.geojson=r,this.geometries=l}static parse(r,l){if(r.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(ue(r[1])){const d=r[1];if(d.type==="FeatureCollection")for(let m=0;m<d.features.length;++m){const _=d.features[m].geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Ca(d,d.features[m].geometry)}else if(d.type==="Feature"){const m=d.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Ca(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Ca(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(l,d){const m=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=l.canonicalID();if(d.type==="Polygon"){const S=fh(d.coordinates,_,v),k=Uf(l.geometry(),m,_,v);if(!Tr(m,_))return!1;for(const A of k)if(!wn(A,S))return!1}if(d.type==="MultiPolygon"){const S=ph(d.coordinates,_,v),k=Uf(l.geometry(),m,_,v);if(!Tr(m,_))return!1;for(const A of k)if(!i0(A,S))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(l,d){const m=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=l.canonicalID();if(d.type==="Polygon"){const S=fh(d.coordinates,_,v),k=Gf(l.geometry(),m,_,v);if(!Tr(m,_))return!1;for(const A of k)if(!dh(A,S))return!1}if(d.type==="MultiPolygon"){const S=ph(d.coordinates,_,v),k=Gf(l.geometry(),m,_,v);if(!Tr(m,_))return!1;for(const A of k)if(!jf(A,S))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function cu(a){if(a instanceof Rt&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof Ca)return!1;let r=!0;return a.eachChild(l=>{r&&!cu(l)&&(r=!1)}),r}function fs(a){if(a instanceof Rt&&a.name==="feature-state")return!1;let r=!0;return a.eachChild(l=>{r&&!fs(l)&&(r=!1)}),r}function hl(a,r){if(a instanceof Rt&&r.indexOf(a.name)>=0)return!1;let l=!0;return a.eachChild(d=>{l&&!hl(d,r)&&(l=!1)}),l}class hu{constructor(r,l){this.type=l.type,this.name=r,this.boundExpression=l}static parse(r,l){if(r.length!==2||typeof r[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const d=r[1];return l.scope.has(d)?new hu(d,l.scope.get(d)):l.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class du{constructor(r,l=[],d,m=new Ki,_=[]){this.registry=r,this.path=l,this.key=l.map(v=>`[${v}]`).join(""),this.scope=m,this.errors=_,this.expectedType=d}parse(r,l,d,m,_={}){return l?this.concat(l,d,m)._parse(r,_):this._parse(r,_)}_parse(r,l){function d(m,_,v){return v==="assert"?new et(_,[m]):v==="coerce"?new Ut(_,[m]):m}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=r[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const _=this.registry[m];if(_){let v=_.parse(r,this);if(!v)return null;if(this.expectedType){const S=this.expectedType,k=v.type;if(S.kind!=="string"&&S.kind!=="number"&&S.kind!=="boolean"&&S.kind!=="object"&&S.kind!=="array"||k.kind!=="value")if(S.kind!=="color"&&S.kind!=="formatted"&&S.kind!=="resolvedImage"||k.kind!=="value"&&k.kind!=="string"){if(this.checkSubtype(S,k))return null}else v=d(v,S,l.typeAnnotation||"coerce");else v=d(v,S,l.typeAnnotation||"assert")}if(!(v instanceof De)&&v.type.kind!=="resolvedImage"&&dl(v)){const S=new Ot;try{v=new De(v.type,v.evaluate(S))}catch(k){return this.error(k.message),null}}return v}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,l,d){const m=typeof r=="number"?this.path.concat(r):this.path,_=d?this.scope.concat(d):this.scope;return new du(this.registry,m,l||null,_,this.errors)}error(r,...l){const d=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new or(d,r))}checkSubtype(r,l){const d=ka(r,l);return d&&this.error(d),d}}function dl(a){if(a instanceof hu)return dl(a.boundExpression);if(a instanceof Rt&&a.name==="error"||a instanceof Qn||a instanceof Ca)return!1;const r=a instanceof Ut||a instanceof et;let l=!0;return a.eachChild(d=>{l=r?l&&dl(d):l&&d instanceof De}),!!l&&cu(a)&&hl(a,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function fu(a,r){const l=a.length-1;let d,m,_=0,v=l,S=0;for(;_<=v;)if(S=Math.floor((_+v)/2),d=a[S],m=a[S+1],d<=r){if(S===l||r<m)return S;_=S+1}else{if(!(d>r))throw new Se("Input is not a number.");v=S-1}return 0}class fl{constructor(r,l,d){this.type=r,this.input=l,this.labels=[],this.outputs=[];for(const[m,_]of d)this.labels.push(m),this.outputs.push(_)}static parse(r,l){if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");const d=l.parse(r[1],1,Ue);if(!d)return null;const m=[];let _=null;l.expectedType&&l.expectedType.kind!=="value"&&(_=l.expectedType);for(let v=1;v<r.length;v+=2){const S=v===1?-1/0:r[v],k=r[v+1],A=v,R=v+1;if(typeof S!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(m.length&&m[m.length-1][0]>=S)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const O=l.parse(k,R,_);if(!O)return null;_=_||O.type,m.push([S,O])}return new fl(_,d,m)}evaluate(r){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=l[0])return d[0].evaluate(r);const _=l.length;return m>=l[_-1]?d[_-1].evaluate(r):d[fu(l,m)].evaluate(r)}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){const r=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&r.push(this.labels[l]),r.push(this.outputs[l].serialize());return r}}function sr(a,r,l){return a*(1-l)+r*l}var pl=Object.freeze({__proto__:null,number:sr,color:function(a,r,l){return new L(sr(a.r,r.r,l),sr(a.g,r.g,l),sr(a.b,r.b,l),sr(a.a,r.a,l))},array:function(a,r,l){return a.map((d,m)=>sr(d,r[m],l))}});const gh=.95047,Wf=1.08883,qf=4/29,pu=6/29,yh=3*pu*pu,a0=Math.PI/180,s0=180/Math.PI;function _h(a){return a>.008856451679035631?Math.pow(a,1/3):a/yh+qf}function vh(a){return a>pu?a*a*a:yh*(a-qf)}function xh(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function wh(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Zf(a){const r=wh(a.r),l=wh(a.g),d=wh(a.b),m=_h((.4124564*r+.3575761*l+.1804375*d)/gh),_=_h((.2126729*r+.7151522*l+.072175*d)/1);return{l:116*_-16,a:500*(m-_),b:200*(_-_h((.0193339*r+.119192*l+.9503041*d)/Wf)),alpha:a.a}}function en(a){let r=(a.l+16)/116,l=isNaN(a.a)?r:r+a.a/500,d=isNaN(a.b)?r:r-a.b/200;return r=1*vh(r),l=gh*vh(l),d=Wf*vh(d),new L(xh(3.2404542*l-1.5371385*r-.4985314*d),xh(-.969266*l+1.8760108*r+.041556*d),xh(.0556434*l-.2040259*r+1.0572252*d),a.alpha)}function l0(a,r,l){const d=r-a;return a+l*(d>180||d<-180?d-360*Math.round(d/360):d)}const ml={forward:Zf,reverse:en,interpolate:function(a,r,l){return{l:sr(a.l,r.l,l),a:sr(a.a,r.a,l),b:sr(a.b,r.b,l),alpha:sr(a.alpha,r.alpha,l)}}},gl={forward:function(a){const{l:r,a:l,b:d}=Zf(a),m=Math.atan2(d,l)*s0;return{h:m<0?m+360:m,c:Math.sqrt(l*l+d*d),l:r,alpha:a.a}},reverse:function(a){const r=a.h*a0,l=a.c;return en({l:a.l,a:Math.cos(r)*l,b:Math.sin(r)*l,alpha:a.alpha})},interpolate:function(a,r,l){return{h:l0(a.h,r.h,l),c:sr(a.c,r.c,l),l:sr(a.l,r.l,l),alpha:sr(a.alpha,r.alpha,l)}}};var Hf=Object.freeze({__proto__:null,lab:ml,hcl:gl});class gi{constructor(r,l,d,m,_){this.type=r,this.operator=l,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(const[v,S]of _)this.labels.push(v),this.outputs.push(S)}static interpolationFactor(r,l,d,m){let _=0;if(r.name==="exponential")_=bh(l,r.base,d,m);else if(r.name==="linear")_=bh(l,1,d,m);else if(r.name==="cubic-bezier"){const v=r.controlPoints;_=new w(v[0],v[1],v[2],v[3]).solve(bh(l,1,d,m))}return _}static parse(r,l){let[d,m,_,...v]=r;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const A=m[1];if(typeof A!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:A}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const A=m.slice(1);if(A.length!==4||A.some(R=>typeof R!="number"||R<0||R>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:A}}}if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(_=l.parse(_,2,Ue),!_)return null;const S=[];let k=null;d==="interpolate-hcl"||d==="interpolate-lab"?k=Ur:l.expectedType&&l.expectedType.kind!=="value"&&(k=l.expectedType);for(let A=0;A<v.length;A+=2){const R=v[A],O=v[A+1],$=A+3,G=A+4;if(typeof R!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(S.length&&S[S.length-1][0]>=R)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);const q=l.parse(O,G,k);if(!q)return null;k=k||q.type,S.push([R,q])}return k.kind==="number"||k.kind==="color"||k.kind==="array"&&k.itemType.kind==="number"&&typeof k.N=="number"?new gi(k,d,m,_,S):l.error(`Type ${xn(k)} is not interpolatable.`)}evaluate(r){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=l[0])return d[0].evaluate(r);const _=l.length;if(m>=l[_-1])return d[_-1].evaluate(r);const v=fu(l,m),S=gi.interpolationFactor(this.interpolation,m,l[v],l[v+1]),k=d[v].evaluate(r),A=d[v+1].evaluate(r);return this.operator==="interpolate"?pl[this.type.kind.toLowerCase()](k,A,S):this.operator==="interpolate-hcl"?gl.reverse(gl.interpolate(gl.forward(k),gl.forward(A),S)):ml.reverse(ml.interpolate(ml.forward(k),ml.forward(A),S))}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){let r;r=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,r,this.input.serialize()];for(let d=0;d<this.labels.length;d++)l.push(this.labels[d],this.outputs[d].serialize());return l}}function bh(a,r,l,d){const m=d-l,_=a-l;return m===0?0:r===1?_/m:(Math.pow(r,_)-1)/(Math.pow(r,m)-1)}class mu{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expectected at least one argument.");let d=null;const m=l.expectedType;m&&m.kind!=="value"&&(d=m);const _=[];for(const S of r.slice(1)){const k=l.parse(S,1+_.length,d,void 0,{typeAnnotation:"omit"});if(!k)return null;d=d||k.type,_.push(k)}const v=m&&_.some(S=>ka(m,S.type));return new mu(v?Lt:d,_)}evaluate(r){let l,d=null,m=0;for(const _ of this.args)if(m++,d=_.evaluate(r),d&&d instanceof ce&&!d.available&&(l||(l=d.name),d=null,m===this.args.length&&(d=l)),d!==null)break;return d}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=["coalesce"];return this.eachChild(l=>{r.push(l.serialize())}),r}}class gu{constructor(r,l){this.type=l.type,this.bindings=[].concat(r),this.result=l}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const l of this.bindings)r(l[1]);r(this.result)}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const d=[];for(let _=1;_<r.length-1;_+=2){const v=r[_];if(typeof v!="string")return l.error(`Expected string, but found ${typeof v} instead.`,_);if(/[^a-zA-Z0-9_]/.test(v))return l.error("Variable names must contain only alphanumeric characters or '_'.",_);const S=l.parse(r[_+1],_+1);if(!S)return null;d.push([v,S])}const m=l.parse(r[r.length-1],r.length-1,l.expectedType,d);return m?new gu(d,m):null}outputDefined(){return this.result.outputDefined()}serialize(){const r=["let"];for(const[l,d]of this.bindings)r.push(l,d.serialize());return r.push(this.result.serialize()),r}}class Sh{constructor(r,l,d){this.type=r,this.index=l,this.input=d}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,Ue),m=l.parse(r[2],2,ar(l.expectedType||Lt));return d&&m?new Sh(m.type.itemType,d,m):null}evaluate(r){const l=this.index.evaluate(r),d=this.input.evaluate(r);if(l<0)throw new Se(`Array index out of bounds: ${l} < 0.`);if(l>=d.length)throw new Se(`Array index out of bounds: ${l} > ${d.length-1}.`);if(l!==Math.floor(l))throw new Se(`Array index must be an integer, but found ${l} instead.`);return d[l]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Eh{constructor(r,l){this.type=At,this.needle=r,this.haystack=l}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,Lt),m=l.parse(r[2],2,Lt);return d&&m?mr(d.type,[At,Dt,Ue,pn,Lt])?new Eh(d,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${xn(d.type)} instead`):null}evaluate(r){const l=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!d)return!1;if(!Qi(l,["boolean","string","number","null"]))throw new Se(`Expected first argument to be of type boolean, string, number or null, but found ${xn(he(l))} instead.`);if(!Qi(d,["string","array"]))throw new Se(`Expected second argument to be of type array or string, but found ${xn(he(d))} instead.`);return d.indexOf(l)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class yu{constructor(r,l,d){this.type=Ue,this.needle=r,this.haystack=l,this.fromIndex=d}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,Lt),m=l.parse(r[2],2,Lt);if(!d||!m)return null;if(!mr(d.type,[At,Dt,Ue,pn,Lt]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${xn(d.type)} instead`);if(r.length===4){const _=l.parse(r[3],3,Ue);return _?new yu(d,m,_):null}return new yu(d,m)}evaluate(r){const l=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!Qi(l,["boolean","string","number","null"]))throw new Se(`Expected first argument to be of type boolean, string, number or null, but found ${xn(he(l))} instead.`);if(!Qi(d,["string","array"]))throw new Se(`Expected second argument to be of type array or string, but found ${xn(he(d))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(r);return d.indexOf(l,m)}return d.indexOf(l)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class kh{constructor(r,l,d,m,_,v){this.inputType=r,this.type=l,this.input=d,this.cases=m,this.outputs=_,this.otherwise=v}static parse(r,l){if(r.length<5)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return l.error("Expected an even number of arguments.");let d,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);const _={},v=[];for(let A=2;A<r.length-1;A+=2){let R=r[A];const O=r[A+1];Array.isArray(R)||(R=[R]);const $=l.concat(A);if(R.length===0)return $.error("Expected at least one branch label.");for(const q of R){if(typeof q!="number"&&typeof q!="string")return $.error("Branch labels must be numbers or strings.");if(typeof q=="number"&&Math.abs(q)>Number.MAX_SAFE_INTEGER)return $.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof q=="number"&&Math.floor(q)!==q)return $.error("Numeric branch labels must be integer values.");if(d){if($.checkSubtype(d,he(q)))return null}else d=he(q);if(_[String(q)]!==void 0)return $.error("Branch labels must be unique.");_[String(q)]=v.length}const G=l.parse(O,A,m);if(!G)return null;m=m||G.type,v.push(G)}const S=l.parse(r[1],1,Lt);if(!S)return null;const k=l.parse(r[r.length-1],r.length-1,m);return k?S.type.kind!=="value"&&l.concat(1).checkSubtype(d,S.type)?null:new kh(d,m,S,_,v,k):null}evaluate(r){const l=this.input.evaluate(r);return(he(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),d=[],m={};for(const v of l){const S=m[this.cases[v]];S===void 0?(m[this.cases[v]]=d.length,d.push([this.cases[v],[v]])):d[S][1].push(v)}const _=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,S]of d)r.push(S.length===1?_(S[0]):S.map(_)),r.push(this.outputs[v].serialize());return r.push(this.otherwise.serialize()),r}}class Ch{constructor(r,l,d){this.type=r,this.branches=l,this.otherwise=d}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return l.error("Expected an odd number of arguments.");let d;l.expectedType&&l.expectedType.kind!=="value"&&(d=l.expectedType);const m=[];for(let v=1;v<r.length-1;v+=2){const S=l.parse(r[v],v,At);if(!S)return null;const k=l.parse(r[v+1],v+1,d);if(!k)return null;m.push([S,k]),d=d||k.type}const _=l.parse(r[r.length-1],r.length-1,d);return _?new Ch(d,m,_):null}evaluate(r){for(const[l,d]of this.branches)if(l.evaluate(r))return d.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[l,d]of this.branches)r(l),r(d);r(this.otherwise)}outputDefined(){return this.branches.every(([r,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["case"];return this.eachChild(l=>{r.push(l.serialize())}),r}}class _u{constructor(r,l,d,m){this.type=r,this.input=l,this.beginIndex=d,this.endIndex=m}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,Lt),m=l.parse(r[2],2,Ue);if(!d||!m)return null;if(!mr(d.type,[ar(Lt),Dt,Lt]))return l.error(`Expected first argument to be of type array or string, but found ${xn(d.type)} instead`);if(r.length===4){const _=l.parse(r[3],3,Ue);return _?new _u(d.type,d,m,_):null}return new _u(d.type,d,m)}evaluate(r){const l=this.input.evaluate(r),d=this.beginIndex.evaluate(r);if(!Qi(l,["string","array"]))throw new Se(`Expected first argument to be of type array or string, but found ${xn(he(l))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(r);return l.slice(d,m)}return l.slice(d)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Xf(a,r){return a==="=="||a==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function Kf(a,r,l,d){return d.compare(r,l)===0}function ps(a,r,l){const d=a!=="=="&&a!=="!=";return class Q3{constructor(_,v,S){this.type=At,this.lhs=_,this.rhs=v,this.collator=S,this.hasUntypedArgument=_.type.kind==="value"||v.type.kind==="value"}static parse(_,v){if(_.length!==3&&_.length!==4)return v.error("Expected two or three arguments.");const S=_[0];let k=v.parse(_[1],1,Lt);if(!k)return null;if(!Xf(S,k.type))return v.concat(1).error(`"${S}" comparisons are not supported for type '${xn(k.type)}'.`);let A=v.parse(_[2],2,Lt);if(!A)return null;if(!Xf(S,A.type))return v.concat(2).error(`"${S}" comparisons are not supported for type '${xn(A.type)}'.`);if(k.type.kind!==A.type.kind&&k.type.kind!=="value"&&A.type.kind!=="value")return v.error(`Cannot compare types '${xn(k.type)}' and '${xn(A.type)}'.`);d&&(k.type.kind==="value"&&A.type.kind!=="value"?k=new et(A.type,[k]):k.type.kind!=="value"&&A.type.kind==="value"&&(A=new et(k.type,[A])));let R=null;if(_.length===4){if(k.type.kind!=="string"&&A.type.kind!=="string"&&k.type.kind!=="value"&&A.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(R=v.parse(_[3],3,Ea),!R)return null}return new Q3(k,A,R)}evaluate(_){const v=this.lhs.evaluate(_),S=this.rhs.evaluate(_);if(d&&this.hasUntypedArgument){const k=he(v),A=he(S);if(k.kind!==A.kind||k.kind!=="string"&&k.kind!=="number")throw new Se(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${k.kind}, ${A.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const k=he(v),A=he(S);if(k.kind!=="string"||A.kind!=="string")return r(_,v,S)}return this.collator?l(_,v,S,this.collator.evaluate(_)):r(_,v,S)}eachChild(_){_(this.lhs),_(this.rhs),this.collator&&_(this.collator)}outputDefined(){return!0}serialize(){const _=[a];return this.eachChild(v=>{_.push(v.serialize())}),_}}}const u0=ps("==",function(a,r,l){return r===l},Kf),c0=ps("!=",function(a,r,l){return r!==l},function(a,r,l,d){return!Kf(0,r,l,d)}),h0=ps("<",function(a,r,l){return r<l},function(a,r,l,d){return d.compare(r,l)<0}),d0=ps(">",function(a,r,l){return r>l},function(a,r,l,d){return d.compare(r,l)>0}),f0=ps("<=",function(a,r,l){return r<=l},function(a,r,l,d){return d.compare(r,l)<=0}),p0=ps(">=",function(a,r,l){return r>=l},function(a,r,l,d){return d.compare(r,l)>=0});class Th{constructor(r,l,d,m,_){this.type=Dt,this.number=r,this.locale=l,this.currency=d,this.minFractionDigits=m,this.maxFractionDigits=_}static parse(r,l){if(r.length!==3)return l.error("Expected two arguments.");const d=l.parse(r[1],1,Ue);if(!d)return null;const m=r[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let _=null;if(m.locale&&(_=l.parse(m.locale,1,Dt),!_))return null;let v=null;if(m.currency&&(v=l.parse(m.currency,1,Dt),!v))return null;let S=null;if(m["min-fraction-digits"]&&(S=l.parse(m["min-fraction-digits"],1,Ue),!S))return null;let k=null;return m["max-fraction-digits"]&&(k=l.parse(m["max-fraction-digits"],1,Ue),!k)?null:new Th(d,_,v,S,k)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]}}class Ph{constructor(r){this.type=Ue,this.input=r}static parse(r,l){if(r.length!==2)return l.error(`Expected 1 argument, but found ${r.length-1} instead.`);const d=l.parse(r[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${xn(d.type)} instead.`):new Ph(d):null}evaluate(r){const l=this.input.evaluate(r);if(typeof l=="string"||Array.isArray(l))return l.length;throw new Se(`Expected value to be of type string or array, but found ${xn(he(l))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){const r=["length"];return this.eachChild(l=>{r.push(l.serialize())}),r}}const ms={"==":u0,"!=":c0,">":d0,"<":h0,">=":p0,"<=":f0,array:et,at:Sh,boolean:et,case:Ch,coalesce:mu,collator:Qn,format:dt,image:wt,in:Eh,"index-of":yu,interpolate:gi,"interpolate-hcl":gi,"interpolate-lab":gi,length:Ph,let:gu,literal:De,match:kh,number:et,"number-format":Th,object:et,slice:_u,step:fl,string:et,"to-boolean":Ut,"to-color":Ut,"to-number":Ut,"to-string":Ut,var:hu,within:Ca};function Yf(a,[r,l,d,m]){r=r.evaluate(a),l=l.evaluate(a),d=d.evaluate(a);const _=m?m.evaluate(a):1,v=ae(r,l,d,_);if(v)throw new Se(v);return new L(r/255*_,l/255*_,d/255*_,_)}function Jf(a,r){return a in r}function Ih(a,r){const l=r[a];return l===void 0?null:l}function Ta(a){return{type:a}}function Qf(a){return{result:"success",value:a}}function Pa(a){return{result:"error",value:a}}function gs(a){return a["property-type"]==="data-driven"||a["property-type"]==="cross-faded-data-driven"}function ep(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function Ah(a){return!!a.expression&&a.expression.interpolated}function Mt(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function vu(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function cn(a){return a}function xu(a,r){const l=r.type==="color",d=a.stops&&typeof a.stops[0][0]=="object",m=d||!(d||a.property!==void 0),_=a.type||(Ah(r)?"exponential":"interval");if(l&&((a=mi({},a)).stops&&(a.stops=a.stops.map(A=>[A[0],L.parse(A[1])])),a.default=L.parse(a.default?a.default:r.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!Hf[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let v,S,k;if(_==="exponential")v=Mh;else if(_==="interval")v=wu;else if(_==="categorical"){v=Zn,S=Object.create(null);for(const A of a.stops)S[A[0]]=A[1];k=typeof a.stops[0][0]}else{if(_!=="identity")throw new Error(`Unknown function type "${_}"`);v=m0}if(d){const A={},R=[];for(let G=0;G<a.stops.length;G++){const q=a.stops[G],re=q[0].zoom;A[re]===void 0&&(A[re]={zoom:re,type:a.type,property:a.property,default:a.default,stops:[]},R.push(re)),A[re].stops.push([q[0].value,q[1]])}const O=[];for(const G of R)O.push([A[G].zoom,xu(A[G],r)]);const $={name:"linear"};return{kind:"composite",interpolationType:$,interpolationFactor:gi.interpolationFactor.bind(void 0,$),zoomStops:O.map(G=>G[0]),evaluate:({zoom:G},q)=>Mh({stops:O,base:a.base},r,G).evaluate(G,q)}}if(m){const A=_==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:gi.interpolationFactor.bind(void 0,A),zoomStops:a.stops.map(R=>R[0]),evaluate:({zoom:R})=>v(a,r,R,S,k)}}return{kind:"source",evaluate(A,R){const O=R&&R.properties?R.properties[a.property]:void 0;return O===void 0?In(a.default,r.default):v(a,r,O,S,k)}}}function In(a,r,l){return a!==void 0?a:r!==void 0?r:l!==void 0?l:void 0}function Zn(a,r,l,d,m){return In(typeof l===m?d[l]:void 0,a.default,r.default)}function wu(a,r,l){if(Mt(l)!=="number")return In(a.default,r.default);const d=a.stops.length;if(d===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[d-1][0])return a.stops[d-1][1];const m=fu(a.stops.map(_=>_[0]),l);return a.stops[m][1]}function Mh(a,r,l){const d=a.base!==void 0?a.base:1;if(Mt(l)!=="number")return In(a.default,r.default);const m=a.stops.length;if(m===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[m-1][0])return a.stops[m-1][1];const _=fu(a.stops.map(R=>R[0]),l),v=function(R,O,$,G){const q=G-$,re=R-$;return q===0?0:O===1?re/q:(Math.pow(O,re)-1)/(Math.pow(O,q)-1)}(l,d,a.stops[_][0],a.stops[_+1][0]),S=a.stops[_][1],k=a.stops[_+1][1];let A=pl[r.type]||cn;if(a.colorSpace&&a.colorSpace!=="rgb"){const R=Hf[a.colorSpace];A=(O,$)=>R.reverse(R.interpolate(R.forward(O),R.forward($),v))}return typeof S.evaluate=="function"?{evaluate(...R){const O=S.evaluate.apply(void 0,R),$=k.evaluate.apply(void 0,R);if(O!==void 0&&$!==void 0)return A(O,$,v)}}:A(S,k,v)}function m0(a,r,l){return r.type==="color"?l=L.parse(l):r.type==="formatted"?l=ee.fromString(l.toString()):r.type==="resolvedImage"?l=ce.fromString(l.toString()):Mt(l)===r.type||r.type==="enum"&&r.values[l]||(l=void 0),In(l,a.default,r.default)}Rt.register(ms,{error:[{kind:"error"},[Dt],(a,[r])=>{throw new Se(r.evaluate(a))}],typeof:[Dt,[Lt],(a,[r])=>xn(he(r.evaluate(a)))],"to-rgba":[ar(Ue,4),[Ur],(a,[r])=>r.evaluate(a).toArray()],rgb:[Ur,[Ue,Ue,Ue],Yf],rgba:[Ur,[Ue,Ue,Ue,Ue],Yf],has:{type:At,overloads:[[[Dt],(a,[r])=>Jf(r.evaluate(a),a.properties())],[[Dt,Yi],(a,[r,l])=>Jf(r.evaluate(a),l.evaluate(a))]]},get:{type:Lt,overloads:[[[Dt],(a,[r])=>Ih(r.evaluate(a),a.properties())],[[Dt,Yi],(a,[r,l])=>Ih(r.evaluate(a),l.evaluate(a))]]},"feature-state":[Lt,[Dt],(a,[r])=>Ih(r.evaluate(a),a.featureState||{})],properties:[Yi,[],a=>a.properties()],"geometry-type":[Dt,[],a=>a.geometryType()],id:[Lt,[],a=>a.id()],zoom:[Ue,[],a=>a.globals.zoom],"heatmap-density":[Ue,[],a=>a.globals.heatmapDensity||0],"line-progress":[Ue,[],a=>a.globals.lineProgress||0],accumulated:[Lt,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[Ue,Ta(Ue),(a,r)=>{let l=0;for(const d of r)l+=d.evaluate(a);return l}],"*":[Ue,Ta(Ue),(a,r)=>{let l=1;for(const d of r)l*=d.evaluate(a);return l}],"-":{type:Ue,overloads:[[[Ue,Ue],(a,[r,l])=>r.evaluate(a)-l.evaluate(a)],[[Ue],(a,[r])=>-r.evaluate(a)]]},"/":[Ue,[Ue,Ue],(a,[r,l])=>r.evaluate(a)/l.evaluate(a)],"%":[Ue,[Ue,Ue],(a,[r,l])=>r.evaluate(a)%l.evaluate(a)],ln2:[Ue,[],()=>Math.LN2],pi:[Ue,[],()=>Math.PI],e:[Ue,[],()=>Math.E],"^":[Ue,[Ue,Ue],(a,[r,l])=>Math.pow(r.evaluate(a),l.evaluate(a))],sqrt:[Ue,[Ue],(a,[r])=>Math.sqrt(r.evaluate(a))],log10:[Ue,[Ue],(a,[r])=>Math.log(r.evaluate(a))/Math.LN10],ln:[Ue,[Ue],(a,[r])=>Math.log(r.evaluate(a))],log2:[Ue,[Ue],(a,[r])=>Math.log(r.evaluate(a))/Math.LN2],sin:[Ue,[Ue],(a,[r])=>Math.sin(r.evaluate(a))],cos:[Ue,[Ue],(a,[r])=>Math.cos(r.evaluate(a))],tan:[Ue,[Ue],(a,[r])=>Math.tan(r.evaluate(a))],asin:[Ue,[Ue],(a,[r])=>Math.asin(r.evaluate(a))],acos:[Ue,[Ue],(a,[r])=>Math.acos(r.evaluate(a))],atan:[Ue,[Ue],(a,[r])=>Math.atan(r.evaluate(a))],min:[Ue,Ta(Ue),(a,r)=>Math.min(...r.map(l=>l.evaluate(a)))],max:[Ue,Ta(Ue),(a,r)=>Math.max(...r.map(l=>l.evaluate(a)))],abs:[Ue,[Ue],(a,[r])=>Math.abs(r.evaluate(a))],round:[Ue,[Ue],(a,[r])=>{const l=r.evaluate(a);return l<0?-Math.round(-l):Math.round(l)}],floor:[Ue,[Ue],(a,[r])=>Math.floor(r.evaluate(a))],ceil:[Ue,[Ue],(a,[r])=>Math.ceil(r.evaluate(a))],"filter-==":[At,[Dt,Lt],(a,[r,l])=>a.properties()[r.value]===l.value],"filter-id-==":[At,[Lt],(a,[r])=>a.id()===r.value],"filter-type-==":[At,[Dt],(a,[r])=>a.geometryType()===r.value],"filter-<":[At,[Dt,Lt],(a,[r,l])=>{const d=a.properties()[r.value],m=l.value;return typeof d==typeof m&&d<m}],"filter-id-<":[At,[Lt],(a,[r])=>{const l=a.id(),d=r.value;return typeof l==typeof d&&l<d}],"filter->":[At,[Dt,Lt],(a,[r,l])=>{const d=a.properties()[r.value],m=l.value;return typeof d==typeof m&&d>m}],"filter-id->":[At,[Lt],(a,[r])=>{const l=a.id(),d=r.value;return typeof l==typeof d&&l>d}],"filter-<=":[At,[Dt,Lt],(a,[r,l])=>{const d=a.properties()[r.value],m=l.value;return typeof d==typeof m&&d<=m}],"filter-id-<=":[At,[Lt],(a,[r])=>{const l=a.id(),d=r.value;return typeof l==typeof d&&l<=d}],"filter->=":[At,[Dt,Lt],(a,[r,l])=>{const d=a.properties()[r.value],m=l.value;return typeof d==typeof m&&d>=m}],"filter-id->=":[At,[Lt],(a,[r])=>{const l=a.id(),d=r.value;return typeof l==typeof d&&l>=d}],"filter-has":[At,[Lt],(a,[r])=>r.value in a.properties()],"filter-has-id":[At,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[At,[ar(Dt)],(a,[r])=>r.value.indexOf(a.geometryType())>=0],"filter-id-in":[At,[ar(Lt)],(a,[r])=>r.value.indexOf(a.id())>=0],"filter-in-small":[At,[Dt,ar(Lt)],(a,[r,l])=>l.value.indexOf(a.properties()[r.value])>=0],"filter-in-large":[At,[Dt,ar(Lt)],(a,[r,l])=>function(d,m,_,v){for(;_<=v;){const S=_+v>>1;if(m[S]===d)return!0;m[S]>d?v=S-1:_=S+1}return!1}(a.properties()[r.value],l.value,0,l.value.length-1)],all:{type:At,overloads:[[[At,At],(a,[r,l])=>r.evaluate(a)&&l.evaluate(a)],[Ta(At),(a,r)=>{for(const l of r)if(!l.evaluate(a))return!1;return!0}]]},any:{type:At,overloads:[[[At,At],(a,[r,l])=>r.evaluate(a)||l.evaluate(a)],[Ta(At),(a,r)=>{for(const l of r)if(l.evaluate(a))return!0;return!1}]]},"!":[At,[At],(a,[r])=>!r.evaluate(a)],"is-supported-script":[At,[Dt],(a,[r])=>{const l=a.globals&&a.globals.isSupportedScript;return!l||l(r.evaluate(a))}],upcase:[Dt,[Dt],(a,[r])=>r.evaluate(a).toUpperCase()],downcase:[Dt,[Dt],(a,[r])=>r.evaluate(a).toLowerCase()],concat:[Dt,Ta(Lt),(a,r)=>r.map(l=>ke(l.evaluate(a))).join("")],"resolved-locale":[Dt,[Ea],(a,[r])=>r.evaluate(a).resolvedLocale()]});class zh{constructor(r,l){this.expression=r,this._warningHistory={},this._evaluator=new Ot,this._defaultValue=l?function(d){return d.type==="color"&&vu(d.default)?new L(0,0,0,0):d.type==="color"?L.parse(d.default)||null:d.default===void 0?null:d.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(r,l,d,m,_,v){return this._evaluator.globals=r,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=m,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v,this.expression.evaluate(this._evaluator)}evaluate(r,l,d,m,_,v){this._evaluator.globals=r,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v||null;try{const S=this.expression.evaluate(this._evaluator);if(S==null||typeof S=="number"&&S!=S)return this._defaultValue;if(this._enumValues&&!(S in this._enumValues))throw new Se(`Expected value to be one of ${Object.keys(this._enumValues).map(k=>JSON.stringify(k)).join(", ")}, but found ${JSON.stringify(S)} instead.`);return S}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console!="undefined"&&console.warn(S.message)),this._defaultValue}}}function bu(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in ms}function Su(a,r){const l=new du(ms,[],r?function(m){const _={color:Ur,string:Dt,number:Ue,enum:Dt,boolean:At,formatted:Ji,resolvedImage:Uo};return m.type==="array"?ar(_[m.value]||Lt,m.length):_[m.type]}(r):void 0),d=l.parse(a,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?Qf(new zh(d,r)):Pa(l.errors)}class Eu{constructor(r,l){this.kind=r,this._styleExpression=l,this.isStateDependent=r!=="constant"&&!fs(l.expression)}evaluateWithoutErrorHandling(r,l,d,m,_,v){return this._styleExpression.evaluateWithoutErrorHandling(r,l,d,m,_,v)}evaluate(r,l,d,m,_,v){return this._styleExpression.evaluate(r,l,d,m,_,v)}}class ku{constructor(r,l,d,m){this.kind=r,this.zoomStops=d,this._styleExpression=l,this.isStateDependent=r!=="camera"&&!fs(l.expression),this.interpolationType=m}evaluateWithoutErrorHandling(r,l,d,m,_,v){return this._styleExpression.evaluateWithoutErrorHandling(r,l,d,m,_,v)}evaluate(r,l,d,m,_,v){return this._styleExpression.evaluate(r,l,d,m,_,v)}interpolationFactor(r,l,d){return this.interpolationType?gi.interpolationFactor(this.interpolationType,r,l,d):0}}function Dh(a,r){const l=Su(a,r);if(l.result==="error")return l;const d=l.value.expression,m=cu(d);if(!m&&!gs(r))return Pa([new or("","data expressions not supported")]);const _=hl(d,["zoom"]);if(!_&&!ep(r))return Pa([new or("","zoom expressions not supported")]);const v=Cu(d);return v||_?v instanceof or?Pa([v]):v instanceof gi&&!Ah(r)?Pa([new or("",'"interpolate" expressions cannot be used with this property')]):Qf(v?new ku(m?"camera":"composite",l.value,v.labels,v instanceof gi?v.interpolation:void 0):new Eu(m?"constant":"source",l.value)):Pa([new or("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ys{constructor(r,l){this._parameters=r,this._specification=l,mi(this,xu(this._parameters,this._specification))}static deserialize(r){return new ys(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function Cu(a){let r=null;if(a instanceof gu)r=Cu(a.result);else if(a instanceof mu){for(const l of a.args)if(r=Cu(l),r)break}else(a instanceof fl||a instanceof gi)&&a.input instanceof Rt&&a.input.name==="zoom"&&(r=a);return r instanceof or||a.eachChild(l=>{const d=Cu(l);d instanceof or?r=d:!r&&d?r=new or("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&d&&r!==d&&(r=new or("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}function to(a){const r=a.key,l=a.value,d=a.valueSpec||{},m=a.objectElementValidators||{},_=a.style,v=a.styleSpec;let S=[];const k=Mt(l);if(k!=="object")return[new je(r,l,`object expected, ${k} found`)];for(const A in l){const R=A.split(".")[0],O=d[R]||d["*"];let $;if(m[R])$=m[R];else if(d[R])$=ni;else if(m["*"])$=m["*"];else{if(!d["*"]){S.push(new je(r,l[A],`unknown property "${A}"`));continue}$=ni}S=S.concat($({key:(r&&`${r}.`)+A,value:l[A],valueSpec:O,style:_,styleSpec:v,object:l,objectKey:A},l))}for(const A in d)m[A]||d[A].required&&d[A].default===void 0&&l[A]===void 0&&S.push(new je(r,l,`missing required property "${A}"`));return S}function tp(a){const r=a.value,l=a.valueSpec,d=a.style,m=a.styleSpec,_=a.key,v=a.arrayElementValidator||ni;if(Mt(r)!=="array")return[new je(_,r,`array expected, ${Mt(r)} found`)];if(l.length&&r.length!==l.length)return[new je(_,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new je(_,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let S={type:l.value,values:l.values};m.$version<7&&(S.function=l.function),Mt(l.value)==="object"&&(S=l.value);let k=[];for(let A=0;A<r.length;A++)k=k.concat(v({array:r,arrayIndex:A,value:r[A],valueSpec:S,style:d,styleSpec:m,key:`${_}[${A}]`}));return k}function np(a){const r=a.key,l=a.value,d=a.valueSpec;let m=Mt(l);return m==="number"&&l!=l&&(m="NaN"),m!=="number"?[new je(r,l,`number expected, ${m} found`)]:"minimum"in d&&l<d.minimum?[new je(r,l,`${l} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&l>d.maximum?[new je(r,l,`${l} is greater than the maximum value ${d.maximum}`)]:[]}function rp(a){const r=a.valueSpec,l=an(a.value.type);let d,m,_,v={};const S=l!=="categorical"&&a.value.property===void 0,k=!S,A=Mt(a.value.stops)==="array"&&Mt(a.value.stops[0])==="array"&&Mt(a.value.stops[0][0])==="object",R=to({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(G){if(l==="identity")return[new je(G.key,G.value,'identity function may not have a "stops" property')];let q=[];const re=G.value;return q=q.concat(tp({key:G.key,value:re,valueSpec:G.valueSpec,style:G.style,styleSpec:G.styleSpec,arrayElementValidator:O})),Mt(re)==="array"&&re.length===0&&q.push(new je(G.key,re,"array must have at least one stop")),q},default:function(G){return ni({key:G.key,value:G.value,valueSpec:r,style:G.style,styleSpec:G.styleSpec})}}});return l==="identity"&&S&&R.push(new je(a.key,a.value,'missing required property "property"')),l==="identity"||a.value.stops||R.push(new je(a.key,a.value,'missing required property "stops"')),l==="exponential"&&a.valueSpec.expression&&!Ah(a.valueSpec)&&R.push(new je(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(k&&!gs(a.valueSpec)?R.push(new je(a.key,a.value,"property functions not supported")):S&&!ep(a.valueSpec)&&R.push(new je(a.key,a.value,"zoom functions not supported"))),l!=="categorical"&&!A||a.value.property!==void 0||R.push(new je(a.key,a.value,'"property" property is required')),R;function O(G){let q=[];const re=G.value,ie=G.key;if(Mt(re)!=="array")return[new je(ie,re,`array expected, ${Mt(re)} found`)];if(re.length!==2)return[new je(ie,re,`array length 2 expected, length ${re.length} found`)];if(A){if(Mt(re[0])!=="object")return[new je(ie,re,`object expected, ${Mt(re[0])} found`)];if(re[0].zoom===void 0)return[new je(ie,re,"object stop key must have zoom")];if(re[0].value===void 0)return[new je(ie,re,"object stop key must have value")];if(_&&_>an(re[0].zoom))return[new je(ie,re[0].zoom,"stop zoom values must appear in ascending order")];an(re[0].zoom)!==_&&(_=an(re[0].zoom),m=void 0,v={}),q=q.concat(to({key:`${ie}[0]`,value:re[0],valueSpec:{zoom:{}},style:G.style,styleSpec:G.styleSpec,objectElementValidators:{zoom:np,value:$}}))}else q=q.concat($({key:`${ie}[0]`,value:re[0],valueSpec:{},style:G.style,styleSpec:G.styleSpec},re));return bu(Lr(re[1]))?q.concat([new je(`${ie}[1]`,re[1],"expressions are not allowed in function stops.")]):q.concat(ni({key:`${ie}[1]`,value:re[1],valueSpec:r,style:G.style,styleSpec:G.styleSpec}))}function $(G,q){const re=Mt(G.value),ie=an(G.value),ye=G.value!==null?G.value:q;if(d){if(re!==d)return[new je(G.key,ye,`${re} stop domain type must match previous stop domain type ${d}`)]}else d=re;if(re!=="number"&&re!=="string"&&re!=="boolean")return[new je(G.key,ye,"stop domain value must be a number, string, or boolean")];if(re!=="number"&&l!=="categorical"){let be=`number expected, ${re} found`;return gs(r)&&l===void 0&&(be+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new je(G.key,ye,be)]}return l!=="categorical"||re!=="number"||isFinite(ie)&&Math.floor(ie)===ie?l!=="categorical"&&re==="number"&&m!==void 0&&ie<m?[new je(G.key,ye,"stop domain values must appear in ascending order")]:(m=ie,l==="categorical"&&ie in v?[new je(G.key,ye,"stop domain values must be unique")]:(v[ie]=!0,[])):[new je(G.key,ye,`integer expected, found ${ie}`)]}}function _s(a){const r=(a.expressionContext==="property"?Dh:Su)(Lr(a.value),a.valueSpec);if(r.result==="error")return r.value.map(d=>new je(`${a.key}${d.key}`,a.value,d.message));const l=r.value.expression||r.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!l.outputDefined())return[new je(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!fs(l))return[new je(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter"&&!fs(l))return[new je(a.key,a.value,'"feature-state" data expressions are not supported with filters.')];if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!hl(l,["zoom","feature-state"]))return[new je(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!cu(l))return[new je(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Tu(a){const r=a.key,l=a.value,d=a.valueSpec,m=[];return Array.isArray(d.values)?d.values.indexOf(an(l))===-1&&m.push(new je(r,l,`expected one of [${d.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(d.values).indexOf(an(l))===-1&&m.push(new je(r,l,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function Rh(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const r of a.slice(1))if(!Rh(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}const ip={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Pu(a){if(a==null)return{filter:()=>!0,needGeometry:!1};Rh(a)||(a=yl(a));const r=Su(a,ip);if(r.result==="error")throw new Error(r.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,d,m)=>r.value.evaluate(l,d,{},m),needGeometry:op(a)}}function Iu(a,r){return a<r?-1:a>r?1:0}function op(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let r=1;r<a.length;r++)if(op(a[r]))return!0;return!1}function yl(a){if(!a)return!0;const r=a[0];return a.length<=1?r!=="any":r==="=="?Lh(a[1],a[2],"=="):r==="!="?vs(Lh(a[1],a[2],"==")):r==="<"||r===">"||r==="<="||r===">="?Lh(a[1],a[2],r):r==="any"?(l=a.slice(1),["any"].concat(l.map(yl))):r==="all"?["all"].concat(a.slice(1).map(yl)):r==="none"?["all"].concat(a.slice(1).map(yl).map(vs)):r==="in"?Au(a[1],a.slice(2)):r==="!in"?vs(Au(a[1],a.slice(2))):r==="has"?Mu(a[1]):r==="!has"?vs(Mu(a[1])):r!=="within"||a;var l}function Lh(a,r,l){switch(a){case"$type":return[`filter-type-${l}`,r];case"$id":return[`filter-id-${l}`,r];default:return[`filter-${l}`,a,r]}}function Au(a,r){if(r.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(l=>typeof l!=typeof r[0])?["filter-in-large",a,["literal",r.sort(Iu)]]:["filter-in-small",a,["literal",r]]}}function Mu(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function vs(a){return["!",a]}function _l(a){return Rh(Lr(a.value))?_s(mi({},a,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ap(a)}function ap(a){const r=a.value,l=a.key;if(Mt(r)!=="array")return[new je(l,r,`array expected, ${Mt(r)} found`)];const d=a.styleSpec;let m,_=[];if(r.length<1)return[new je(l,r,"filter array must have at least 1 element")];switch(_=_.concat(Tu({key:`${l}[0]`,value:r[0],valueSpec:d.filter_operator,style:a.style,styleSpec:a.styleSpec})),an(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&an(r[1])==="$type"&&_.push(new je(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&_.push(new je(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(m=Mt(r[1]),m!=="string"&&_.push(new je(`${l}[1]`,r[1],`string expected, ${m} found`)));for(let v=2;v<r.length;v++)m=Mt(r[v]),an(r[1])==="$type"?_=_.concat(Tu({key:`${l}[${v}]`,value:r[v],valueSpec:d.geometry_type,style:a.style,styleSpec:a.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&_.push(new je(`${l}[${v}]`,r[v],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let v=1;v<r.length;v++)_=_.concat(ap({key:`${l}[${v}]`,value:r[v],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":m=Mt(r[1]),r.length!==2?_.push(new je(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):m!=="string"&&_.push(new je(`${l}[1]`,r[1],`string expected, ${m} found`));break;case"within":m=Mt(r[1]),r.length!==2?_.push(new je(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):m!=="object"&&_.push(new je(`${l}[1]`,r[1],`object expected, ${m} found`))}return _}function vl(a,r){const l=a.key,d=a.style,m=a.styleSpec,_=a.value,v=a.objectKey,S=m[`${r}_${a.layerType}`];if(!S)return[];const k=v.match(/^(.*)-transition$/);if(r==="paint"&&k&&S[k[1]]&&S[k[1]].transition)return ni({key:l,value:_,valueSpec:m.transition,style:d,styleSpec:m});const A=a.valueSpec||S[v];if(!A)return[new je(l,_,`unknown property "${v}"`)];let R;if(Mt(_)==="string"&&gs(A)&&!A.tokens&&(R=/^{([^}]+)}$/.exec(_)))return[new je(l,_,`"${v}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(R[1])} }\`.`)];const O=[];return a.layerType==="symbol"&&(v==="text-field"&&d&&!d.glyphs&&O.push(new je(l,_,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&vu(Lr(_))&&an(_.type)==="identity"&&O.push(new je(l,_,'"text-font" does not support identity functions'))),O.concat(ni({key:a.key,value:_,valueSpec:A,style:d,styleSpec:m,expressionContext:"property",propertyType:r,propertyKey:v}))}function sp(a){return vl(a,"paint")}function lp(a){return vl(a,"layout")}function up(a){let r=[];const l=a.value,d=a.key,m=a.style,_=a.styleSpec;l.type||l.ref||r.push(new je(d,l,'either "type" or "ref" is required'));let v=an(l.type);const S=an(l.ref);if(l.id){const k=an(l.id);for(let A=0;A<a.arrayIndex;A++){const R=m.layers[A];an(R.id)===k&&r.push(new je(d,l.id,`duplicate layer id "${l.id}", previously used at line ${R.id.__line__}`))}}if("ref"in l){let k;["type","source","source-layer","filter","layout"].forEach(A=>{A in l&&r.push(new je(d,l[A],`"${A}" is prohibited for ref layers`))}),m.layers.forEach(A=>{an(A.id)===S&&(k=A)}),k?k.ref?r.push(new je(d,l.ref,"ref cannot reference another ref layer")):v=an(k.type):r.push(new je(d,l.ref,`ref layer "${S}" not found`))}else if(v!=="background")if(l.source){const k=m.sources&&m.sources[l.source],A=k&&an(k.type);k?A==="vector"&&v==="raster"?r.push(new je(d,l.source,`layer "${l.id}" requires a raster source`)):A==="raster"&&v!=="raster"?r.push(new je(d,l.source,`layer "${l.id}" requires a vector source`)):A!=="vector"||l["source-layer"]?A==="raster-dem"&&v!=="hillshade"?r.push(new je(d,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):v!=="line"||!l.paint||!l.paint["line-gradient"]||A==="geojson"&&k.lineMetrics||r.push(new je(d,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new je(d,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new je(d,l.source,`source "${l.source}" not found`))}else r.push(new je(d,l,'missing required property "source"'));return r=r.concat(to({key:d,value:l,valueSpec:_.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>ni({key:`${d}.type`,value:l.type,valueSpec:_.layer.type,style:a.style,styleSpec:a.styleSpec,object:l,objectKey:"type"}),filter:_l,layout:k=>to({layer:l,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":A=>lp(mi({layerType:v},A))}}),paint:k=>to({layer:l,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":A=>sp(mi({layerType:v},A))}})}})),r}function xs(a){const r=a.value,l=a.key,d=Mt(r);return d!=="string"?[new je(l,r,`string expected, ${d} found`)]:[]}const cp={promoteId:function({key:a,value:r}){if(Mt(r)==="string")return xs({key:a,value:r});{const l=[];for(const d in r)l.push(...xs({key:`${a}.${d}`,value:r[d]}));return l}}};function xl(a){const r=a.value,l=a.key,d=a.styleSpec,m=a.style;if(!r.type)return[new je(l,r,'"type" is required')];const _=an(r.type);let v;switch(_){case"vector":case"raster":case"raster-dem":return v=to({key:l,value:r,valueSpec:d[`source_${_.replace("-","_")}`],style:a.style,styleSpec:d,objectElementValidators:cp}),v;case"geojson":if(v=to({key:l,value:r,valueSpec:d.source_geojson,style:m,styleSpec:d,objectElementValidators:cp}),r.cluster)for(const S in r.clusterProperties){const[k,A]=r.clusterProperties[S],R=typeof k=="string"?[k,["accumulated"],["get",S]]:k;v.push(..._s({key:`${l}.${S}.map`,value:A,expressionContext:"cluster-map"})),v.push(..._s({key:`${l}.${S}.reduce`,value:R,expressionContext:"cluster-reduce"}))}return v;case"video":return to({key:l,value:r,valueSpec:d.source_video,style:m,styleSpec:d});case"image":return to({key:l,value:r,valueSpec:d.source_image,style:m,styleSpec:d});case"canvas":return[new je(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Tu({key:`${l}.type`,value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,styleSpec:d})}}function wl(a){const r=a.value,l=a.styleSpec,d=l.light,m=a.style;let _=[];const v=Mt(r);if(r===void 0)return _;if(v!=="object")return _=_.concat([new je("light",r,`object expected, ${v} found`)]),_;for(const S in r){const k=S.match(/^(.*)-transition$/);_=_.concat(k&&d[k[1]]&&d[k[1]].transition?ni({key:S,value:r[S],valueSpec:l.transition,style:m,styleSpec:l}):d[S]?ni({key:S,value:r[S],valueSpec:d[S],style:m,styleSpec:l}):[new je(S,r[S],`unknown property "${S}"`)])}return _}const yi={"*":()=>[],array:tp,boolean:function(a){const r=a.value,l=a.key,d=Mt(r);return d!=="boolean"?[new je(l,r,`boolean expected, ${d} found`)]:[]},number:np,color:function(a){const r=a.key,l=a.value,d=Mt(l);return d!=="string"?[new je(r,l,`color expected, ${d} found`)]:eo(l)===null?[new je(r,l,`color expected, "${l}" found`)]:[]},constants:Cr,enum:Tu,filter:_l,function:rp,layer:up,object:to,source:xl,light:wl,string:xs,formatted:function(a){return xs(a).length===0?[]:_s(a)},resolvedImage:function(a){return xs(a).length===0?[]:_s(a)}};function ni(a){const r=a.value,l=a.valueSpec,d=a.styleSpec;return l.expression&&vu(an(r))?rp(a):l.expression&&bu(Lr(r))?_s(a):l.type&&yi[l.type]?yi[l.type](a):to(mi({},a,{valueSpec:l.type?d[l.type]:l}))}function g0(a){const r=a.value,l=a.key,d=xs(a);return d.length||(r.indexOf("{fontstack}")===-1&&d.push(new je(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&d.push(new je(l,r,'"glyphs" url must include a "{range}" token'))),d}function Ia(a,r=ve){let l=[];return l=l.concat(ni({key:"",value:a,valueSpec:r.$root,styleSpec:r,style:a,objectElementValidators:{glyphs:g0,"*":()=>[]}})),a.constants&&(l=l.concat(Cr({key:"constants",value:a.constants,style:a,styleSpec:r}))),hp(l)}function hp(a){return[].concat(a).sort((r,l)=>r.line-l.line)}function ws(a){return function(...r){return hp(a.apply(this,r))}}Ia.source=ws(xl),Ia.light=ws(wl),Ia.layer=ws(up),Ia.filter=ws(_l),Ia.paintProperty=ws(sp),Ia.layoutProperty=ws(lp);const Aa=Ia,y0=Aa.light,Oh=Aa.paintProperty,_0=Aa.layoutProperty;function dp(a,r){let l=!1;if(r&&r.length)for(const d of r)a.fire(new on(new Error(d.message))),l=!0;return l}class Ma{constructor(r,l,d){const m=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;const v=new Int32Array(this.arrayBuffer);r=v[0],this.d=(l=v[1])+2*(d=v[2]);for(let k=0;k<this.d*this.d;k++){const A=v[3+k],R=v[3+k+1];m.push(A===R?null:v.subarray(A,R))}const S=v[3+m.length+1];this.keys=v.subarray(v[3+m.length],S),this.bboxes=v.subarray(S),this.insert=this._insertReadonly}else{this.d=l+2*d;for(let v=0;v<this.d*this.d;v++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=r,this.padding=d,this.scale=l/r,this.uid=0;const _=d/l*r;this.min=-_,this.max=r+_}insert(r,l,d,m,_){this._forEachCell(l,d,m,_,this._insertCell,this.uid++,void 0,void 0),this.keys.push(r),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(_)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(r,l,d,m,_,v){this.cells[_].push(v)}query(r,l,d,m,_){const v=this.min,S=this.max;if(r<=v&&l<=v&&S<=d&&S<=m&&!_)return Array.prototype.slice.call(this.keys);{const k=[];return this._forEachCell(r,l,d,m,this._queryCell,k,{},_),k}}_queryCell(r,l,d,m,_,v,S,k){const A=this.cells[_];if(A!==null){const R=this.keys,O=this.bboxes;for(let $=0;$<A.length;$++){const G=A[$];if(S[G]===void 0){const q=4*G;(k?k(O[q+0],O[q+1],O[q+2],O[q+3]):r<=O[q+2]&&l<=O[q+3]&&d>=O[q+0]&&m>=O[q+1])?(S[G]=!0,v.push(R[G])):S[G]=!1}}}}_forEachCell(r,l,d,m,_,v,S,k){const A=this._convertToCellCoord(r),R=this._convertToCellCoord(l),O=this._convertToCellCoord(d),$=this._convertToCellCoord(m);for(let G=A;G<=O;G++)for(let q=R;q<=$;q++){const re=this.d*q+G;if((!k||k(this._convertFromCellCoord(G),this._convertFromCellCoord(q),this._convertFromCellCoord(G+1),this._convertFromCellCoord(q+1)))&&_.call(this,r,l,d,m,re,v,S,k))return}}_convertFromCellCoord(r){return(r-this.padding)/this.scale}_convertToCellCoord(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const r=this.cells,l=3+this.cells.length+1+1;let d=0;for(let v=0;v<this.cells.length;v++)d+=this.cells[v].length;const m=new Int32Array(l+d+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let _=l;for(let v=0;v<r.length;v++){const S=r[v];m[3+v]=_,m.set(S,_),_+=S.length}return m[3+r.length]=_,m.set(this.keys,_),_+=this.keys.length,m[3+r.length+1]=_,m.set(this.bboxes,_),_+=this.bboxes.length,m.buffer}static serialize(r,l){const d=r.toArrayBuffer();return l&&l.push(d),{buffer:d}}static deserialize(r){return new Ma(r.buffer)}}const bs={};function it(a,r,l={}){Object.defineProperty(r,"_classRegistryKey",{value:a,writeable:!1}),bs[a]={klass:r,omit:l.omit||[],shallow:l.shallow||[]}}it("Object",Object),it("TransferableGridIndex",Ma),it("Color",L),it("Error",Error),it("AJAXError",Pn),it("ResolvedImage",ce),it("StylePropertyFunction",ys),it("StyleExpression",zh,{omit:["_evaluator"]}),it("ZoomDependentExpression",ku),it("ZoomConstantExpression",Eu),it("CompoundExpression",Rt,{omit:["_evaluate"]});for(const a in ms)ms[a]._classRegistryKey||it(`Expression_${a}`,ms[a]);function Fh(a){return a&&typeof ArrayBuffer!="undefined"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function bl(a,r){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||a instanceof Blob)return a;if(Fh(a)||Et(a))return r&&r.push(a),a;if(ArrayBuffer.isView(a)){const l=a;return r&&r.push(l.buffer),l}if(a instanceof ImageData)return r&&r.push(a.data.buffer),a;if(Array.isArray(a)){const l=[];for(const d of a)l.push(bl(d,r));return l}if(typeof a=="object"){const l=a.constructor,d=l._classRegistryKey;if(!d)throw new Error("can't serialize object of unregistered class");const m=l.serialize?l.serialize(a,r):{};if(!l.serialize){for(const _ in a){if(!a.hasOwnProperty(_)||bs[d].omit.indexOf(_)>=0)continue;const v=a[_];m[_]=bs[d].shallow.indexOf(_)>=0?v:bl(v,r)}a instanceof Error&&(m.message=a.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(m.$name=d),m}throw new Error("can't serialize object of type "+typeof a)}function za(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||a instanceof Blob||Fh(a)||Et(a)||ArrayBuffer.isView(a)||a instanceof ImageData)return a;if(Array.isArray(a))return a.map(za);if(typeof a=="object"){const r=a.$name||"Object";if(!bs[r])throw new Error(`can't deserialize unregistered class ${r}`);const{klass:l}=bs[r];if(!l)throw new Error(`can't deserialize unregistered class ${r}`);if(l.deserialize)return l.deserialize(a);const d=Object.create(l.prototype);for(const m of Object.keys(a)){if(m==="$name")continue;const _=a[m];d[m]=bs[r].shallow.indexOf(m)>=0?_:za(_)}return d}throw new Error("can't deserialize object of type "+typeof a)}class Sl{constructor(){this.first=!0}update(r,l){const d=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=l),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=d,!0))}}const Ze={"Latin-1 Supplement":a=>a>=128&&a<=255,Arabic:a=>a>=1536&&a<=1791,"Arabic Supplement":a=>a>=1872&&a<=1919,"Arabic Extended-A":a=>a>=2208&&a<=2303,"Hangul Jamo":a=>a>=4352&&a<=4607,"Unified Canadian Aboriginal Syllabics":a=>a>=5120&&a<=5759,Khmer:a=>a>=6016&&a<=6143,"Unified Canadian Aboriginal Syllabics Extended":a=>a>=6320&&a<=6399,"General Punctuation":a=>a>=8192&&a<=8303,"Letterlike Symbols":a=>a>=8448&&a<=8527,"Number Forms":a=>a>=8528&&a<=8591,"Miscellaneous Technical":a=>a>=8960&&a<=9215,"Control Pictures":a=>a>=9216&&a<=9279,"Optical Character Recognition":a=>a>=9280&&a<=9311,"Enclosed Alphanumerics":a=>a>=9312&&a<=9471,"Geometric Shapes":a=>a>=9632&&a<=9727,"Miscellaneous Symbols":a=>a>=9728&&a<=9983,"Miscellaneous Symbols and Arrows":a=>a>=11008&&a<=11263,"CJK Radicals Supplement":a=>a>=11904&&a<=12031,"Kangxi Radicals":a=>a>=12032&&a<=12255,"Ideographic Description Characters":a=>a>=12272&&a<=12287,"CJK Symbols and Punctuation":a=>a>=12288&&a<=12351,Hiragana:a=>a>=12352&&a<=12447,Katakana:a=>a>=12448&&a<=12543,Bopomofo:a=>a>=12544&&a<=12591,"Hangul Compatibility Jamo":a=>a>=12592&&a<=12687,Kanbun:a=>a>=12688&&a<=12703,"Bopomofo Extended":a=>a>=12704&&a<=12735,"CJK Strokes":a=>a>=12736&&a<=12783,"Katakana Phonetic Extensions":a=>a>=12784&&a<=12799,"Enclosed CJK Letters and Months":a=>a>=12800&&a<=13055,"CJK Compatibility":a=>a>=13056&&a<=13311,"CJK Unified Ideographs Extension A":a=>a>=13312&&a<=19903,"Yijing Hexagram Symbols":a=>a>=19904&&a<=19967,"CJK Unified Ideographs":a=>a>=19968&&a<=40959,"Yi Syllables":a=>a>=40960&&a<=42127,"Yi Radicals":a=>a>=42128&&a<=42191,"Hangul Jamo Extended-A":a=>a>=43360&&a<=43391,"Hangul Syllables":a=>a>=44032&&a<=55215,"Hangul Jamo Extended-B":a=>a>=55216&&a<=55295,"Private Use Area":a=>a>=57344&&a<=63743,"CJK Compatibility Ideographs":a=>a>=63744&&a<=64255,"Arabic Presentation Forms-A":a=>a>=64336&&a<=65023,"Vertical Forms":a=>a>=65040&&a<=65055,"CJK Compatibility Forms":a=>a>=65072&&a<=65103,"Small Form Variants":a=>a>=65104&&a<=65135,"Arabic Presentation Forms-B":a=>a>=65136&&a<=65279,"Halfwidth and Fullwidth Forms":a=>a>=65280&&a<=65519};function $h(a){for(const r of a)if(El(r.charCodeAt(0)))return!0;return!1}function fp(a){for(const r of a)if(!v0(r.charCodeAt(0)))return!1;return!0}function v0(a){return!(Ze.Arabic(a)||Ze["Arabic Supplement"](a)||Ze["Arabic Extended-A"](a)||Ze["Arabic Presentation Forms-A"](a)||Ze["Arabic Presentation Forms-B"](a))}function El(a){return!(a!==746&&a!==747&&(a<4352||!(Ze["Bopomofo Extended"](a)||Ze.Bopomofo(a)||Ze["CJK Compatibility Forms"](a)&&!(a>=65097&&a<=65103)||Ze["CJK Compatibility Ideographs"](a)||Ze["CJK Compatibility"](a)||Ze["CJK Radicals Supplement"](a)||Ze["CJK Strokes"](a)||!(!Ze["CJK Symbols and Punctuation"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||Ze["CJK Unified Ideographs Extension A"](a)||Ze["CJK Unified Ideographs"](a)||Ze["Enclosed CJK Letters and Months"](a)||Ze["Hangul Compatibility Jamo"](a)||Ze["Hangul Jamo Extended-A"](a)||Ze["Hangul Jamo Extended-B"](a)||Ze["Hangul Jamo"](a)||Ze["Hangul Syllables"](a)||Ze.Hiragana(a)||Ze["Ideographic Description Characters"](a)||Ze.Kanbun(a)||Ze["Kangxi Radicals"](a)||Ze["Katakana Phonetic Extensions"](a)||Ze.Katakana(a)&&a!==12540||!(!Ze["Halfwidth and Fullwidth Forms"](a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!Ze["Small Form Variants"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||Ze["Unified Canadian Aboriginal Syllabics"](a)||Ze["Unified Canadian Aboriginal Syllabics Extended"](a)||Ze["Vertical Forms"](a)||Ze["Yijing Hexagram Symbols"](a)||Ze["Yi Syllables"](a)||Ze["Yi Radicals"](a))))}function pp(a){return!(El(a)||function(r){return!!(Ze["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||Ze["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||Ze["Letterlike Symbols"](r)||Ze["Number Forms"](r)||Ze["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||Ze["Control Pictures"](r)&&r!==9251||Ze["Optical Character Recognition"](r)||Ze["Enclosed Alphanumerics"](r)||Ze["Geometric Shapes"](r)||Ze["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||Ze["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||Ze["CJK Symbols and Punctuation"](r)||Ze.Katakana(r)||Ze["Private Use Area"](r)||Ze["CJK Compatibility Forms"](r)||Ze["Small Form Variants"](r)||Ze["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(a))}function mp(a){return a>=1424&&a<=2303||Ze["Arabic Presentation Forms-A"](a)||Ze["Arabic Presentation Forms-B"](a)}function x0(a,r){return!(!r&&mp(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||Ze.Khmer(a))}function w0(a){for(const r of a)if(mp(r.charCodeAt(0)))return!0;return!1}const zu="deferred",Bh="loading",Vh="loaded";let Nh=null,ri="unavailable",sa=null;const gp=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(ri="error"),Nh&&Nh(a)};function jh(){Ss.fire(new xt("pluginStateChange",{pluginStatus:ri,pluginURL:sa}))}const Ss=new kn,Uh=function(){return ri},Du=function(){if(ri!==zu||!sa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ri=Bh,jh(),sa&&fr({url:sa},a=>{a?gp(a):(ri=Vh,jh())})},$i={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ri===Vh||$i.applyArabicShaping!=null,isLoading:()=>ri===Bh,setState(a){ri=a.pluginStatus,sa=a.pluginURL},isParsed:()=>$i.applyArabicShaping!=null&&$i.processBidirectionalText!=null&&$i.processStyledBidirectionalText!=null,getPluginURL:()=>sa};class An{constructor(r,l){this.zoom=r,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.zoomHistory=l.zoomHistory,this.transition=l.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Sl,this.transition={})}isSupportedScript(r){return function(l,d){for(const m of l)if(!x0(m.charCodeAt(0),d))return!1;return!0}(r,$i.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const r=this.zoom,l=r-Math.floor(r),d=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*l}}}class Ru{constructor(r,l){this.property=r,this.value=l,this.expression=function(d,m){if(vu(d))return new ys(d,m);if(bu(d)){const _=Dh(d,m);if(_.result==="error")throw new Error(_.value.map(v=>`${v.key}: ${v.message}`).join(", "));return _.value}{let _=d;return typeof d=="string"&&m.type==="color"&&(_=L.parse(d)),{kind:"constant",evaluate:()=>_}}}(l===void 0?r.specification.default:l,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,l,d){return this.property.possiblyEvaluate(this,r,l,d)}}class Lu{constructor(r){this.property=r,this.value=new Ru(r,void 0)}transitioned(r,l){return new yp(this.property,this.value,l,W({},r.transition,this.transition),r.now)}untransitioned(){return new yp(this.property,this.value,null,{},0)}}class Gh{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return Y(this._values[r].value.value)}setValue(r,l){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Lu(this._values[r].property)),this._values[r].value=new Ru(this._values[r].property,l===null?void 0:Y(l))}getTransition(r){return Y(this._values[r].transition)}setTransition(r,l){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Lu(this._values[r].property)),this._values[r].transition=Y(l)||void 0}serialize(){const r={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(r[l]=d);const m=this.getTransition(l);m!==void 0&&(r[`${l}-transition`]=m)}return r}transitioned(r,l){const d=new _p(this._properties);for(const m of Object.keys(this._values))d._values[m]=this._values[m].transitioned(r,l._values[m]);return d}untransitioned(){const r=new _p(this._properties);for(const l of Object.keys(this._values))r._values[l]=this._values[l].untransitioned();return r}}class yp{constructor(r,l,d,m,_){this.property=r,this.value=l,this.begin=_+m.delay||0,this.end=this.begin+m.duration||0,r.specification.transition&&(m.delay||m.duration)&&(this.prior=d)}possiblyEvaluate(r,l,d){const m=r.now||0,_=this.value.possiblyEvaluate(r,l,d),v=this.prior;if(v){if(m>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(m<this.begin)return v.possiblyEvaluate(r,l,d);{const S=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(r,l,d),_,function(k){if(k<=0)return 0;if(k>=1)return 1;const A=k*k,R=A*k;return 4*(k<.5?R:3*(k-A)+R-.75)}(S))}}return _}}class _p{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,l,d){const m=new Ou(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].possiblyEvaluate(r,l,d);return m}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class b0{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}getValue(r){return Y(this._values[r].value)}setValue(r,l){this._values[r]=new Ru(this._values[r].property,l===null?void 0:Y(l))}serialize(){const r={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(r[l]=d)}return r}possiblyEvaluate(r,l,d){const m=new Ou(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].possiblyEvaluate(r,l,d);return m}}class Eo{constructor(r,l,d){this.property=r,this.value=l,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,l,d,m){return this.property.evaluate(this.value,this.parameters,r,l,d,m)}}class Ou{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class ht{constructor(r){this.specification=r}possiblyEvaluate(r,l){return r.expression.evaluate(l)}interpolate(r,l,d){const m=pl[this.specification.type];return m?m(r,l,d):r}}class bt{constructor(r,l){this.specification=r,this.overrides=l}possiblyEvaluate(r,l,d,m){return new Eo(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(l,null,{},d,m)}:r.expression,l)}interpolate(r,l,d){if(r.value.kind!=="constant"||l.value.kind!=="constant")return r;if(r.value.value===void 0||l.value.value===void 0)return new Eo(this,{kind:"constant",value:void 0},r.parameters);const m=pl[this.specification.type];return m?new Eo(this,{kind:"constant",value:m(r.value.value,l.value.value,d)},r.parameters):r}evaluate(r,l,d,m,_,v){return r.kind==="constant"?r.value:r.evaluate(l,d,m,_,v)}}class kl extends bt{possiblyEvaluate(r,l,d,m){if(r.value===void 0)return new Eo(this,{kind:"constant",value:void 0},l);if(r.expression.kind==="constant"){const _=r.expression.evaluate(l,null,{},d,m),v=r.property.specification.type==="resolvedImage"&&typeof _!="string"?_.name:_,S=this._calculate(v,v,v,l);return new Eo(this,{kind:"constant",value:S},l)}if(r.expression.kind==="camera"){const _=this._calculate(r.expression.evaluate({zoom:l.zoom-1}),r.expression.evaluate({zoom:l.zoom}),r.expression.evaluate({zoom:l.zoom+1}),l);return new Eo(this,{kind:"constant",value:_},l)}return new Eo(this,r.expression,l)}evaluate(r,l,d,m,_,v){if(r.kind==="source"){const S=r.evaluate(l,d,m,_,v);return this._calculate(S,S,S,l)}return r.kind==="composite"?this._calculate(r.evaluate({zoom:Math.floor(l.zoom)-1},d,m),r.evaluate({zoom:Math.floor(l.zoom)},d,m),r.evaluate({zoom:Math.floor(l.zoom)+1},d,m),l):r.value}_calculate(r,l,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:l}:{from:d,to:l}}interpolate(r){return r}}class Cl{constructor(r){this.specification=r}possiblyEvaluate(r,l,d,m){if(r.value!==void 0){if(r.expression.kind==="constant"){const _=r.expression.evaluate(l,null,{},d,m);return this._calculate(_,_,_,l)}return this._calculate(r.expression.evaluate(new An(Math.floor(l.zoom-1),l)),r.expression.evaluate(new An(Math.floor(l.zoom),l)),r.expression.evaluate(new An(Math.floor(l.zoom+1),l)),l)}}_calculate(r,l,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:l}:{from:d,to:l}}interpolate(r){return r}}class Wh{constructor(r){this.specification=r}possiblyEvaluate(r,l,d,m){return!!r.expression.evaluate(l,null,{},d,m)}interpolate(){return!1}}class gr{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const l in r){const d=r[l];d.specification.overridable&&this.overridableProperties.push(l);const m=this.defaultPropertyValues[l]=new Ru(d,void 0),_=this.defaultTransitionablePropertyValues[l]=new Lu(d);this.defaultTransitioningPropertyValues[l]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}}}it("DataDrivenProperty",bt),it("DataConstantProperty",ht),it("CrossFadedDataDrivenProperty",kl),it("CrossFadedProperty",Cl),it("ColorRampProperty",Wh);const Da="-transition";class ii extends kn{constructor(r,l){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1},r.type!=="custom"&&(this.metadata=(r=r).metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),l.layout&&(this._unevaluatedLayout=new b0(l.layout)),l.paint)){this._transitionablePaint=new Gh(l.paint);for(const d in r.paint)this.setPaintProperty(d,r.paint[d],{validate:!1});for(const d in r.layout)this.setLayoutProperty(d,r.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ou(l.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,l,d={}){l!=null&&this._validate(_0,`layers.${this.id}.layout.${r}`,r,l,d)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,l):this.visibility=l)}getPaintProperty(r){return r.endsWith(Da)?this._transitionablePaint.getTransition(r.slice(0,-Da.length)):this._transitionablePaint.getValue(r)}setPaintProperty(r,l,d={}){if(l!=null&&this._validate(Oh,`layers.${this.id}.paint.${r}`,r,l,d))return!1;if(r.endsWith(Da))return this._transitionablePaint.setTransition(r.slice(0,-Da.length),l||void 0),!1;{const m=this._transitionablePaint._values[r],_=m.property.specification["property-type"]==="cross-faded-data-driven",v=m.value.isDataDriven(),S=m.value;this._transitionablePaint.setValue(r,l),this._handleSpecialPaintPropertyUpdate(r);const k=this._transitionablePaint._values[r].value;return k.isDataDriven()||v||_||this._handleOverridablePaintPropertyUpdate(r,S,k)}}_handleSpecialPaintPropertyUpdate(r){}_handleOverridablePaintPropertyUpdate(r,l,d){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,l){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,l)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),B(r,(l,d)=>!(l===void 0||d==="layout"&&!Object.keys(l).length||d==="paint"&&!Object.keys(l).length))}_validate(r,l,d,m,_={}){return(!_||_.validate!==!1)&&dp(this,r.call(Aa,{key:l,layerType:this.type,objectKey:d,value:m,styleSpec:ve,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const l=this.paint.get(r);if(l instanceof Eo&&gs(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}const S0={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Tl{constructor(r,l){this._structArray=r,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Cn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,l){return r._trim(),l&&(r.isTransferred=!0,l.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const l=Object.create(this.prototype);return l.arrayBuffer=r.arrayBuffer,l.length=r.length,l.capacity=r.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function yr(a,r=1){let l=0,d=0;return{members:a.map(m=>{const _=S0[m.type].BYTES_PER_ELEMENT,v=l=vp(l,Math.max(r,_)),S=m.components||1;return d=Math.max(d,_),l+=_*S,{name:m.name,type:m.type,components:S,offset:v}}),size:vp(l,Math.max(d,r)),alignment:r}}function vp(a,r){return Math.ceil(a/r)*r}class Es extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const m=2*r;return this.int16[m+0]=l,this.int16[m+1]=d,r}}Es.prototype.bytesPerElement=4,it("StructArrayLayout2i4",Es);class Pl extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,r,l,d,m)}emplace(r,l,d,m,_){const v=4*r;return this.int16[v+0]=l,this.int16[v+1]=d,this.int16[v+2]=m,this.int16[v+3]=_,r}}Pl.prototype.bytesPerElement=8,it("StructArrayLayout4i8",Pl);class g extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,d,m,_,v)}emplace(r,l,d,m,_,v,S){const k=6*r;return this.int16[k+0]=l,this.int16[k+1]=d,this.int16[k+2]=m,this.int16[k+3]=_,this.int16[k+4]=v,this.int16[k+5]=S,r}}g.prototype.bytesPerElement=12,it("StructArrayLayout2i4i12",g);class o extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,d,m,_,v)}emplace(r,l,d,m,_,v,S){const k=4*r,A=8*r;return this.int16[k+0]=l,this.int16[k+1]=d,this.uint8[A+4]=m,this.uint8[A+5]=_,this.uint8[A+6]=v,this.uint8[A+7]=S,r}}o.prototype.bytesPerElement=8,it("StructArrayLayout2i4ub8",o);class c extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const m=2*r;return this.float32[m+0]=l,this.float32[m+1]=d,r}}c.prototype.bytesPerElement=8,it("StructArrayLayout2f8",c);class p extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v,S,k,A,R){const O=this.length;return this.resize(O+1),this.emplace(O,r,l,d,m,_,v,S,k,A,R)}emplace(r,l,d,m,_,v,S,k,A,R,O){const $=10*r;return this.uint16[$+0]=l,this.uint16[$+1]=d,this.uint16[$+2]=m,this.uint16[$+3]=_,this.uint16[$+4]=v,this.uint16[$+5]=S,this.uint16[$+6]=k,this.uint16[$+7]=A,this.uint16[$+8]=R,this.uint16[$+9]=O,r}}p.prototype.bytesPerElement=20,it("StructArrayLayout10ui20",p);class y extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v,S,k,A,R,O,$){const G=this.length;return this.resize(G+1),this.emplace(G,r,l,d,m,_,v,S,k,A,R,O,$)}emplace(r,l,d,m,_,v,S,k,A,R,O,$,G){const q=12*r;return this.int16[q+0]=l,this.int16[q+1]=d,this.int16[q+2]=m,this.int16[q+3]=_,this.uint16[q+4]=v,this.uint16[q+5]=S,this.uint16[q+6]=k,this.uint16[q+7]=A,this.int16[q+8]=R,this.int16[q+9]=O,this.int16[q+10]=$,this.int16[q+11]=G,r}}y.prototype.bytesPerElement=24,it("StructArrayLayout4i4ui4i24",y);class x extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const _=3*r;return this.float32[_+0]=l,this.float32[_+1]=d,this.float32[_+2]=m,r}}x.prototype.bytesPerElement=12,it("StructArrayLayout3f12",x);class E extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint32[1*r+0]=l,r}}E.prototype.bytesPerElement=4,it("StructArrayLayout1ul4",E);class P extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v,S,k,A){const R=this.length;return this.resize(R+1),this.emplace(R,r,l,d,m,_,v,S,k,A)}emplace(r,l,d,m,_,v,S,k,A,R){const O=10*r,$=5*r;return this.int16[O+0]=l,this.int16[O+1]=d,this.int16[O+2]=m,this.int16[O+3]=_,this.int16[O+4]=v,this.int16[O+5]=S,this.uint32[$+3]=k,this.uint16[O+8]=A,this.uint16[O+9]=R,r}}P.prototype.bytesPerElement=20,it("StructArrayLayout6i1ul2ui20",P);class I extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,d,m,_,v)}emplace(r,l,d,m,_,v,S){const k=6*r;return this.int16[k+0]=l,this.int16[k+1]=d,this.int16[k+2]=m,this.int16[k+3]=_,this.int16[k+4]=v,this.int16[k+5]=S,r}}I.prototype.bytesPerElement=12,it("StructArrayLayout2i2i2i12",I);class D extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_){const v=this.length;return this.resize(v+1),this.emplace(v,r,l,d,m,_)}emplace(r,l,d,m,_,v){const S=4*r,k=8*r;return this.float32[S+0]=l,this.float32[S+1]=d,this.float32[S+2]=m,this.int16[k+6]=_,this.int16[k+7]=v,r}}D.prototype.bytesPerElement=16,it("StructArrayLayout2f1f2i16",D);class F extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,r,l,d,m)}emplace(r,l,d,m,_){const v=12*r,S=3*r;return this.uint8[v+0]=l,this.uint8[v+1]=d,this.float32[S+1]=m,this.float32[S+2]=_,r}}F.prototype.bytesPerElement=12,it("StructArrayLayout2ub2f12",F);class U extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const _=3*r;return this.uint16[_+0]=l,this.uint16[_+1]=d,this.uint16[_+2]=m,r}}U.prototype.bytesPerElement=6,it("StructArrayLayout3ui6",U);class X extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v,S,k,A,R,O,$,G,q,re,ie,ye){const be=this.length;return this.resize(be+1),this.emplace(be,r,l,d,m,_,v,S,k,A,R,O,$,G,q,re,ie,ye)}emplace(r,l,d,m,_,v,S,k,A,R,O,$,G,q,re,ie,ye,be){const we=24*r,Pe=12*r,Re=48*r;return this.int16[we+0]=l,this.int16[we+1]=d,this.uint16[we+2]=m,this.uint16[we+3]=_,this.uint32[Pe+2]=v,this.uint32[Pe+3]=S,this.uint32[Pe+4]=k,this.uint16[we+10]=A,this.uint16[we+11]=R,this.uint16[we+12]=O,this.float32[Pe+7]=$,this.float32[Pe+8]=G,this.uint8[Re+36]=q,this.uint8[Re+37]=re,this.uint8[Re+38]=ie,this.uint32[Pe+10]=ye,this.int16[we+22]=be,r}}X.prototype.bytesPerElement=48,it("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",X);class ne extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m,_,v,S,k,A,R,O,$,G,q,re,ie,ye,be,we,Pe,Re,ze,ot,pt,Ke,Ye,qe,rt){const Je=this.length;return this.resize(Je+1),this.emplace(Je,r,l,d,m,_,v,S,k,A,R,O,$,G,q,re,ie,ye,be,we,Pe,Re,ze,ot,pt,Ke,Ye,qe,rt)}emplace(r,l,d,m,_,v,S,k,A,R,O,$,G,q,re,ie,ye,be,we,Pe,Re,ze,ot,pt,Ke,Ye,qe,rt,Je){const $e=34*r,St=17*r;return this.int16[$e+0]=l,this.int16[$e+1]=d,this.int16[$e+2]=m,this.int16[$e+3]=_,this.int16[$e+4]=v,this.int16[$e+5]=S,this.int16[$e+6]=k,this.int16[$e+7]=A,this.uint16[$e+8]=R,this.uint16[$e+9]=O,this.uint16[$e+10]=$,this.uint16[$e+11]=G,this.uint16[$e+12]=q,this.uint16[$e+13]=re,this.uint16[$e+14]=ie,this.uint16[$e+15]=ye,this.uint16[$e+16]=be,this.uint16[$e+17]=we,this.uint16[$e+18]=Pe,this.uint16[$e+19]=Re,this.uint16[$e+20]=ze,this.uint16[$e+21]=ot,this.uint16[$e+22]=pt,this.uint32[St+12]=Ke,this.float32[St+13]=Ye,this.float32[St+14]=qe,this.float32[St+15]=rt,this.float32[St+16]=Je,r}}ne.prototype.bytesPerElement=68,it("StructArrayLayout8i15ui1ul4f68",ne);class K extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.float32[1*r+0]=l,r}}K.prototype.bytesPerElement=4,it("StructArrayLayout1f4",K);class te extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const _=3*r;return this.int16[_+0]=l,this.int16[_+1]=d,this.int16[_+2]=m,r}}te.prototype.bytesPerElement=6,it("StructArrayLayout3i6",te);class fe extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const _=4*r;return this.uint32[2*r+0]=l,this.uint16[_+2]=d,this.uint16[_+3]=m,r}}fe.prototype.bytesPerElement=8,it("StructArrayLayout1ul2ui8",fe);class pe extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const m=2*r;return this.uint16[m+0]=l,this.uint16[m+1]=d,r}}pe.prototype.bytesPerElement=4,it("StructArrayLayout2ui4",pe);class _e extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint16[1*r+0]=l,r}}_e.prototype.bytesPerElement=2,it("StructArrayLayout1ui2",_e);class ge extends Cn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,r,l,d,m)}emplace(r,l,d,m,_){const v=4*r;return this.float32[v+0]=l,this.float32[v+1]=d,this.float32[v+2]=m,this.float32[v+3]=_,r}}ge.prototype.bytesPerElement=16,it("StructArrayLayout4f16",ge);class Me extends Tl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new tt(this.anchorPointX,this.anchorPointY)}}Me.prototype.size=20;class Ee extends P{get(r){return new Me(this,r)}}it("CollisionBoxArray",Ee);class Ce extends Tl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(r){this._structArray.uint8[this._pos1+37]=r}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(r){this._structArray.uint8[this._pos1+38]=r}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(r){this._structArray.uint32[this._pos4+10]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ce.prototype.size=48;class Fe extends X{get(r){return new Ce(this,r)}}it("PlacedSymbolArray",Fe);class Ge extends Tl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(r){this._structArray.uint32[this._pos4+12]=r}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Ge.prototype.size=68;class Ae extends ne{get(r){return new Ge(this,r)}}it("SymbolInstanceArray",Ae);class st extends K{getoffsetX(r){return this.float32[1*r+0]}}it("GlyphOffsetArray",st);class Xe extends te{getx(r){return this.int16[3*r+0]}gety(r){return this.int16[3*r+1]}gettileUnitDistanceFromAnchor(r){return this.int16[3*r+2]}}it("SymbolLineVertexArray",Xe);class Pt extends Tl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Pt.prototype.size=8;class Zt extends fe{get(r){return new Pt(this,r)}}it("FeatureIndexArray",Zt);class Vt extends Es{}class Gt extends Es{}class Vn extends g{}class It extends o{}class Yt extends c{}class gn extends p{}class Pr extends y{}class _i extends x{}class Bi extends E{}class Vi extends I{}class la extends F{}class oi extends U{}class ko extends pe{}const Ra=yr([{name:"a_pos",components:2,type:"Int16"}],4),{members:vi}=Ra;class Jt{constructor(r=[]){this.segments=r}prepareSegment(r,l,d,m){let _=this.segments[this.segments.length-1];return r>Jt.MAX_VERTEX_ARRAY_LENGTH&&oe(`Max vertices per segment is ${Jt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`),(!_||_.vertexLength+r>Jt.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==m)&&(_={vertexOffset:l.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},m!==void 0&&(_.sortKey=m),this.segments.push(_)),_}get(){return this.segments}destroy(){for(const r of this.segments)for(const l in r.vaos)r.vaos[l].destroy()}static simpleSegment(r,l,d,m){return new Jt([{vertexOffset:r,primitiveOffset:l,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])}}function sn(a,r){return 256*(a=T(Math.floor(a),0,255))+T(Math.floor(r),0,255)}Jt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,it("SegmentVector",Jt);const lr=yr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Gr={exports:{}},Mn={exports:{}};Mn.exports=function(a,r){var l,d,m,_,v,S,k,A;for(d=a.length-(l=3&a.length),m=r,v=3432918353,S=461845907,A=0;A<d;)k=255&a.charCodeAt(A)|(255&a.charCodeAt(++A))<<8|(255&a.charCodeAt(++A))<<16|(255&a.charCodeAt(++A))<<24,++A,m=27492+(65535&(_=5*(65535&(m=(m^=k=(65535&(k=(k=(65535&k)*v+(((k>>>16)*v&65535)<<16)&4294967295)<<15|k>>>17))*S+(((k>>>16)*S&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(_>>>16)&65535)<<16);switch(k=0,l){case 3:k^=(255&a.charCodeAt(A+2))<<16;case 2:k^=(255&a.charCodeAt(A+1))<<8;case 1:m^=k=(65535&(k=(k=(65535&(k^=255&a.charCodeAt(A)))*v+(((k>>>16)*v&65535)<<16)&4294967295)<<15|k>>>17))*S+(((k>>>16)*S&65535)<<16)&4294967295}return m^=a.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var La={exports:{}};La.exports=function(a,r){for(var l,d=a.length,m=r^d,_=0;d>=4;)l=1540483477*(65535&(l=255&a.charCodeAt(_)|(255&a.charCodeAt(++_))<<8|(255&a.charCodeAt(++_))<<16|(255&a.charCodeAt(++_))<<24))+((1540483477*(l>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),d-=4,++_;switch(d){case 3:m^=(255&a.charCodeAt(_+2))<<16;case 2:m^=(255&a.charCodeAt(_+1))<<8;case 1:m=1540483477*(65535&(m^=255&a.charCodeAt(_)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var Co=Mn.exports,Fu=La.exports;Gr.exports=Co,Gr.exports.murmur3=Co,Gr.exports.murmur2=Fu;var qh=Gr.exports;class $u{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,l,d,m){this.ids.push(xp(r)),this.positions.push(l,d,m)}getPositions(r){const l=xp(r);let d=0,m=this.ids.length-1;for(;d<m;){const v=d+m>>1;this.ids[v]>=l?m=v:d=v+1}const _=[];for(;this.ids[d]===l;)_.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return _}static serialize(r,l){const d=new Float64Array(r.ids),m=new Uint32Array(r.positions);return Oa(d,m,0,d.length-1),l&&l.push(d.buffer,m.buffer),{ids:d,positions:m}}static deserialize(r){const l=new $u;return l.ids=r.ids,l.positions=r.positions,l.indexed=!0,l}}function xp(a){const r=+a;return!isNaN(r)&&r<=Number.MAX_SAFE_INTEGER?r:qh(String(a))}function Oa(a,r,l,d){for(;l<d;){const m=a[l+d>>1];let _=l-1,v=d+1;for(;;){do _++;while(a[_]<m);do v--;while(a[v]>m);if(_>=v)break;Bu(a,_,v),Bu(r,3*_,3*v),Bu(r,3*_+1,3*v+1),Bu(r,3*_+2,3*v+2)}v-l<d-v?(Oa(a,r,l,v),l=v+1):(Oa(a,r,v+1,d),d=v)}}function Bu(a,r,l){const d=a[r];a[r]=a[l],a[l]=d}it("FeaturePositionMap",$u);class To{constructor(r,l){this.gl=r.gl,this.location=l}}class ks extends To{constructor(r,l){super(r,l),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))}}class lb extends To{constructor(r,l){super(r,l),this.current=[0,0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3]))}}class ub extends To{constructor(r,l){super(r,l),this.current=L.transparent}set(r){r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a))}}const vM=new Float32Array(16);function E0(a){return[sn(255*a.r,255*a.g),sn(255*a.b,255*a.a)]}class Zh{constructor(r,l,d){this.value=r,this.uniformNames=l.map(m=>`u_${m}`),this.type=d}setUniform(r,l,d){r.set(d.constantOr(this.value))}getBinding(r,l,d){return this.type==="color"?new ub(r,l):new ks(r,l)}}class Vu{constructor(r,l){this.uniformNames=l.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(r,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=r.tlbr}setUniform(r,l,d,m){const _=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;_&&r.set(_)}getBinding(r,l,d){return d.substr(0,9)==="u_pattern"?new lb(r,l):new ks(r,l)}}class Fa{constructor(r,l,d,m){this.expression=r,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(_=>({name:`a_${_}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(r,l,d,m,_){const v=this.paintVertexArray.length,S=this.expression.evaluate(new An(0),l,{},m,[],_);this.paintVertexArray.resize(r),this._setPaintValue(v,r,S)}updatePaintArray(r,l,d,m){const _=this.expression.evaluate({zoom:0},d,m);this._setPaintValue(r,l,_)}_setPaintValue(r,l,d){if(this.type==="color"){const m=E0(d);for(let _=r;_<l;_++)this.paintVertexArray.emplace(_,m[0],m[1])}else{for(let m=r;m<l;m++)this.paintVertexArray.emplace(m,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Go{constructor(r,l,d,m,_,v){this.expression=r,this.uniformNames=l.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=m,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=l.map(S=>({name:`a_${S}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(r,l,d,m,_){const v=this.expression.evaluate(new An(this.zoom),l,{},m,[],_),S=this.expression.evaluate(new An(this.zoom+1),l,{},m,[],_),k=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(k,r,v,S)}updatePaintArray(r,l,d,m){const _=this.expression.evaluate({zoom:this.zoom},d,m),v=this.expression.evaluate({zoom:this.zoom+1},d,m);this._setPaintValue(r,l,_,v)}_setPaintValue(r,l,d,m){if(this.type==="color"){const _=E0(d),v=E0(m);for(let S=r;S<l;S++)this.paintVertexArray.emplace(S,_[0],_[1],v[0],v[1])}else{for(let _=r;_<l;_++)this.paintVertexArray.emplace(_,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,l){const d=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=T(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);r.set(m)}getBinding(r,l,d){return new ks(r,l)}}class Cs{constructor(r,l,d,m,_,v){this.expression=r,this.type=l,this.useIntegerZoom=d,this.zoom=m,this.layerId=v,this.zoomInPaintVertexArray=new _,this.zoomOutPaintVertexArray=new _}populatePaintArray(r,l,d){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(m,r,l.patterns&&l.patterns[this.layerId],d)}updatePaintArray(r,l,d,m,_){this._setPaintValues(r,l,d.patterns&&d.patterns[this.layerId],_)}_setPaintValues(r,l,d,m){if(!m||!d)return;const{min:_,mid:v,max:S}=d,k=m[_],A=m[v],R=m[S];if(k&&A&&R)for(let O=r;O<l;O++)this.zoomInPaintVertexArray.emplace(O,A.tl[0],A.tl[1],A.br[0],A.br[1],k.tl[0],k.tl[1],k.br[0],k.br[1],A.pixelRatio,k.pixelRatio),this.zoomOutPaintVertexArray.emplace(O,A.tl[0],A.tl[1],A.br[0],A.br[1],R.tl[0],R.tl[1],R.br[0],R.br[1],A.pixelRatio,R.pixelRatio)}upload(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,lr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,lr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class cb{constructor(r,l,d){this.binders={},this._buffers=[];const m=[];for(const _ in r.paint._values){if(!d(_))continue;const v=r.paint.get(_);if(!(v instanceof Eo&&gs(v.property.specification)))continue;const S=xM(_,r.type),k=v.value,A=v.property.specification.type,R=v.property.useIntegerZoom,O=v.property.specification["property-type"],$=O==="cross-faded"||O==="cross-faded-data-driven";if(k.kind==="constant")this.binders[_]=$?new Vu(k.value,S):new Zh(k.value,S,A),m.push(`/u_${_}`);else if(k.kind==="source"||$){const G=hb(_,A,"source");this.binders[_]=$?new Cs(k,A,R,l,G,r.id):new Fa(k,S,A,G),m.push(`/a_${_}`)}else{const G=hb(_,A,"composite");this.binders[_]=new Go(k,S,A,R,l,G),m.push(`/z_${_}`)}}this.cacheKey=m.sort().join("")}getMaxValue(r){const l=this.binders[r];return l instanceof Fa||l instanceof Go?l.maxValue:0}populatePaintArrays(r,l,d,m,_){for(const v in this.binders){const S=this.binders[v];(S instanceof Fa||S instanceof Go||S instanceof Cs)&&S.populatePaintArray(r,l,d,m,_)}}setConstantPatternPositions(r,l){for(const d in this.binders){const m=this.binders[d];m instanceof Vu&&m.setConstantPatternPositions(r,l)}}updatePaintArrays(r,l,d,m,_){let v=!1;for(const S in r){const k=l.getPositions(S);for(const A of k){const R=d.feature(A.index);for(const O in this.binders){const $=this.binders[O];if(($ instanceof Fa||$ instanceof Go||$ instanceof Cs)&&$.expression.isStateDependent===!0){const G=m.paint.get(O);$.expression=G.value,$.updatePaintArray(A.start,A.end,R,r[S],_),v=!0}}}}return v}defines(){const r=[];for(const l in this.binders){const d=this.binders[l];(d instanceof Zh||d instanceof Vu)&&r.push(...d.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return r}getBinderAttributes(){const r=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Fa||d instanceof Go)for(let m=0;m<d.paintVertexAttributes.length;m++)r.push(d.paintVertexAttributes[m].name);else if(d instanceof Cs)for(let m=0;m<lr.members.length;m++)r.push(lr.members[m].name)}return r}getBinderUniforms(){const r=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Zh||d instanceof Vu||d instanceof Go)for(const m of d.uniformNames)r.push(m)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r,l){const d=[];for(const m in this.binders){const _=this.binders[m];if(_ instanceof Zh||_ instanceof Vu||_ instanceof Go){for(const v of _.uniformNames)if(l[v]){const S=_.getBinding(r,l[v],v);d.push({name:v,property:m,binding:S})}}}return d}setUniforms(r,l,d,m){for(const{name:_,property:v,binding:S}of l)this.binders[v].setUniform(S,m,d.get(v),_)}updatePaintBuffers(r){this._buffers=[];for(const l in this.binders){const d=this.binders[l];if(r&&d instanceof Cs){const m=r.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(d instanceof Fa||d instanceof Go)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(r){for(const l in this.binders){const d=this.binders[l];(d instanceof Fa||d instanceof Go||d instanceof Cs)&&d.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const l=this.binders[r];(l instanceof Fa||l instanceof Go||l instanceof Cs)&&l.destroy()}}}class Il{constructor(r,l,d=()=>!0){this.programConfigurations={};for(const m of r)this.programConfigurations[m.id]=new cb(m,l,d);this.needsUpload=!1,this._featureMap=new $u,this._bufferOffset=0}populatePaintArrays(r,l,d,m,_,v){for(const S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(r,l,m,_,v);l.id!==void 0&&this._featureMap.add(l.id,d,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,l,d,m){for(const _ of d)this.needsUpload=this.programConfigurations[_.id].updatePaintArrays(r,this._featureMap,l,_,m)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}function xM(a,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[a]||[a.replace(`${r}-`,"").replace(/-/g,"_")]}function hb(a,r,l){const d={color:{source:c,composite:ge},number:{source:K,composite:c}},m=function(_){return{"line-pattern":{source:gn,composite:gn},"fill-pattern":{source:gn,composite:gn},"fill-extrusion-pattern":{source:gn,composite:gn}}[_]}(a);return m&&m[l]||d[r][l]}it("ConstantBinder",Zh),it("CrossFadedConstantBinder",Vu),it("SourceExpressionBinder",Fa),it("CrossFadedCompositeBinder",Cs),it("CompositeExpressionBinder",Go),it("ProgramConfiguration",cb,{omit:["_buffers"]}),it("ProgramConfigurationSet",Il);var _r=8192;const k0=Math.pow(2,14)-1,db=-k0-1;function Al(a){const r=_r/a.extent,l=a.loadGeometry();for(let d=0;d<l.length;d++){const m=l[d];for(let _=0;_<m.length;_++){const v=m[_],S=Math.round(v.x*r),k=Math.round(v.y*r);v.x=T(S,db,k0),v.y=T(k,db,k0),(S<v.x||S>v.x+1||k<v.y||k>v.y+1)&&oe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function Ml(a,r){return{type:a.type,id:a.id,properties:a.properties,geometry:r?Al(a):[]}}function wp(a,r,l,d,m){a.emplaceBack(2*r+(d+1)/2,2*l+(m+1)/2)}class C0{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new Vt,this.indexArray=new oi,this.segments=new Jt,this.programConfigurations=new Il(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){const m=this.layers[0],_=[];let v=null,S=!1;m.type==="circle"&&(v=m.layout.get("circle-sort-key"),S=!v.isConstant());for(const{feature:k,id:A,index:R,sourceLayerIndex:O}of r){const $=this.layers[0]._featureFilter.needGeometry,G=Ml(k,$);if(!this.layers[0]._featureFilter.filter(new An(this.zoom),G,d))continue;const q=S?v.evaluate(G,{},d):void 0,re={id:A,properties:k.properties,type:k.type,sourceLayerIndex:O,index:R,geometry:$?G.geometry:Al(k),patterns:{},sortKey:q};_.push(re)}S&&_.sort((k,A)=>k.sortKey-A.sortKey);for(const k of _){const{geometry:A,index:R,sourceLayerIndex:O}=k,$=r[R].feature;this.addFeature(k,A,R,d),l.featureIndex.insert($,A,R,O,this.index)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,vi),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,l,d,m){for(const _ of l)for(const v of _){const S=v.x,k=v.y;if(S<0||S>=_r||k<0||k>=_r)continue;const A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),R=A.vertexLength;wp(this.layoutVertexArray,S,k,-1,-1),wp(this.layoutVertexArray,S,k,1,-1),wp(this.layoutVertexArray,S,k,1,1),wp(this.layoutVertexArray,S,k,-1,1),this.indexArray.emplaceBack(R,R+1,R+2),this.indexArray.emplaceBack(R,R+3,R+2),A.vertexLength+=4,A.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,{},m)}}function fb(a,r){for(let l=0;l<a.length;l++)if(Nu(r,a[l]))return!0;for(let l=0;l<r.length;l++)if(Nu(a,r[l]))return!0;return!!T0(a,r)}function wM(a,r,l){return!!Nu(a,r)||!!P0(r,a,l)}function pb(a,r){if(a.length===1)return gb(r,a[0]);for(let l=0;l<r.length;l++){const d=r[l];for(let m=0;m<d.length;m++)if(Nu(a,d[m]))return!0}for(let l=0;l<a.length;l++)if(gb(r,a[l]))return!0;for(let l=0;l<r.length;l++)if(T0(a,r[l]))return!0;return!1}function bM(a,r,l){if(a.length>1){if(T0(a,r))return!0;for(let d=0;d<r.length;d++)if(P0(r[d],a,l))return!0}for(let d=0;d<a.length;d++)if(P0(a[d],r,l))return!0;return!1}function T0(a,r){if(a.length===0||r.length===0)return!1;for(let l=0;l<a.length-1;l++){const d=a[l],m=a[l+1];for(let _=0;_<r.length-1;_++)if(SM(d,m,r[_],r[_+1]))return!0}return!1}function SM(a,r,l,d){return de(a,l,d)!==de(r,l,d)&&de(a,r,l)!==de(a,r,d)}function P0(a,r,l){const d=l*l;if(r.length===1)return a.distSqr(r[0])<d;for(let m=1;m<r.length;m++)if(mb(a,r[m-1],r[m])<d)return!0;return!1}function mb(a,r,l){const d=r.distSqr(l);if(d===0)return a.distSqr(r);const m=((a.x-r.x)*(l.x-r.x)+(a.y-r.y)*(l.y-r.y))/d;return a.distSqr(m<0?r:m>1?l:l.sub(r)._mult(m)._add(r))}function gb(a,r){let l,d,m,_=!1;for(let v=0;v<a.length;v++){l=a[v];for(let S=0,k=l.length-1;S<l.length;k=S++)d=l[S],m=l[k],d.y>r.y!=m.y>r.y&&r.x<(m.x-d.x)*(r.y-d.y)/(m.y-d.y)+d.x&&(_=!_)}return _}function Nu(a,r){let l=!1;for(let d=0,m=a.length-1;d<a.length;m=d++){const _=a[d],v=a[m];_.y>r.y!=v.y>r.y&&r.x<(v.x-_.x)*(r.y-_.y)/(v.y-_.y)+_.x&&(l=!l)}return l}function EM(a,r,l){const d=l[0],m=l[2];if(a.x<d.x&&r.x<d.x||a.x>m.x&&r.x>m.x||a.y<d.y&&r.y<d.y||a.y>m.y&&r.y>m.y)return!1;const _=de(a,r,l[0]);return _!==de(a,r,l[1])||_!==de(a,r,l[2])||_!==de(a,r,l[3])}function Hh(a,r,l){const d=r.paint.get(a).value;return d.kind==="constant"?d.value:l.programConfigurations.get(r.id).getMaxValue(a)}function bp(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Sp(a,r,l,d,m){if(!r[0]&&!r[1])return a;const _=tt.convert(r)._mult(m);l==="viewport"&&_._rotate(-d);const v=[];for(let S=0;S<a.length;S++)v.push(a[S].sub(_));return v}it("CircleBucket",C0,{omit:["layers"]});const kM=new gr({"circle-sort-key":new bt(ve.layout_circle["circle-sort-key"])});var CM={paint:new gr({"circle-radius":new bt(ve.paint_circle["circle-radius"]),"circle-color":new bt(ve.paint_circle["circle-color"]),"circle-blur":new bt(ve.paint_circle["circle-blur"]),"circle-opacity":new bt(ve.paint_circle["circle-opacity"]),"circle-translate":new ht(ve.paint_circle["circle-translate"]),"circle-translate-anchor":new ht(ve.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ht(ve.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ht(ve.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new bt(ve.paint_circle["circle-stroke-width"]),"circle-stroke-color":new bt(ve.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new bt(ve.paint_circle["circle-stroke-opacity"])}),layout:kM},ju=typeof Float32Array!="undefined"?Float32Array:Array;function I0(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function yb(a,r,l){var d=r[0],m=r[1],_=r[2],v=r[3],S=r[4],k=r[5],A=r[6],R=r[7],O=r[8],$=r[9],G=r[10],q=r[11],re=r[12],ie=r[13],ye=r[14],be=r[15],we=l[0],Pe=l[1],Re=l[2],ze=l[3];return a[0]=we*d+Pe*S+Re*O+ze*re,a[1]=we*m+Pe*k+Re*$+ze*ie,a[2]=we*_+Pe*A+Re*G+ze*ye,a[3]=we*v+Pe*R+Re*q+ze*be,a[4]=(we=l[4])*d+(Pe=l[5])*S+(Re=l[6])*O+(ze=l[7])*re,a[5]=we*m+Pe*k+Re*$+ze*ie,a[6]=we*_+Pe*A+Re*G+ze*ye,a[7]=we*v+Pe*R+Re*q+ze*be,a[8]=(we=l[8])*d+(Pe=l[9])*S+(Re=l[10])*O+(ze=l[11])*re,a[9]=we*m+Pe*k+Re*$+ze*ie,a[10]=we*_+Pe*A+Re*G+ze*ye,a[11]=we*v+Pe*R+Re*q+ze*be,a[12]=(we=l[12])*d+(Pe=l[13])*S+(Re=l[14])*O+(ze=l[15])*re,a[13]=we*m+Pe*k+Re*$+ze*ie,a[14]=we*_+Pe*A+Re*G+ze*ye,a[15]=we*v+Pe*R+Re*q+ze*be,a}Math.hypot||(Math.hypot=function(){for(var a=0,r=arguments.length;r--;)a+=arguments[r]*arguments[r];return Math.sqrt(a)});var Xh,TM=yb;function Ep(a,r,l){var d=r[0],m=r[1],_=r[2],v=r[3];return a[0]=l[0]*d+l[4]*m+l[8]*_+l[12]*v,a[1]=l[1]*d+l[5]*m+l[9]*_+l[13]*v,a[2]=l[2]*d+l[6]*m+l[10]*_+l[14]*v,a[3]=l[3]*d+l[7]*m+l[11]*_+l[15]*v,a}function _b(a,r){const l=Ep([],[a.x,a.y,0,1],r);return new tt(l[0]/l[3],l[1]/l[3])}Xh=new ju(4),ju!=Float32Array&&(Xh[0]=0,Xh[1]=0,Xh[2]=0,Xh[3]=0);class vb extends C0{}it("HeatmapBucket",vb,{omit:["layers"]});var PM={paint:new gr({"heatmap-radius":new bt(ve.paint_heatmap["heatmap-radius"]),"heatmap-weight":new bt(ve.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ht(ve.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Wh(ve.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ht(ve.paint_heatmap["heatmap-opacity"])})};function A0(a,{width:r,height:l},d,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==r*l*d)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${r*l*d}`)}else m=new Uint8Array(r*l*d);return a.width=r,a.height=l,a.data=m,a}function xb(a,{width:r,height:l},d){if(r===a.width&&l===a.height)return;const m=A0({},{width:r,height:l},d);M0(a,m,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,r),height:Math.min(a.height,l)},d),a.width=r,a.height=l,a.data=m.data}function M0(a,r,l,d,m,_){if(m.width===0||m.height===0)return r;if(m.width>a.width||m.height>a.height||l.x>a.width-m.width||l.y>a.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>r.width||m.height>r.height||d.x>r.width-m.width||d.y>r.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const v=a.data,S=r.data;for(let k=0;k<m.height;k++){const A=((l.y+k)*a.width+l.x)*_,R=((d.y+k)*r.width+d.x)*_;for(let O=0;O<m.width*_;O++)S[R+O]=v[A+O]}return r}class Kh{constructor(r,l){A0(this,r,1,l)}resize(r){xb(this,r,1)}clone(){return new Kh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,d,m,_){M0(r,l,d,m,_,1)}}class no{constructor(r,l){A0(this,r,4,l)}resize(r){xb(this,r,4)}replace(r,l){l?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new no({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,d,m,_){M0(r,l,d,m,_,4)}}function wb(a){const r={},l=a.resolution||256,d=a.clips?a.clips.length:1,m=a.image||new no({width:l,height:d}),_=(v,S,k)=>{r[a.evaluationKey]=k;const A=a.expression.evaluate(r);m.data[v+S+0]=Math.floor(255*A.r/A.a),m.data[v+S+1]=Math.floor(255*A.g/A.a),m.data[v+S+2]=Math.floor(255*A.b/A.a),m.data[v+S+3]=Math.floor(255*A.a)};if(a.clips)for(let v=0,S=0;v<d;++v,S+=4*l)for(let k=0,A=0;k<l;k++,A+=4){const R=k/(l-1),{start:O,end:$}=a.clips[v];_(S,A,O*(1-R)+$*R)}else for(let v=0,S=0;v<l;v++,S+=4)_(0,S,v/(l-1));return m}it("AlphaImage",Kh),it("RGBAImage",no);var IM={paint:new gr({"hillshade-illumination-direction":new ht(ve.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ht(ve.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ht(ve.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ht(ve.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ht(ve.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ht(ve.paint_hillshade["hillshade-accent-color"])})};const AM=yr([{name:"a_pos",components:2,type:"Int16"}],4),{members:MM}=AM;var z0={exports:{}};function kp(a,r,l){l=l||2;var d,m,_,v,S,k,A,R=r&&r.length,O=R?r[0]*l:a.length,$=bb(a,0,O,l,!0),G=[];if(!$||$.next===$.prev)return G;if(R&&($=function(re,ie,ye,be){var we,Pe,Re,ze=[];for(we=0,Pe=ie.length;we<Pe;we++)(Re=bb(re,ie[we]*be,we<Pe-1?ie[we+1]*be:re.length,be,!1))===Re.next&&(Re.steiner=!0),ze.push(BM(Re));for(ze.sort(OM),we=0;we<ze.length;we++)ye=Ts(ye=FM(ze[we],ye),ye.next);return ye}(a,r,$,l)),a.length>80*l){d=_=a[0],m=v=a[1];for(var q=l;q<O;q+=l)(S=a[q])<d&&(d=S),(k=a[q+1])<m&&(m=k),S>_&&(_=S),k>v&&(v=k);A=(A=Math.max(_-d,v-m))!==0?1/A:0}return Yh($,G,l,d,m,A),G}function bb(a,r,l,d,m){var _,v;if(m===L0(a,r,l,d)>0)for(_=r;_<l;_+=d)v=kb(_,a[_],a[_+1],v);else for(_=l-d;_>=r;_-=d)v=kb(_,a[_],a[_+1],v);return v&&Cp(v,v.next)&&(Qh(v),v=v.next),v}function Ts(a,r){if(!a)return a;r||(r=a);var l,d=a;do if(l=!1,d.steiner||!Cp(d,d.next)&&er(d.prev,d,d.next)!==0)d=d.next;else{if(Qh(d),(d=r=d.prev)===d.next)break;l=!0}while(l||d!==r);return r}function Yh(a,r,l,d,m,_,v){if(a){!v&&_&&function(R,O,$,G){var q=R;do q.z===null&&(q.z=D0(q.x,q.y,O,$,G)),q.prevZ=q.prev,q.nextZ=q.next,q=q.next;while(q!==R);q.prevZ.nextZ=null,q.prevZ=null,function(re){var ie,ye,be,we,Pe,Re,ze,ot,pt=1;do{for(ye=re,re=null,Pe=null,Re=0;ye;){for(Re++,be=ye,ze=0,ie=0;ie<pt&&(ze++,be=be.nextZ);ie++);for(ot=pt;ze>0||ot>0&&be;)ze!==0&&(ot===0||!be||ye.z<=be.z)?(we=ye,ye=ye.nextZ,ze--):(we=be,be=be.nextZ,ot--),Pe?Pe.nextZ=we:re=we,we.prevZ=Pe,Pe=we;ye=be}Pe.nextZ=null,pt*=2}while(Re>1)}(q)}(a,d,m,_);for(var S,k,A=a;a.prev!==a.next;)if(S=a.prev,k=a.next,_?DM(a,d,m,_):zM(a))r.push(S.i/l),r.push(a.i/l),r.push(k.i/l),Qh(a),a=k.next,A=k.next;else if((a=k)===A){v?v===1?Yh(a=RM(Ts(a),r,l),r,l,d,m,_,2):v===2&&LM(a,r,l,d,m,_):Yh(Ts(a),r,l,d,m,_,1);break}}}function zM(a){var r=a.prev,l=a,d=a.next;if(er(r,l,d)>=0)return!1;for(var m=a.next.next;m!==a.prev;){if(Uu(r.x,r.y,l.x,l.y,d.x,d.y,m.x,m.y)&&er(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function DM(a,r,l,d){var m=a.prev,_=a,v=a.next;if(er(m,_,v)>=0)return!1;for(var S=m.x>_.x?m.x>v.x?m.x:v.x:_.x>v.x?_.x:v.x,k=m.y>_.y?m.y>v.y?m.y:v.y:_.y>v.y?_.y:v.y,A=D0(m.x<_.x?m.x<v.x?m.x:v.x:_.x<v.x?_.x:v.x,m.y<_.y?m.y<v.y?m.y:v.y:_.y<v.y?_.y:v.y,r,l,d),R=D0(S,k,r,l,d),O=a.prevZ,$=a.nextZ;O&&O.z>=A&&$&&$.z<=R;){if(O!==a.prev&&O!==a.next&&Uu(m.x,m.y,_.x,_.y,v.x,v.y,O.x,O.y)&&er(O.prev,O,O.next)>=0||(O=O.prevZ,$!==a.prev&&$!==a.next&&Uu(m.x,m.y,_.x,_.y,v.x,v.y,$.x,$.y)&&er($.prev,$,$.next)>=0))return!1;$=$.nextZ}for(;O&&O.z>=A;){if(O!==a.prev&&O!==a.next&&Uu(m.x,m.y,_.x,_.y,v.x,v.y,O.x,O.y)&&er(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;$&&$.z<=R;){if($!==a.prev&&$!==a.next&&Uu(m.x,m.y,_.x,_.y,v.x,v.y,$.x,$.y)&&er($.prev,$,$.next)>=0)return!1;$=$.nextZ}return!0}function RM(a,r,l){var d=a;do{var m=d.prev,_=d.next.next;!Cp(m,_)&&Sb(m,d,d.next,_)&&Jh(m,_)&&Jh(_,m)&&(r.push(m.i/l),r.push(d.i/l),r.push(_.i/l),Qh(d),Qh(d.next),d=a=_),d=d.next}while(d!==a);return Ts(d)}function LM(a,r,l,d,m,_){var v=a;do{for(var S=v.next.next;S!==v.prev;){if(v.i!==S.i&&VM(v,S)){var k=Eb(v,S);return v=Ts(v,v.next),k=Ts(k,k.next),Yh(v,r,l,d,m,_),void Yh(k,r,l,d,m,_)}S=S.next}v=v.next}while(v!==a)}function OM(a,r){return a.x-r.x}function FM(a,r){var l=function(_,v){var S,k=v,A=_.x,R=_.y,O=-1/0;do{if(R<=k.y&&R>=k.next.y&&k.next.y!==k.y){var $=k.x+(R-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if($<=A&&$>O){if(O=$,$===A){if(R===k.y)return k;if(R===k.next.y)return k.next}S=k.x<k.next.x?k:k.next}}k=k.next}while(k!==v);if(!S)return null;if(A===O)return S;var G,q=S,re=S.x,ie=S.y,ye=1/0;k=S;do A>=k.x&&k.x>=re&&A!==k.x&&Uu(R<ie?A:O,R,re,ie,R<ie?O:A,R,k.x,k.y)&&(G=Math.abs(R-k.y)/(A-k.x),Jh(k,_)&&(G<ye||G===ye&&(k.x>S.x||k.x===S.x&&$M(S,k)))&&(S=k,ye=G)),k=k.next;while(k!==q);return S}(a,r);if(!l)return r;var d=Eb(l,a),m=Ts(l,l.next);return Ts(d,d.next),r===l?m:r}function $M(a,r){return er(a.prev,a,r.prev)<0&&er(r.next,a,a.next)<0}function D0(a,r,l,d,m){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-l)*m)|a<<8))|a<<4))|a<<2))|a<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-d)*m)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function BM(a){var r=a,l=a;do(r.x<l.x||r.x===l.x&&r.y<l.y)&&(l=r),r=r.next;while(r!==a);return l}function Uu(a,r,l,d,m,_,v,S){return(m-v)*(r-S)-(a-v)*(_-S)>=0&&(a-v)*(d-S)-(l-v)*(r-S)>=0&&(l-v)*(_-S)-(m-v)*(d-S)>=0}function VM(a,r){return a.next.i!==r.i&&a.prev.i!==r.i&&!function(l,d){var m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==d.i&&m.next.i!==d.i&&Sb(m,m.next,l,d))return!0;m=m.next}while(m!==l);return!1}(a,r)&&(Jh(a,r)&&Jh(r,a)&&function(l,d){var m=l,_=!1,v=(l.x+d.x)/2,S=(l.y+d.y)/2;do m.y>S!=m.next.y>S&&m.next.y!==m.y&&v<(m.next.x-m.x)*(S-m.y)/(m.next.y-m.y)+m.x&&(_=!_),m=m.next;while(m!==l);return _}(a,r)&&(er(a.prev,a,r.prev)||er(a,r.prev,r))||Cp(a,r)&&er(a.prev,a,a.next)>0&&er(r.prev,r,r.next)>0)}function er(a,r,l){return(r.y-a.y)*(l.x-r.x)-(r.x-a.x)*(l.y-r.y)}function Cp(a,r){return a.x===r.x&&a.y===r.y}function Sb(a,r,l,d){var m=Pp(er(a,r,l)),_=Pp(er(a,r,d)),v=Pp(er(l,d,a)),S=Pp(er(l,d,r));return m!==_&&v!==S||!(m!==0||!Tp(a,l,r))||!(_!==0||!Tp(a,d,r))||!(v!==0||!Tp(l,a,d))||!(S!==0||!Tp(l,r,d))}function Tp(a,r,l){return r.x<=Math.max(a.x,l.x)&&r.x>=Math.min(a.x,l.x)&&r.y<=Math.max(a.y,l.y)&&r.y>=Math.min(a.y,l.y)}function Pp(a){return a>0?1:a<0?-1:0}function Jh(a,r){return er(a.prev,a,a.next)<0?er(a,r,a.next)>=0&&er(a,a.prev,r)>=0:er(a,r,a.prev)<0||er(a,a.next,r)<0}function Eb(a,r){var l=new R0(a.i,a.x,a.y),d=new R0(r.i,r.x,r.y),m=a.next,_=r.prev;return a.next=r,r.prev=a,l.next=m,m.prev=l,d.next=l,l.prev=d,_.next=d,d.prev=_,d}function kb(a,r,l,d){var m=new R0(a,r,l);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function Qh(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function R0(a,r,l){this.i=a,this.x=r,this.y=l,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L0(a,r,l,d){for(var m=0,_=r,v=l-d;_<l;_+=d)m+=(a[v]-a[_])*(a[_+1]+a[v+1]),v=_;return m}z0.exports=kp,z0.exports.default=kp,kp.deviation=function(a,r,l,d){var m=r&&r.length,_=Math.abs(L0(a,0,m?r[0]*l:a.length,l));if(m)for(var v=0,S=r.length;v<S;v++)_-=Math.abs(L0(a,r[v]*l,v<S-1?r[v+1]*l:a.length,l));var k=0;for(v=0;v<d.length;v+=3){var A=d[v]*l,R=d[v+1]*l,O=d[v+2]*l;k+=Math.abs((a[A]-a[O])*(a[R+1]-a[A+1])-(a[A]-a[R])*(a[O+1]-a[A+1]))}return _===0&&k===0?0:Math.abs((k-_)/_)},kp.flatten=function(a){for(var r=a[0][0].length,l={vertices:[],holes:[],dimensions:r},d=0,m=0;m<a.length;m++){for(var _=0;_<a[m].length;_++)for(var v=0;v<r;v++)l.vertices.push(a[m][_][v]);m>0&&l.holes.push(d+=a[m-1].length)}return l};var Cb=z0.exports;function NM(a,r,l,d,m){Tb(a,r,l||0,d||a.length-1,m||jM)}function Tb(a,r,l,d,m){for(;d>l;){if(d-l>600){var _=d-l+1,v=r-l+1,S=Math.log(_),k=.5*Math.exp(2*S/3),A=.5*Math.sqrt(S*k*(_-k)/_)*(v-_/2<0?-1:1);Tb(a,r,Math.max(l,Math.floor(r-v*k/_+A)),Math.min(d,Math.floor(r+(_-v)*k/_+A)),m)}var R=a[r],O=l,$=d;for(ed(a,l,r),m(a[d],R)>0&&ed(a,l,d);O<$;){for(ed(a,O,$),O++,$--;m(a[O],R)<0;)O++;for(;m(a[$],R)>0;)$--}m(a[l],R)===0?ed(a,l,$):ed(a,++$,d),$<=r&&(l=$+1),r<=$&&(d=$-1)}}function ed(a,r,l){var d=a[r];a[r]=a[l],a[l]=d}function jM(a,r){return a<r?-1:a>r?1:0}function O0(a,r){const l=a.length;if(l<=1)return[a];const d=[];let m,_;for(let v=0;v<l;v++){const S=me(a[v]);S!==0&&(a[v].area=Math.abs(S),_===void 0&&(_=S<0),_===S<0?(m&&d.push(m),m=[a[v]]):m.push(a[v]))}if(m&&d.push(m),r>1)for(let v=0;v<d.length;v++)d[v].length<=r||(NM(d[v],r,1,d[v].length-1,UM),d[v]=d[v].slice(0,r));return d}function UM(a,r){return r.area-a.area}function F0(a,r,l){const d=l.patternDependencies;let m=!1;for(const _ of r){const v=_.paint.get(`${a}-pattern`);v.isConstant()||(m=!0);const S=v.constantOr(null);S&&(m=!0,d[S.to]=!0,d[S.from]=!0)}return m}function $0(a,r,l,d,m){const _=m.patternDependencies;for(const v of r){const S=v.paint.get(`${a}-pattern`).value;if(S.kind!=="constant"){let k=S.evaluate({zoom:d-1},l,{},m.availableImages),A=S.evaluate({zoom:d},l,{},m.availableImages),R=S.evaluate({zoom:d+1},l,{},m.availableImages);k=k&&k.name?k.name:k,A=A&&A.name?A.name:A,R=R&&R.name?R.name:R,_[k]=!0,_[A]=!0,_[R]=!0,l.patterns[v.id]={min:k,mid:A,max:R}}}return l}class B0{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Gt,this.indexArray=new oi,this.indexArray2=new ko,this.programConfigurations=new Il(r.layers,r.zoom),this.segments=new Jt,this.segments2=new Jt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){this.hasPattern=F0("fill",this.layers,l);const m=this.layers[0].layout.get("fill-sort-key"),_=!m.isConstant(),v=[];for(const{feature:S,id:k,index:A,sourceLayerIndex:R}of r){const O=this.layers[0]._featureFilter.needGeometry,$=Ml(S,O);if(!this.layers[0]._featureFilter.filter(new An(this.zoom),$,d))continue;const G=_?m.evaluate($,{},d,l.availableImages):void 0,q={id:k,properties:S.properties,type:S.type,sourceLayerIndex:R,index:A,geometry:O?$.geometry:Al(S),patterns:{},sortKey:G};v.push(q)}_&&v.sort((S,k)=>S.sortKey-k.sortKey);for(const S of v){const{geometry:k,index:A,sourceLayerIndex:R}=S;if(this.hasPattern){const O=$0("fill",this.layers,S,this.zoom,l);this.patternFeatures.push(O)}else this.addFeature(S,k,A,d,{});l.featureIndex.insert(r[A].feature,k,A,R,this.index)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}addFeatures(r,l,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,MM),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,l,d,m,_){for(const v of O0(l,500)){let S=0;for(const G of v)S+=G.length;const k=this.segments.prepareSegment(S,this.layoutVertexArray,this.indexArray),A=k.vertexLength,R=[],O=[];for(const G of v){if(G.length===0)continue;G!==v[0]&&O.push(R.length/2);const q=this.segments2.prepareSegment(G.length,this.layoutVertexArray,this.indexArray2),re=q.vertexLength;this.layoutVertexArray.emplaceBack(G[0].x,G[0].y),this.indexArray2.emplaceBack(re+G.length-1,re),R.push(G[0].x),R.push(G[0].y);for(let ie=1;ie<G.length;ie++)this.layoutVertexArray.emplaceBack(G[ie].x,G[ie].y),this.indexArray2.emplaceBack(re+ie-1,re+ie),R.push(G[ie].x),R.push(G[ie].y);q.vertexLength+=G.length,q.primitiveLength+=G.length}const $=Cb(R,O);for(let G=0;G<$.length;G+=3)this.indexArray.emplaceBack(A+$[G],A+$[G+1],A+$[G+2]);k.vertexLength+=S,k.primitiveLength+=$.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,_,m)}}it("FillBucket",B0,{omit:["layers","patternFeatures"]});const GM=new gr({"fill-sort-key":new bt(ve.layout_fill["fill-sort-key"])});var WM={paint:new gr({"fill-antialias":new ht(ve.paint_fill["fill-antialias"]),"fill-opacity":new bt(ve.paint_fill["fill-opacity"]),"fill-color":new bt(ve.paint_fill["fill-color"]),"fill-outline-color":new bt(ve.paint_fill["fill-outline-color"]),"fill-translate":new ht(ve.paint_fill["fill-translate"]),"fill-translate-anchor":new ht(ve.paint_fill["fill-translate-anchor"]),"fill-pattern":new kl(ve.paint_fill["fill-pattern"])}),layout:GM};const qM=yr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),{members:ZM}=qM;var Ps={},HM=tt,Pb=Gu;function Gu(a,r,l,d,m){this.properties={},this.extent=l,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=m,a.readFields(XM,this,r)}function XM(a,r,l){a==1?r.id=l.readVarint():a==2?function(d,m){for(var _=d.readVarint()+d.pos;d.pos<_;){var v=m._keys[d.readVarint()],S=m._values[d.readVarint()];m.properties[v]=S}}(l,r):a==3?r.type=l.readVarint():a==4&&(r._geometry=l.pos)}function KM(a){for(var r,l,d=0,m=0,_=a.length,v=_-1;m<_;v=m++)d+=((l=a[v]).x-(r=a[m]).x)*(r.y+l.y);return d}Gu.types=["Unknown","Point","LineString","Polygon"],Gu.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var r,l=a.readVarint()+a.pos,d=1,m=0,_=0,v=0,S=[];a.pos<l;){if(m<=0){var k=a.readVarint();d=7&k,m=k>>3}if(m--,d===1||d===2)_+=a.readSVarint(),v+=a.readSVarint(),d===1&&(r&&S.push(r),r=[]),r.push(new HM(_,v));else{if(d!==7)throw new Error("unknown command "+d);r&&r.push(r[0].clone())}}return r&&S.push(r),S},Gu.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var r=a.readVarint()+a.pos,l=1,d=0,m=0,_=0,v=1/0,S=-1/0,k=1/0,A=-1/0;a.pos<r;){if(d<=0){var R=a.readVarint();l=7&R,d=R>>3}if(d--,l===1||l===2)(m+=a.readSVarint())<v&&(v=m),m>S&&(S=m),(_+=a.readSVarint())<k&&(k=_),_>A&&(A=_);else if(l!==7)throw new Error("unknown command "+l)}return[v,k,S,A]},Gu.prototype.toGeoJSON=function(a,r,l){var d,m,_=this.extent*Math.pow(2,l),v=this.extent*a,S=this.extent*r,k=this.loadGeometry(),A=Gu.types[this.type];function R(G){for(var q=0;q<G.length;q++){var re=G[q];G[q]=[360*(re.x+v)/_-180,360/Math.PI*Math.atan(Math.exp((180-360*(re.y+S)/_)*Math.PI/180))-90]}}switch(this.type){case 1:var O=[];for(d=0;d<k.length;d++)O[d]=k[d][0];R(k=O);break;case 2:for(d=0;d<k.length;d++)R(k[d]);break;case 3:for(k=function(G){var q=G.length;if(q<=1)return[G];for(var re,ie,ye=[],be=0;be<q;be++){var we=KM(G[be]);we!==0&&(ie===void 0&&(ie=we<0),ie===we<0?(re&&ye.push(re),re=[G[be]]):re.push(G[be]))}return re&&ye.push(re),ye}(k),d=0;d<k.length;d++)for(m=0;m<k[d].length;m++)R(k[d][m])}k.length===1?k=k[0]:A="Multi"+A;var $={type:"Feature",geometry:{type:A,coordinates:k},properties:this.properties};return"id"in this&&($.id=this.id),$};var YM=Pb,Ib=Ab;function Ab(a,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(JM,this,r),this.length=this._features.length}function JM(a,r,l){a===15?r.version=l.readVarint():a===1?r.name=l.readString():a===5?r.extent=l.readVarint():a===2?r._features.push(l.pos):a===3?r._keys.push(l.readString()):a===4&&r._values.push(function(d){for(var m=null,_=d.readVarint()+d.pos;d.pos<_;){var v=d.readVarint()>>3;m=v===1?d.readString():v===2?d.readFloat():v===3?d.readDouble():v===4?d.readVarint64():v===5?d.readVarint():v===6?d.readSVarint():v===7?d.readBoolean():null}return m}(l))}Ab.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var r=this._pbf.readVarint()+this._pbf.pos;return new YM(this._pbf,r,this.extent,this._keys,this._values)};var QM=Ib;function ez(a,r,l){if(a===3){var d=new QM(l,l.readVarint()+l.pos);d.length&&(r[d.name]=d)}}Ps.VectorTile=function(a,r){this.layers=a.readFields(ez,{},r)},Ps.VectorTileFeature=Pb,Ps.VectorTileLayer=Ib;const tz=Ps.VectorTileFeature.types,V0=Math.pow(2,13);function td(a,r,l,d,m,_,v,S){a.emplaceBack(r,l,2*Math.floor(d*V0)+v,m*V0*2,_*V0*2,Math.round(S))}class N0{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new Vn,this.indexArray=new oi,this.programConfigurations=new Il(r.layers,r.zoom),this.segments=new Jt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){this.features=[],this.hasPattern=F0("fill-extrusion",this.layers,l);for(const{feature:m,id:_,index:v,sourceLayerIndex:S}of r){const k=this.layers[0]._featureFilter.needGeometry,A=Ml(m,k);if(!this.layers[0]._featureFilter.filter(new An(this.zoom),A,d))continue;const R={id:_,sourceLayerIndex:S,index:v,geometry:k?A.geometry:Al(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push($0("fill-extrusion",this.layers,R,this.zoom,l)):this.addFeature(R,R.geometry,v,d,{}),l.featureIndex.insert(m,R.geometry,v,S,this.index,!0)}}addFeatures(r,l,d){for(const m of this.features){const{geometry:_}=m;this.addFeature(m,_,m.index,l,d)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,ZM),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,l,d,m,_){for(const v of O0(l,500)){let S=0;for(const G of v)S+=G.length;let k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const G of v){if(G.length===0||rz(G))continue;let q=0;for(let re=0;re<G.length;re++){const ie=G[re];if(re>=1){const ye=G[re-1];if(!nz(ie,ye)){k.vertexLength+4>Jt.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const be=ie.sub(ye)._perp()._unit(),we=ye.dist(ie);q+we>32768&&(q=0),td(this.layoutVertexArray,ie.x,ie.y,be.x,be.y,0,0,q),td(this.layoutVertexArray,ie.x,ie.y,be.x,be.y,0,1,q),q+=we,td(this.layoutVertexArray,ye.x,ye.y,be.x,be.y,0,0,q),td(this.layoutVertexArray,ye.x,ye.y,be.x,be.y,0,1,q);const Pe=k.vertexLength;this.indexArray.emplaceBack(Pe,Pe+2,Pe+1),this.indexArray.emplaceBack(Pe+1,Pe+2,Pe+3),k.vertexLength+=4,k.primitiveLength+=2}}}}if(k.vertexLength+S>Jt.MAX_VERTEX_ARRAY_LENGTH&&(k=this.segments.prepareSegment(S,this.layoutVertexArray,this.indexArray)),tz[r.type]!=="Polygon")continue;const A=[],R=[],O=k.vertexLength;for(const G of v)if(G.length!==0){G!==v[0]&&R.push(A.length/2);for(let q=0;q<G.length;q++){const re=G[q];td(this.layoutVertexArray,re.x,re.y,0,0,1,1,0),A.push(re.x),A.push(re.y)}}const $=Cb(A,R);for(let G=0;G<$.length;G+=3)this.indexArray.emplaceBack(O+$[G],O+$[G+2],O+$[G+1]);k.primitiveLength+=$.length/3,k.vertexLength+=S}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,_,m)}}function nz(a,r){return a.x===r.x&&(a.x<0||a.x>_r)||a.y===r.y&&(a.y<0||a.y>_r)}function rz(a){return a.every(r=>r.x<0)||a.every(r=>r.x>_r)||a.every(r=>r.y<0)||a.every(r=>r.y>_r)}it("FillExtrusionBucket",N0,{omit:["layers","features"]});var iz={paint:new gr({"fill-extrusion-opacity":new ht(ve["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new bt(ve["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ht(ve["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ht(ve["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new kl(ve["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new bt(ve["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new bt(ve["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ht(ve["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function nd(a,r){return a.x*r.x+a.y*r.y}function Mb(a,r){if(a.length===1){let l=0;const d=r[l++];let m;for(;!m||d.equals(m);)if(m=r[l++],!m)return 1/0;for(;l<r.length;l++){const _=r[l],v=a[0],S=m.sub(d),k=_.sub(d),A=v.sub(d),R=nd(S,S),O=nd(S,k),$=nd(k,k),G=nd(A,S),q=nd(A,k),re=R*$-O*O,ie=($*G-O*q)/re,ye=(R*q-O*G)/re,be=d.z*(1-ie-ye)+m.z*ie+_.z*ye;if(isFinite(be))return be}return 1/0}{let l=1/0;for(const d of r)l=Math.min(l,d.z);return l}}const oz=yr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:az}=oz,sz=yr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:lz}=sz,uz=Ps.VectorTileFeature.types,cz=Math.cos(Math.PI/180*37.5),zb=Math.pow(2,14)/.5;class j0{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new It,this.layoutVertexArray2=new Yt,this.indexArray=new oi,this.programConfigurations=new Il(r.layers,r.zoom),this.segments=new Jt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){this.hasPattern=F0("line",this.layers,l);const m=this.layers[0].layout.get("line-sort-key"),_=!m.isConstant(),v=[];for(const{feature:S,id:k,index:A,sourceLayerIndex:R}of r){const O=this.layers[0]._featureFilter.needGeometry,$=Ml(S,O);if(!this.layers[0]._featureFilter.filter(new An(this.zoom),$,d))continue;const G=_?m.evaluate($,{},d):void 0,q={id:k,properties:S.properties,type:S.type,sourceLayerIndex:R,index:A,geometry:O?$.geometry:Al(S),patterns:{},sortKey:G};v.push(q)}_&&v.sort((S,k)=>S.sortKey-k.sortKey);for(const S of v){const{geometry:k,index:A,sourceLayerIndex:R}=S;if(this.hasPattern){const O=$0("line",this.layers,S,this.zoom,l);this.patternFeatures.push(O)}else this.addFeature(S,k,A,d,{});l.featureIndex.insert(r[A].feature,k,A,R,this.index)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}addFeatures(r,l,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,lz)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,az),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,l,d,m,_){const v=this.layers[0].layout,S=v.get("line-join").evaluate(r,{}),k=v.get("line-cap"),A=v.get("line-miter-limit"),R=v.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const O of l)this.addLine(O,r,S,k,A,R);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,_,m)}addLine(r,l,d,m,_,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ye=0;ye<r.length-1;ye++)this.totalDistance+=r[ye].dist(r[ye+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S=uz[l.type]==="Polygon";let k=r.length;for(;k>=2&&r[k-1].equals(r[k-2]);)k--;let A=0;for(;A<k-1&&r[A].equals(r[A+1]);)A++;if(k<(S?3:2))return;d==="bevel"&&(_=1.05);const R=this.overscaling<=16?122880/(512*this.overscaling):0,O=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray);let $,G,q,re,ie;this.e1=this.e2=-1,S&&($=r[k-2],ie=r[A].sub($)._unit()._perp());for(let ye=A;ye<k;ye++){if(q=ye===k-1?S?r[A+1]:void 0:r[ye+1],q&&r[ye].equals(q))continue;ie&&(re=ie),$&&(G=$),$=r[ye],ie=q?q.sub($)._unit()._perp():re,re=re||ie;let be=re.add(ie);be.x===0&&be.y===0||be._unit();const we=re.x*ie.x+re.y*ie.y,Pe=be.x*ie.x+be.y*ie.y,Re=Pe!==0?1/Pe:1/0,ze=2*Math.sqrt(2-2*Pe),ot=Pe<cz&&G&&q,pt=re.x*ie.y-re.y*ie.x>0;if(ot&&ye>A){const qe=$.dist(G);if(qe>2*R){const rt=$.sub($.sub(G)._mult(R/qe)._round());this.updateDistance(G,rt),this.addCurrentVertex(rt,re,0,0,O),G=rt}}const Ke=G&&q;let Ye=Ke?d:S?"butt":m;if(Ke&&Ye==="round"&&(Re<v?Ye="miter":Re<=2&&(Ye="fakeround")),Ye==="miter"&&Re>_&&(Ye="bevel"),Ye==="bevel"&&(Re>2&&(Ye="flipbevel"),Re<_&&(Ye="miter")),G&&this.updateDistance(G,$),Ye==="miter")be._mult(Re),this.addCurrentVertex($,be,0,0,O);else if(Ye==="flipbevel"){if(Re>100)be=ie.mult(-1);else{const qe=Re*re.add(ie).mag()/re.sub(ie).mag();be._perp()._mult(qe*(pt?-1:1))}this.addCurrentVertex($,be,0,0,O),this.addCurrentVertex($,be.mult(-1),0,0,O)}else if(Ye==="bevel"||Ye==="fakeround"){const qe=-Math.sqrt(Re*Re-1),rt=pt?qe:0,Je=pt?0:qe;if(G&&this.addCurrentVertex($,re,rt,Je,O),Ye==="fakeround"){const $e=Math.round(180*ze/Math.PI/20);for(let St=1;St<$e;St++){let _t=St/$e;if(_t!==.5){const ln=_t-.5;_t+=_t*ln*(_t-1)*((1.0904+we*(we*(3.55645-1.43519*we)-3.2452))*ln*ln+(.848013+we*(.215638*we-1.06021)))}const Wt=ie.sub(re)._mult(_t)._add(re)._unit()._mult(pt?-1:1);this.addHalfVertex($,Wt.x,Wt.y,!1,pt,0,O)}}q&&this.addCurrentVertex($,ie,-rt,-Je,O)}else if(Ye==="butt")this.addCurrentVertex($,be,0,0,O);else if(Ye==="square"){const qe=G?1:-1;this.addCurrentVertex($,be,qe,qe,O)}else Ye==="round"&&(G&&(this.addCurrentVertex($,re,0,0,O),this.addCurrentVertex($,re,1,1,O,!0)),q&&(this.addCurrentVertex($,ie,-1,-1,O,!0),this.addCurrentVertex($,ie,0,0,O)));if(ot&&ye<k-1){const qe=$.dist(q);if(qe>2*R){const rt=$.add(q.sub($)._mult(R/qe)._round());this.updateDistance($,rt),this.addCurrentVertex(rt,ie,0,0,O),$=rt}}}}addCurrentVertex(r,l,d,m,_,v=!1){const S=l.y*m-l.x,k=-l.y-l.x*m;this.addHalfVertex(r,l.x+l.y*d,l.y-l.x*d,v,!1,d,_),this.addHalfVertex(r,S,k,v,!0,-m,_),this.distance>zb/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(r,l,d,m,_,v))}addHalfVertex({x:r,y:l},d,m,_,v,S,k){const A=.5*(this.lineClips?this.scaledDistance*(zb-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r<<1)+(_?1:0),(l<<1)+(v?1:0),Math.round(63*d)+128,Math.round(63*m)+128,1+(S===0?0:S<0?-1:1)|(63&A)<<2,A>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const R=k.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,R),k.primitiveLength++),v?this.e2=R:this.e1=R}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(r,l){this.distance+=r.dist(l),this.updateScaledDistance()}}it("LineBucket",j0,{omit:["layers","patternFeatures"]});const hz=new gr({"line-cap":new ht(ve.layout_line["line-cap"]),"line-join":new bt(ve.layout_line["line-join"]),"line-miter-limit":new ht(ve.layout_line["line-miter-limit"]),"line-round-limit":new ht(ve.layout_line["line-round-limit"]),"line-sort-key":new bt(ve.layout_line["line-sort-key"])});var Db={paint:new gr({"line-opacity":new bt(ve.paint_line["line-opacity"]),"line-color":new bt(ve.paint_line["line-color"]),"line-translate":new ht(ve.paint_line["line-translate"]),"line-translate-anchor":new ht(ve.paint_line["line-translate-anchor"]),"line-width":new bt(ve.paint_line["line-width"]),"line-gap-width":new bt(ve.paint_line["line-gap-width"]),"line-offset":new bt(ve.paint_line["line-offset"]),"line-blur":new bt(ve.paint_line["line-blur"]),"line-dasharray":new Cl(ve.paint_line["line-dasharray"]),"line-pattern":new kl(ve.paint_line["line-pattern"]),"line-gradient":new Wh(ve.paint_line["line-gradient"])}),layout:hz};const Rb=new class extends bt{possiblyEvaluate(a,r){return r=new An(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),super.possiblyEvaluate(a,r)}evaluate(a,r,l,d){return r=W({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(a,r,l,d)}}(Db.paint.properties["line-width"].specification);function Lb(a,r){return r>0?r+2*a:a}Rb.useIntegerZoom=!0;const dz=yr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),fz=yr([{name:"a_projected_pos",components:3,type:"Float32"}],4);yr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const pz=yr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);yr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ob=yr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),mz=yr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function gz(a,r,l){return a.sections.forEach(d=>{d.text=function(m,_,v){const S=_.layout.get("text-transform").evaluate(v,{});return S==="uppercase"?m=m.toLocaleUpperCase():S==="lowercase"&&(m=m.toLocaleLowerCase()),$i.applyArabicShaping&&(m=$i.applyArabicShaping(m)),m}(d.text,r,l)}),a}yr([{name:"triangle",components:3,type:"Uint16"}]),yr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),yr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),yr([{type:"Float32",name:"offsetX"}]),yr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const rd={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var Ir=24,U0=yn,Fb=function(a,r,l,d,m){var _,v,S=8*m-d-1,k=(1<<S)-1,A=k>>1,R=-7,O=l?m-1:0,$=l?-1:1,G=a[r+O];for(O+=$,_=G&(1<<-R)-1,G>>=-R,R+=S;R>0;_=256*_+a[r+O],O+=$,R-=8);for(v=_&(1<<-R)-1,_>>=-R,R+=d;R>0;v=256*v+a[r+O],O+=$,R-=8);if(_===0)_=1-A;else{if(_===k)return v?NaN:1/0*(G?-1:1);v+=Math.pow(2,d),_-=A}return(G?-1:1)*v*Math.pow(2,_-d)},$b=function(a,r,l,d,m,_){var v,S,k,A=8*_-m-1,R=(1<<A)-1,O=R>>1,$=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,G=d?0:_-1,q=d?1:-1,re=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(S=isNaN(r)?1:0,v=R):(v=Math.floor(Math.log(r)/Math.LN2),r*(k=Math.pow(2,-v))<1&&(v--,k*=2),(r+=v+O>=1?$/k:$*Math.pow(2,1-O))*k>=2&&(v++,k/=2),v+O>=R?(S=0,v=R):v+O>=1?(S=(r*k-1)*Math.pow(2,m),v+=O):(S=r*Math.pow(2,O-1)*Math.pow(2,m),v=0));m>=8;a[l+G]=255&S,G+=q,S/=256,m-=8);for(v=v<<m|S,A+=m;A>0;a[l+G]=255&v,G+=q,v/=256,A-=8);a[l+G-q]|=128*re};function yn(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}yn.Varint=0,yn.Fixed64=1,yn.Bytes=2,yn.Fixed32=5;var Is,G0=4294967296,Bb=1/G0,Vb=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function $a(a){return a.type===yn.Bytes?a.readVarint()+a.pos:a.pos+1}function Wu(a,r,l){return l?4294967296*r+(a>>>0):4294967296*(r>>>0)+(a>>>0)}function Nb(a,r,l){var d=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));l.realloc(d);for(var m=l.pos-1;m>=a;m--)l.buf[m+d]=l.buf[m]}function yz(a,r){for(var l=0;l<a.length;l++)r.writeVarint(a[l])}function _z(a,r){for(var l=0;l<a.length;l++)r.writeSVarint(a[l])}function vz(a,r){for(var l=0;l<a.length;l++)r.writeFloat(a[l])}function xz(a,r){for(var l=0;l<a.length;l++)r.writeDouble(a[l])}function wz(a,r){for(var l=0;l<a.length;l++)r.writeBoolean(a[l])}function bz(a,r){for(var l=0;l<a.length;l++)r.writeFixed32(a[l])}function Sz(a,r){for(var l=0;l<a.length;l++)r.writeSFixed32(a[l])}function Ez(a,r){for(var l=0;l<a.length;l++)r.writeFixed64(a[l])}function kz(a,r){for(var l=0;l<a.length;l++)r.writeSFixed64(a[l])}function Ip(a,r){return(a[r]|a[r+1]<<8|a[r+2]<<16)+16777216*a[r+3]}function qu(a,r,l){a[l]=r,a[l+1]=r>>>8,a[l+2]=r>>>16,a[l+3]=r>>>24}function jb(a,r){return(a[r]|a[r+1]<<8|a[r+2]<<16)+(a[r+3]<<24)}function Cz(a,r,l){a===1&&l.readMessage(Tz,r)}function Tz(a,r,l){if(a===3){const{id:d,bitmap:m,width:_,height:v,left:S,top:k,advance:A}=l.readMessage(Pz,{});r.push({id:d,bitmap:new Kh({width:_+6,height:v+6},m),metrics:{width:_,height:v,left:S,top:k,advance:A}})}}function Pz(a,r,l){a===1?r.id=l.readVarint():a===2?r.bitmap=l.readBytes():a===3?r.width=l.readVarint():a===4?r.height=l.readVarint():a===5?r.left=l.readSVarint():a===6?r.top=l.readSVarint():a===7&&(r.advance=l.readVarint())}function Ub(a){let r=0,l=0;for(const v of a)r+=v.w*v.h,l=Math.max(l,v.w);a.sort((v,S)=>S.h-v.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),l),h:1/0}];let m=0,_=0;for(const v of a)for(let S=d.length-1;S>=0;S--){const k=d[S];if(!(v.w>k.w||v.h>k.h)){if(v.x=k.x,v.y=k.y,_=Math.max(_,v.y+v.h),m=Math.max(m,v.x+v.w),v.w===k.w&&v.h===k.h){const A=d.pop();S<d.length&&(d[S]=A)}else v.h===k.h?(k.x+=v.w,k.w-=v.w):v.w===k.w?(k.y+=v.h,k.h-=v.h):(d.push({x:k.x+v.w,y:k.y,w:k.w-v.w,h:v.h}),k.y+=v.h,k.h-=v.h);break}}return{w:m,h:_,fill:r/(m*_)||0}}yn.prototype={destroy:function(){this.buf=null},readFields:function(a,r,l){for(l=l||this.length;this.pos<l;){var d=this.readVarint(),m=d>>3,_=this.pos;this.type=7&d,a(m,r,this),this.pos===_&&this.skip(d)}return r},readMessage:function(a,r){return this.readFields(a,r,this.readVarint()+this.pos)},readFixed32:function(){var a=Ip(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=jb(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=Ip(this.buf,this.pos)+Ip(this.buf,this.pos+4)*G0;return this.pos+=8,a},readSFixed64:function(){var a=Ip(this.buf,this.pos)+jb(this.buf,this.pos+4)*G0;return this.pos+=8,a},readFloat:function(){var a=Fb(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=Fb(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var r,l,d=this.buf;return r=127&(l=d[this.pos++]),l<128?r:(r|=(127&(l=d[this.pos++]))<<7,l<128?r:(r|=(127&(l=d[this.pos++]))<<14,l<128?r:(r|=(127&(l=d[this.pos++]))<<21,l<128?r:function(m,_,v){var S,k,A=v.buf;if(S=(112&(k=A[v.pos++]))>>4,k<128||(S|=(127&(k=A[v.pos++]))<<3,k<128)||(S|=(127&(k=A[v.pos++]))<<10,k<128)||(S|=(127&(k=A[v.pos++]))<<17,k<128)||(S|=(127&(k=A[v.pos++]))<<24,k<128)||(S|=(1&(k=A[v.pos++]))<<31,k<128))return Wu(m,S,_);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(l=d[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,r=this.pos;return this.pos=a,a-r>=12&&Vb?function(l,d,m){return Vb.decode(l.subarray(d,m))}(this.buf,r,a):function(l,d,m){for(var _="",v=d;v<m;){var S,k,A,R=l[v],O=null,$=R>239?4:R>223?3:R>191?2:1;if(v+$>m)break;$===1?R<128&&(O=R):$===2?(192&(S=l[v+1]))==128&&(O=(31&R)<<6|63&S)<=127&&(O=null):$===3?(k=l[v+2],(192&(S=l[v+1]))==128&&(192&k)==128&&((O=(15&R)<<12|(63&S)<<6|63&k)<=2047||O>=55296&&O<=57343)&&(O=null)):$===4&&(k=l[v+2],A=l[v+3],(192&(S=l[v+1]))==128&&(192&k)==128&&(192&A)==128&&((O=(15&R)<<18|(63&S)<<12|(63&k)<<6|63&A)<=65535||O>=1114112)&&(O=null)),O===null?(O=65533,$=1):O>65535&&(O-=65536,_+=String.fromCharCode(O>>>10&1023|55296),O=56320|1023&O),_+=String.fromCharCode(O),v+=$}return _}(this.buf,r,a)},readBytes:function(){var a=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,a);return this.pos=a,r},readPackedVarint:function(a,r){if(this.type!==yn.Bytes)return a.push(this.readVarint(r));var l=$a(this);for(a=a||[];this.pos<l;)a.push(this.readVarint(r));return a},readPackedSVarint:function(a){if(this.type!==yn.Bytes)return a.push(this.readSVarint());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==yn.Bytes)return a.push(this.readBoolean());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==yn.Bytes)return a.push(this.readFloat());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==yn.Bytes)return a.push(this.readDouble());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==yn.Bytes)return a.push(this.readFixed32());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==yn.Bytes)return a.push(this.readSFixed32());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==yn.Bytes)return a.push(this.readFixed64());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==yn.Bytes)return a.push(this.readSFixed64());var r=$a(this);for(a=a||[];this.pos<r;)a.push(this.readSFixed64());return a},skip:function(a){var r=7&a;if(r===yn.Varint)for(;this.buf[this.pos++]>127;);else if(r===yn.Bytes)this.pos=this.readVarint()+this.pos;else if(r===yn.Fixed32)this.pos+=4;else{if(r!==yn.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(a,r){this.writeVarint(a<<3|r)},realloc:function(a){for(var r=this.length||16;r<this.pos+a;)r*=2;if(r!==this.length){var l=new Uint8Array(r);l.set(this.buf),this.buf=l,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),qu(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),qu(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),qu(this.buf,-1&a,this.pos),qu(this.buf,Math.floor(a*Bb),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),qu(this.buf,-1&a,this.pos),qu(this.buf,Math.floor(a*Bb),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(r,l){var d,m;if(r>=0?(d=r%4294967296|0,m=r/4294967296|0):(m=~(-r/4294967296),4294967295^(d=~(-r%4294967296))?d=d+1|0:(d=0,m=m+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(_,v,S){S.buf[S.pos++]=127&_|128,_>>>=7,S.buf[S.pos++]=127&_|128,_>>>=7,S.buf[S.pos++]=127&_|128,_>>>=7,S.buf[S.pos++]=127&_|128,S.buf[S.pos]=127&(_>>>=7)}(d,0,l),function(_,v){var S=(7&_)<<4;v.buf[v.pos++]|=S|((_>>>=3)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_)))))}(m,l)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var r=this.pos;this.pos=function(d,m,_){for(var v,S,k=0;k<m.length;k++){if((v=m.charCodeAt(k))>55295&&v<57344){if(!S){v>56319||k+1===m.length?(d[_++]=239,d[_++]=191,d[_++]=189):S=v;continue}if(v<56320){d[_++]=239,d[_++]=191,d[_++]=189,S=v;continue}v=S-55296<<10|v-56320|65536,S=null}else S&&(d[_++]=239,d[_++]=191,d[_++]=189,S=null);v<128?d[_++]=v:(v<2048?d[_++]=v>>6|192:(v<65536?d[_++]=v>>12|224:(d[_++]=v>>18|240,d[_++]=v>>12&63|128),d[_++]=v>>6&63|128),d[_++]=63&v|128)}return _}(this.buf,a,this.pos);var l=this.pos-r;l>=128&&Nb(r,l,this),this.pos=r-1,this.writeVarint(l),this.pos+=l},writeFloat:function(a){this.realloc(4),$b(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),$b(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var r=a.length;this.writeVarint(r),this.realloc(r);for(var l=0;l<r;l++)this.buf[this.pos++]=a[l]},writeRawMessage:function(a,r){this.pos++;var l=this.pos;a(r,this);var d=this.pos-l;d>=128&&Nb(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeMessage:function(a,r,l){this.writeTag(a,yn.Bytes),this.writeRawMessage(r,l)},writePackedVarint:function(a,r){r.length&&this.writeMessage(a,yz,r)},writePackedSVarint:function(a,r){r.length&&this.writeMessage(a,_z,r)},writePackedBoolean:function(a,r){r.length&&this.writeMessage(a,wz,r)},writePackedFloat:function(a,r){r.length&&this.writeMessage(a,vz,r)},writePackedDouble:function(a,r){r.length&&this.writeMessage(a,xz,r)},writePackedFixed32:function(a,r){r.length&&this.writeMessage(a,bz,r)},writePackedSFixed32:function(a,r){r.length&&this.writeMessage(a,Sz,r)},writePackedFixed64:function(a,r){r.length&&this.writeMessage(a,Ez,r)},writePackedSFixed64:function(a,r){r.length&&this.writeMessage(a,kz,r)},writeBytesField:function(a,r){this.writeTag(a,yn.Bytes),this.writeBytes(r)},writeFixed32Field:function(a,r){this.writeTag(a,yn.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(a,r){this.writeTag(a,yn.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(a,r){this.writeTag(a,yn.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(a,r){this.writeTag(a,yn.Fixed64),this.writeSFixed64(r)},writeVarintField:function(a,r){this.writeTag(a,yn.Varint),this.writeVarint(r)},writeSVarintField:function(a,r){this.writeTag(a,yn.Varint),this.writeSVarint(r)},writeStringField:function(a,r){this.writeTag(a,yn.Bytes),this.writeString(r)},writeFloatField:function(a,r){this.writeTag(a,yn.Fixed32),this.writeFloat(r)},writeDoubleField:function(a,r){this.writeTag(a,yn.Fixed64),this.writeDouble(r)},writeBooleanField:function(a,r){this.writeVarintField(a,Boolean(r))}};class W0{constructor(r,{pixelRatio:l,version:d,stretchX:m,stretchY:_,content:v}){this.paddedRect=r,this.pixelRatio=l,this.stretchX=m,this.stretchY=_,this.content=v,this.version=d}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Gb{constructor(r,l){const d={},m={};this.haveRenderCallbacks=[];const _=[];this.addImages(r,d,_),this.addImages(l,m,_);const{w:v,h:S}=Ub(_),k=new no({width:v||1,height:S||1});for(const A in r){const R=r[A],O=d[A].paddedRect;no.copy(R.data,k,{x:0,y:0},{x:O.x+1,y:O.y+1},R.data)}for(const A in l){const R=l[A],O=m[A].paddedRect,$=O.x+1,G=O.y+1,q=R.data.width,re=R.data.height;no.copy(R.data,k,{x:0,y:0},{x:$,y:G},R.data),no.copy(R.data,k,{x:0,y:re-1},{x:$,y:G-1},{width:q,height:1}),no.copy(R.data,k,{x:0,y:0},{x:$,y:G+re},{width:q,height:1}),no.copy(R.data,k,{x:q-1,y:0},{x:$-1,y:G},{width:1,height:re}),no.copy(R.data,k,{x:0,y:0},{x:$+q,y:G},{width:1,height:re})}this.image=k,this.iconPositions=d,this.patternPositions=m}addImages(r,l,d){for(const m in r){const _=r[m],v={x:0,y:0,w:_.data.width+2,h:_.data.height+2};d.push(v),l[m]=new W0(v,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(r,l){r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in r.updatedImages)this.patchUpdatedImage(this.iconPositions[d],r.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],r.getImage(d),l)}patchUpdatedImage(r,l,d){if(!r||!l||r.version===l.version)return;r.version=l.version;const[m,_]=r.tl;d.update(l.data,void 0,{x:m,y:_})}}it("ImagePosition",W0),it("ImageAtlas",Gb),u.WritingMode=void 0,(Is=u.WritingMode||(u.WritingMode={}))[Is.none=0]="none",Is[Is.horizontal=1]="horizontal",Is[Is.vertical=2]="vertical",Is[Is.horizontalOnly=3]="horizontalOnly";const Ap=-17;class id{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,l){const d=new id;return d.scale=r||1,d.fontStack=l,d}static forImage(r){const l=new id;return l.imageName=r,l}}class Zu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,l){const d=new Zu;for(let m=0;m<r.sections.length;m++){const _=r.sections[m];_.image?d.addImageSection(_):d.addTextSection(_,l)}return d}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(){this.text=function(r){let l="";for(let d=0;d<r.length;d++){const m=r.charCodeAt(d+1)||null,_=r.charCodeAt(d-1)||null;l+=m&&pp(m)&&!rd[r[d+1]]||_&&pp(_)&&!rd[r[d-1]]||!rd[r[d]]?r[d]:rd[r[d]]}return l}(this.text)}trim(){let r=0;for(let d=0;d<this.text.length&&zp[this.text.charCodeAt(d)];d++)r++;let l=this.text.length;for(let d=this.text.length-1;d>=0&&d>=r&&zp[this.text.charCodeAt(d)];d--)l--;this.text=this.text.substring(r,l),this.sectionIndex=this.sectionIndex.slice(r,l)}substring(r,l){const d=new Zu;return d.text=this.text.substring(r,l),d.sectionIndex=this.sectionIndex.slice(r,l),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,l)=>Math.max(r,this.sections[l].scale),0)}addTextSection(r,l){this.text+=r.text,this.sections.push(id.forText(r.scale,r.fontStack||l));const d=this.sections.length-1;for(let m=0;m<r.text.length;++m)this.sectionIndex.push(d)}addImageSection(r){const l=r.image?r.image.name:"";if(l.length===0)return void oe("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(id.forImage(l)),this.sectionIndex.push(this.sections.length-1)):oe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Mp(a,r,l,d,m,_,v,S,k,A,R,O,$,G,q,re){const ie=Zu.fromFeature(a,m);let ye;O===u.WritingMode.vertical&&ie.verticalizePunctuation();const{processBidirectionalText:be,processStyledBidirectionalText:we}=$i;if(be&&ie.sections.length===1){ye=[];const ze=be(ie.toString(),q0(ie,A,_,r,d,G,q));for(const ot of ze){const pt=new Zu;pt.text=ot,pt.sections=ie.sections;for(let Ke=0;Ke<ot.length;Ke++)pt.sectionIndex.push(0);ye.push(pt)}}else if(we){ye=[];const ze=we(ie.text,ie.sectionIndex,q0(ie,A,_,r,d,G,q));for(const ot of ze){const pt=new Zu;pt.text=ot[0],pt.sectionIndex=ot[1],pt.sections=ie.sections,ye.push(pt)}}else ye=function(ze,ot){const pt=[],Ke=ze.text;let Ye=0;for(const qe of ot)pt.push(ze.substring(Ye,qe)),Ye=qe;return Ye<Ke.length&&pt.push(ze.substring(Ye,Ke.length)),pt}(ie,q0(ie,A,_,r,d,G,q));const Pe=[],Re={positionedLines:Pe,text:ie.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:O,iconsInText:!1,verticalizable:!1};return function(ze,ot,pt,Ke,Ye,qe,rt,Je,$e,St,_t,Wt){let ln=0,zn=Ap,Dn=0,Or=0;const ur=Je==="right"?1:Je==="left"?0:.5;let cr=0;for(const hr of Ye){hr.trim();const $r=hr.getMaxScale(),qr=($r-1)*Ir,ai={positionedGlyphs:[],lineOffset:0};ze.positionedLines[cr]=ai;const wi=ai.positionedGlyphs;let bi=0;if(!hr.length()){zn+=qe,++cr;continue}for(let br=0;br<hr.length();br++){const Nt=hr.getSection(br),Ni=hr.getSectionIndex(br),Br=hr.getCharCode(br);let Zr=0,Io=null,Wo=null,qo=null,Va=Ir;const Ao=!($e===u.WritingMode.horizontal||!_t&&!El(Br)||_t&&(zp[Br]||(wr=Br,Ze.Arabic(wr)||Ze["Arabic Supplement"](wr)||Ze["Arabic Extended-A"](wr)||Ze["Arabic Presentation Forms-A"](wr)||Ze["Arabic Presentation Forms-B"](wr))));if(Nt.imageName){const ro=Ke[Nt.imageName];if(!ro)continue;qo=Nt.imageName,ze.iconsInText=ze.iconsInText||!0,Wo=ro.paddedRect;const Si=ro.displaySize;Nt.scale=Nt.scale*Ir/Wt,Io={width:Si[0],height:Si[1],left:1,top:-3,advance:Ao?Si[1]:Si[0]},Zr=qr+(Ir-Si[1]*Nt.scale),Va=Io.advance;const Na=Ao?Si[0]*Nt.scale-Ir*$r:Si[1]*Nt.scale-Ir*$r;Na>0&&Na>bi&&(bi=Na)}else{const ro=pt[Nt.fontStack],Si=ro&&ro[Br];if(Si&&Si.rect)Wo=Si.rect,Io=Si.metrics;else{const Na=ot[Nt.fontStack],sd=Na&&Na[Br];if(!sd)continue;Io=sd.metrics}Zr=($r-Nt.scale)*Ir}Ao?(ze.verticalizable=!0,wi.push({glyph:Br,imageName:qo,x:ln,y:zn+Zr,vertical:Ao,scale:Nt.scale,fontStack:Nt.fontStack,sectionIndex:Ni,metrics:Io,rect:Wo}),ln+=Va*Nt.scale+St):(wi.push({glyph:Br,imageName:qo,x:ln,y:zn+Zr,vertical:Ao,scale:Nt.scale,fontStack:Nt.fontStack,sectionIndex:Ni,metrics:Io,rect:Wo}),ln+=Io.advance*Nt.scale+St)}wi.length!==0&&(Dn=Math.max(ln-St,Dn),Mz(wi,0,wi.length-1,ur,bi)),ln=0;const Ln=qe*$r+bi;ai.lineOffset=Math.max(bi,qr),zn+=Ln,Or=Math.max(Ln,Or),++cr}var wr;const Fr=zn-Ap,{horizontalAlign:Wr,verticalAlign:xi}=Z0(rt);(function(hr,$r,qr,ai,wi,bi,Ln,br,Nt){const Ni=($r-qr)*wi;let Br=0;Br=bi!==Ln?-br*ai-Ap:(-ai*Nt+.5)*Ln;for(const Zr of hr)for(const Io of Zr.positionedGlyphs)Io.x+=Ni,Io.y+=Br})(ze.positionedLines,ur,Wr,xi,Dn,Or,qe,Fr,Ye.length),ze.top+=-xi*Fr,ze.bottom=ze.top+Fr,ze.left+=-Wr*Dn,ze.right=ze.left+Dn}(Re,r,l,d,ye,v,S,k,O,A,$,re),!function(ze){for(const ot of ze)if(ot.positionedGlyphs.length!==0)return!1;return!0}(Pe)&&Re}const zp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Iz={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Wb(a,r,l,d,m,_){if(r.imageName){const v=d[r.imageName];return v?v.displaySize[0]*r.scale*Ir/_+m:0}{const v=l[r.fontStack],S=v&&v[a];return S?S.metrics.advance*r.scale+m:0}}function qb(a,r,l,d){const m=Math.pow(a-r,2);return d?a<r?m/2:2*m:m+Math.abs(l)*l}function Az(a,r,l){let d=0;return a===10&&(d-=1e4),l&&(d+=150),a!==40&&a!==65288||(d+=50),r!==41&&r!==65289||(d+=50),d}function Zb(a,r,l,d,m,_){let v=null,S=qb(r,l,m,_);for(const k of d){const A=qb(r-k.x,l,m,_)+k.badness;A<=S&&(v=k,S=A)}return{index:a,x:r,priorBreak:v,badness:S}}function Hb(a){return a?Hb(a.priorBreak).concat(a.index):[]}function q0(a,r,l,d,m,_,v){if(_!=="point")return[];if(!a)return[];const S=[],k=function($,G,q,re,ie,ye){let be=0;for(let we=0;we<$.length();we++){const Pe=$.getSection(we);be+=Wb($.getCharCode(we),Pe,re,ie,G,ye)}return be/Math.max(1,Math.ceil(be/q))}(a,r,l,d,m,v),A=a.text.indexOf("\u200B")>=0;let R=0;for(let $=0;$<a.length();$++){const G=a.getSection($),q=a.getCharCode($);if(zp[q]||(R+=Wb(q,G,d,m,r,v)),$<a.length()-1){const re=!((O=q)<11904||!(Ze["Bopomofo Extended"](O)||Ze.Bopomofo(O)||Ze["CJK Compatibility Forms"](O)||Ze["CJK Compatibility Ideographs"](O)||Ze["CJK Compatibility"](O)||Ze["CJK Radicals Supplement"](O)||Ze["CJK Strokes"](O)||Ze["CJK Symbols and Punctuation"](O)||Ze["CJK Unified Ideographs Extension A"](O)||Ze["CJK Unified Ideographs"](O)||Ze["Enclosed CJK Letters and Months"](O)||Ze["Halfwidth and Fullwidth Forms"](O)||Ze.Hiragana(O)||Ze["Ideographic Description Characters"](O)||Ze["Kangxi Radicals"](O)||Ze["Katakana Phonetic Extensions"](O)||Ze.Katakana(O)||Ze["Vertical Forms"](O)||Ze["Yi Radicals"](O)||Ze["Yi Syllables"](O)));(Iz[q]||re||G.imageName)&&S.push(Zb($+1,R,k,S,Az(q,a.getCharCode($+1),re&&A),!1))}}var O;return Hb(Zb(a.length(),R,k,S,0,!0))}function Z0(a){let r=.5,l=.5;switch(a){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:r,verticalAlign:l}}function Mz(a,r,l,d,m){if(!d&&!m)return;const _=a[l],v=(a[l].x+_.metrics.advance*_.scale)*d;for(let S=r;S<=l;S++)a[S].x-=v,a[S].y+=m}function zz(a,r,l){const{horizontalAlign:d,verticalAlign:m}=Z0(l),_=r[0]-a.displaySize[0]*d,v=r[1]-a.displaySize[1]*m;return{image:a,top:v,bottom:v+a.displaySize[1],left:_,right:_+a.displaySize[0]}}function Xb(a,r,l,d,m,_){const v=a.image;let S;if(v.content){const ie=v.content,ye=v.pixelRatio||1;S=[ie[0]/ye,ie[1]/ye,v.displaySize[0]-ie[2]/ye,v.displaySize[1]-ie[3]/ye]}const k=r.left*_,A=r.right*_;let R,O,$,G;l==="width"||l==="both"?(G=m[0]+k-d[3],O=m[0]+A+d[1]):(G=m[0]+(k+A-v.displaySize[0])/2,O=G+v.displaySize[0]);const q=r.top*_,re=r.bottom*_;return l==="height"||l==="both"?(R=m[1]+q-d[0],$=m[1]+re+d[2]):(R=m[1]+(q+re-v.displaySize[1])/2,$=R+v.displaySize[1]),{image:v,top:R,right:O,bottom:$,left:G,collisionPadding:S}}const Ba=128;function Kb(a,r){const{expression:l}=r;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new An(a+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:m}=l;let _=0;for(;_<d.length&&d[_]<=a;)_++;_=Math.max(0,_-1);let v=_;for(;v<d.length&&d[v]<a+1;)v++;v=Math.min(d.length-1,v);const S=d[_],k=d[v];return l.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:k,interpolationType:m}:{kind:"camera",minZoom:S,maxZoom:k,minSize:l.evaluate(new An(S)),maxSize:l.evaluate(new An(k)),interpolationType:m}}}class As extends tt{constructor(r,l,d,m){super(r,l),this.angle=d,m!==void 0&&(this.segment=m)}clone(){return new As(this.x,this.y,this.angle,this.segment)}}function Yb(a,r,l,d,m){if(r.segment===void 0)return!0;let _=r,v=r.segment+1,S=0;for(;S>-l/2;){if(v--,v<0)return!1;S-=a[v].dist(_),_=a[v]}S+=a[v].dist(a[v+1]),v++;const k=[];let A=0;for(;S<l/2;){const R=a[v],O=a[v+1];if(!O)return!1;let $=a[v-1].angleTo(R)-R.angleTo(O);for($=Math.abs(($+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:S,angleDelta:$}),A+=$;S-k[0].distance>d;)A-=k.shift().angleDelta;if(A>m)return!1;v++,S+=R.dist(O)}return!0}function Jb(a){let r=0;for(let l=0;l<a.length-1;l++)r+=a[l].dist(a[l+1]);return r}function Qb(a,r,l){return a?.6*r*l:0}function e2(a,r){return Math.max(a?a.right-a.left:0,r?r.right-r.left:0)}function Dz(a,r,l,d,m,_){const v=Qb(l,m,_),S=e2(l,d)*_;let k=0;const A=Jb(a)/2;for(let R=0;R<a.length-1;R++){const O=a[R],$=a[R+1],G=O.dist($);if(k+G>A){const q=(A-k)/G,re=sr(O.x,$.x,q),ie=sr(O.y,$.y,q),ye=new As(re,ie,$.angleTo(O),R);return ye._round(),!v||Yb(a,ye,S,v,r)?ye:void 0}k+=G}}function Rz(a,r,l,d,m,_,v,S,k){const A=Qb(d,_,v),R=e2(d,m),O=R*v,$=a[0].x===0||a[0].x===k||a[0].y===0||a[0].y===k;return r-O<r/4&&(r=O+r/4),t2(a,$?r/2*S%r:(R/2+2*_)*v*S%r,r,A,l,O,$,!1,k)}function t2(a,r,l,d,m,_,v,S,k){const A=_/2,R=Jb(a);let O=0,$=r-l,G=[];for(let q=0;q<a.length-1;q++){const re=a[q],ie=a[q+1],ye=re.dist(ie),be=ie.angleTo(re);for(;$+l<O+ye;){$+=l;const we=($-O)/ye,Pe=sr(re.x,ie.x,we),Re=sr(re.y,ie.y,we);if(Pe>=0&&Pe<k&&Re>=0&&Re<k&&$-A>=0&&$+A<=R){const ze=new As(Pe,Re,be,q);ze._round(),d&&!Yb(a,ze,_,d,m)||G.push(ze)}}O+=ye}return S||G.length||v||(G=t2(a,O/2,l,d,m,_,v,!0,k)),G}function n2(a,r,l,d,m){const _=[];for(let v=0;v<a.length;v++){const S=a[v];let k;for(let A=0;A<S.length-1;A++){let R=S[A],O=S[A+1];R.x<r&&O.x<r||(R.x<r?R=new tt(r,R.y+(r-R.x)/(O.x-R.x)*(O.y-R.y))._round():O.x<r&&(O=new tt(r,R.y+(r-R.x)/(O.x-R.x)*(O.y-R.y))._round()),R.y<l&&O.y<l||(R.y<l?R=new tt(R.x+(l-R.y)/(O.y-R.y)*(O.x-R.x),l)._round():O.y<l&&(O=new tt(R.x+(l-R.y)/(O.y-R.y)*(O.x-R.x),l)._round()),R.x>=d&&O.x>=d||(R.x>=d?R=new tt(d,R.y+(d-R.x)/(O.x-R.x)*(O.y-R.y))._round():O.x>=d&&(O=new tt(d,R.y+(d-R.x)/(O.x-R.x)*(O.y-R.y))._round()),R.y>=m&&O.y>=m||(R.y>=m?R=new tt(R.x+(m-R.y)/(O.y-R.y)*(O.x-R.x),m)._round():O.y>=m&&(O=new tt(R.x+(m-R.y)/(O.y-R.y)*(O.x-R.x),m)._round()),k&&R.equals(k[k.length-1])||(k=[R],_.push(k)),k.push(O)))))}}return _}function r2(a,r,l,d){const m=[],_=a.image,v=_.pixelRatio,S=_.paddedRect.w-2,k=_.paddedRect.h-2,A=a.right-a.left,R=a.bottom-a.top,O=_.stretchX||[[0,S]],$=_.stretchY||[[0,k]],G=(qe,rt)=>qe+rt[1]-rt[0],q=O.reduce(G,0),re=$.reduce(G,0),ie=S-q,ye=k-re;let be=0,we=q,Pe=0,Re=re,ze=0,ot=ie,pt=0,Ke=ye;if(_.content&&d){const qe=_.content;be=Dp(O,0,qe[0]),Pe=Dp($,0,qe[1]),we=Dp(O,qe[0],qe[2]),Re=Dp($,qe[1],qe[3]),ze=qe[0]-be,pt=qe[1]-Pe,ot=qe[2]-qe[0]-we,Ke=qe[3]-qe[1]-Re}const Ye=(qe,rt,Je,$e)=>{const St=Rp(qe.stretch-be,we,A,a.left),_t=Lp(qe.fixed-ze,ot,qe.stretch,q),Wt=Rp(rt.stretch-Pe,Re,R,a.top),ln=Lp(rt.fixed-pt,Ke,rt.stretch,re),zn=Rp(Je.stretch-be,we,A,a.left),Dn=Lp(Je.fixed-ze,ot,Je.stretch,q),Or=Rp($e.stretch-Pe,Re,R,a.top),ur=Lp($e.fixed-pt,Ke,$e.stretch,re),cr=new tt(St,Wt),wr=new tt(zn,Wt),Fr=new tt(zn,Or),Wr=new tt(St,Or),xi=new tt(_t/v,ln/v),hr=new tt(Dn/v,ur/v),$r=r*Math.PI/180;if($r){const wi=Math.sin($r),bi=Math.cos($r),Ln=[bi,-wi,wi,bi];cr._matMult(Ln),wr._matMult(Ln),Wr._matMult(Ln),Fr._matMult(Ln)}const qr=qe.stretch+qe.fixed,ai=rt.stretch+rt.fixed;return{tl:cr,tr:wr,bl:Wr,br:Fr,tex:{x:_.paddedRect.x+1+qr,y:_.paddedRect.y+1+ai,w:Je.stretch+Je.fixed-qr,h:$e.stretch+$e.fixed-ai},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:xi,pixelOffsetBR:hr,minFontScaleX:ot/v/A,minFontScaleY:Ke/v/R,isSDF:l}};if(d&&(_.stretchX||_.stretchY)){const qe=i2(O,ie,q),rt=i2($,ye,re);for(let Je=0;Je<qe.length-1;Je++){const $e=qe[Je],St=qe[Je+1];for(let _t=0;_t<rt.length-1;_t++)m.push(Ye($e,rt[_t],St,rt[_t+1]))}}else m.push(Ye({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:k+1}));return m}function Dp(a,r,l){let d=0;for(const m of a)d+=Math.max(r,Math.min(l,m[1]))-Math.max(r,Math.min(l,m[0]));return d}function i2(a,r,l){const d=[{fixed:-1,stretch:0}];for(const[m,_]of a){const v=d[d.length-1];d.push({fixed:m-v.stretch,stretch:v.stretch}),d.push({fixed:m-v.stretch,stretch:v.stretch+(_-m)})}return d.push({fixed:r+1,stretch:l}),d}function Rp(a,r,l,d){return a/r*l+d}function Lp(a,r,l,d){return a-r*l/d}it("Anchor",As);class Op{constructor(r,l,d,m,_,v,S,k,A,R){if(this.boxStartIndex=r.length,A){let O=v.top,$=v.bottom;const G=v.collisionPadding;G&&(O-=G[1],$+=G[3]);let q=$-O;q>0&&(q=Math.max(10,q),this.circleDiameter=q)}else{let O=v.top*S-k,$=v.bottom*S+k,G=v.left*S-k,q=v.right*S+k;const re=v.collisionPadding;if(re&&(G-=re[0]*S,O-=re[1]*S,q+=re[2]*S,$+=re[3]*S),R){const ie=new tt(G,O),ye=new tt(q,O),be=new tt(G,$),we=new tt(q,$),Pe=R*Math.PI/180;ie._rotate(Pe),ye._rotate(Pe),be._rotate(Pe),we._rotate(Pe),G=Math.min(ie.x,ye.x,be.x,we.x),q=Math.max(ie.x,ye.x,be.x,we.x),O=Math.min(ie.y,ye.y,be.y,we.y),$=Math.max(ie.y,ye.y,be.y,we.y)}r.emplaceBack(l.x,l.y,G,O,q,$,d,m,_)}this.boxEndIndex=r.length}}class Lz{constructor(r=[],l=Oz){if(this.data=r,this.length=this.data.length,this.compare=l,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const r=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:l,compare:d}=this,m=l[r];for(;r>0;){const _=r-1>>1,v=l[_];if(d(m,v)>=0)break;l[r]=v,r=_}l[r]=m}_down(r){const{data:l,compare:d}=this,m=this.length>>1,_=l[r];for(;r<m;){let v=1+(r<<1),S=l[v];const k=v+1;if(k<this.length&&d(l[k],S)<0&&(v=k,S=l[k]),d(S,_)>=0)break;l[r]=S,r=v}l[r]=_}}function Oz(a,r){return a<r?-1:a>r?1:0}function Fz(a,r=1,l=!1){let d=1/0,m=1/0,_=-1/0,v=-1/0;const S=a[0];for(let G=0;G<S.length;G++){const q=S[G];(!G||q.x<d)&&(d=q.x),(!G||q.y<m)&&(m=q.y),(!G||q.x>_)&&(_=q.x),(!G||q.y>v)&&(v=q.y)}const k=Math.min(_-d,v-m);let A=k/2;const R=new Lz([],$z);if(k===0)return new tt(d,m);for(let G=d;G<_;G+=k)for(let q=m;q<v;q+=k)R.push(new Hu(G+A,q+A,A,a));let O=function(G){let q=0,re=0,ie=0;const ye=G[0];for(let be=0,we=ye.length,Pe=we-1;be<we;Pe=be++){const Re=ye[be],ze=ye[Pe],ot=Re.x*ze.y-ze.x*Re.y;re+=(Re.x+ze.x)*ot,ie+=(Re.y+ze.y)*ot,q+=3*ot}return new Hu(re/q,ie/q,0,G)}(a),$=R.length;for(;R.length;){const G=R.pop();(G.d>O.d||!O.d)&&(O=G,l&&console.log("found best %d after %d probes",Math.round(1e4*G.d)/1e4,$)),G.max-O.d<=r||(A=G.h/2,R.push(new Hu(G.p.x-A,G.p.y-A,A,a)),R.push(new Hu(G.p.x+A,G.p.y-A,A,a)),R.push(new Hu(G.p.x-A,G.p.y+A,A,a)),R.push(new Hu(G.p.x+A,G.p.y+A,A,a)),$+=4)}return l&&(console.log(`num probes: ${$}`),console.log(`best distance: ${O.d}`)),O.p}function $z(a,r){return r.max-a.max}function Hu(a,r,l,d){this.p=new tt(a,r),this.h=l,this.d=function(m,_){let v=!1,S=1/0;for(let k=0;k<_.length;k++){const A=_[k];for(let R=0,O=A.length,$=O-1;R<O;$=R++){const G=A[R],q=A[$];G.y>m.y!=q.y>m.y&&m.x<(q.x-G.x)*(m.y-G.y)/(q.y-G.y)+G.x&&(v=!v),S=Math.min(S,mb(m,G,q))}}return(v?1:-1)*Math.sqrt(S)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}const H0=Number.POSITIVE_INFINITY;function o2(a,r){return r[1]!==H0?function(l,d,m){let _=0,v=0;switch(d=Math.abs(d),m=Math.abs(m),l){case"top-right":case"top-left":case"top":v=m-7;break;case"bottom-right":case"bottom-left":case"bottom":v=7-m}switch(l){case"top-right":case"bottom-right":case"right":_=-d;break;case"top-left":case"bottom-left":case"left":_=d}return[_,v]}(a,r[0],r[1]):function(l,d){let m=0,_=0;d<0&&(d=0);const v=d/Math.sqrt(2);switch(l){case"top-right":case"top-left":_=v-7;break;case"bottom-right":case"bottom-left":_=7-v;break;case"bottom":_=7-d;break;case"top":_=d-7}switch(l){case"top-right":case"bottom-right":m=-v;break;case"top-left":case"bottom-left":m=v;break;case"left":m=d;break;case"right":m=-d}return[m,_]}(a,r[0])}function X0(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Bz(a,r,l,d,m,_,v,S,k,A,R){let O=_.textMaxSize.evaluate(r,{});O===void 0&&(O=v);const $=a.layers[0].layout,G=$.get("icon-offset").evaluate(r,{},R),q=s2(l.horizontal),re=v/24,ie=a.tilePixelRatio*re,ye=a.tilePixelRatio*O/24,be=a.tilePixelRatio*S,we=a.tilePixelRatio*$.get("symbol-spacing"),Pe=$.get("text-padding")*a.tilePixelRatio,Re=$.get("icon-padding")*a.tilePixelRatio,ze=$.get("text-max-angle")/180*Math.PI,ot=$.get("text-rotation-alignment")!=="viewport"&&$.get("symbol-placement")!=="point",pt=$.get("icon-rotation-alignment")==="map"&&$.get("symbol-placement")!=="point",Ke=$.get("symbol-placement"),Ye=we/2,qe=$.get("icon-text-fit");let rt;d&&qe!=="none"&&(a.allowVerticalPlacement&&l.vertical&&(rt=Xb(d,l.vertical,qe,$.get("icon-text-fit-padding"),G,re)),q&&(d=Xb(d,q,qe,$.get("icon-text-fit-padding"),G,re)));const Je=($e,St)=>{St.x<0||St.x>=_r||St.y<0||St.y>=_r||function(_t,Wt,ln,zn,Dn,Or,ur,cr,wr,Fr,Wr,xi,hr,$r,qr,ai,wi,bi,Ln,br,Nt,Ni,Br,Zr,Io){const Wo=_t.addToLineVertexArray(Wt,ln);let qo,Va,Ao,ro,Si=0,Na=0,sd=0,S2=0,o_=-1,a_=-1;const ja={};let E2=qh(""),s_=0,l_=0;if(cr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[s_,l_]=cr.layout.get("text-offset").evaluate(Nt,{},Zr).map(Ei=>Ei*Ir):(s_=cr.layout.get("text-radial-offset").evaluate(Nt,{},Zr)*Ir,l_=H0),_t.allowVerticalPlacement&&zn.vertical){const Ei=cr.layout.get("text-rotate").evaluate(Nt,{},Zr)+90;Ao=new Op(wr,Wt,Fr,Wr,xi,zn.vertical,hr,$r,qr,Ei),ur&&(ro=new Op(wr,Wt,Fr,Wr,xi,ur,wi,bi,qr,Ei))}if(Dn){const Ei=cr.layout.get("icon-rotate").evaluate(Nt,{}),ua=cr.layout.get("icon-text-fit")!=="none",ld=r2(Dn,Ei,Br,ua),ud=ur?r2(ur,Ei,Br,ua):void 0;Va=new Op(wr,Wt,Fr,Wr,xi,Dn,wi,bi,!1,Ei),Si=4*ld.length;const T2=_t.iconSizeData;let Dl=null;T2.kind==="source"?(Dl=[Ba*cr.layout.get("icon-size").evaluate(Nt,{})],Dl[0]>Ms&&oe(`${_t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):T2.kind==="composite"&&(Dl=[Ba*Ni.compositeIconSizes[0].evaluate(Nt,{},Zr),Ba*Ni.compositeIconSizes[1].evaluate(Nt,{},Zr)],(Dl[0]>Ms||Dl[1]>Ms)&&oe(`${_t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),_t.addSymbols(_t.icon,ld,Dl,br,Ln,Nt,u.WritingMode.none,Wt,Wo.lineStartIndex,Wo.lineLength,-1,Zr),o_=_t.icon.placedSymbolArray.length-1,ud&&(Na=4*ud.length,_t.addSymbols(_t.icon,ud,Dl,br,Ln,Nt,u.WritingMode.vertical,Wt,Wo.lineStartIndex,Wo.lineLength,-1,Zr),a_=_t.icon.placedSymbolArray.length-1)}const k2=Object.keys(zn.horizontal);for(const Ei of k2){const ua=zn.horizontal[Ei];if(!qo){E2=qh(ua.text);const ud=cr.layout.get("text-rotate").evaluate(Nt,{},Zr);qo=new Op(wr,Wt,Fr,Wr,xi,ua,hr,$r,qr,ud)}const ld=ua.positionedLines.length===1;if(sd+=a2(_t,Wt,ua,Or,cr,qr,Nt,ai,Wo,zn.vertical?u.WritingMode.horizontal:u.WritingMode.horizontalOnly,ld?k2:[Ei],ja,o_,Ni,Zr),ld)break}zn.vertical&&(S2+=a2(_t,Wt,zn.vertical,Or,cr,qr,Nt,ai,Wo,u.WritingMode.vertical,["vertical"],ja,a_,Ni,Zr));const Jz=qo?qo.boxStartIndex:_t.collisionBoxArray.length,Qz=qo?qo.boxEndIndex:_t.collisionBoxArray.length,e5=Ao?Ao.boxStartIndex:_t.collisionBoxArray.length,t5=Ao?Ao.boxEndIndex:_t.collisionBoxArray.length,n5=Va?Va.boxStartIndex:_t.collisionBoxArray.length,r5=Va?Va.boxEndIndex:_t.collisionBoxArray.length,i5=ro?ro.boxStartIndex:_t.collisionBoxArray.length,o5=ro?ro.boxEndIndex:_t.collisionBoxArray.length;let Zo=-1;const Np=(Ei,ua)=>Ei&&Ei.circleDiameter?Math.max(Ei.circleDiameter,ua):ua;Zo=Np(qo,Zo),Zo=Np(Ao,Zo),Zo=Np(Va,Zo),Zo=Np(ro,Zo);const C2=Zo>-1?1:0;C2&&(Zo*=Io/Ir),_t.glyphOffsetArray.length>=Xu.MAX_GLYPHS&&oe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Nt.sortKey!==void 0&&_t.addToSortKeyRanges(_t.symbolInstances.length,Nt.sortKey),_t.symbolInstances.emplaceBack(Wt.x,Wt.y,ja.right>=0?ja.right:-1,ja.center>=0?ja.center:-1,ja.left>=0?ja.left:-1,ja.vertical||-1,o_,a_,E2,Jz,Qz,e5,t5,n5,r5,i5,o5,Fr,sd,S2,Si,Na,C2,0,hr,s_,l_,Zo)}(a,St,$e,l,d,m,rt,a.layers[0],a.collisionBoxArray,r.index,r.sourceLayerIndex,a.index,ie,Pe,ot,k,be,Re,pt,G,r,_,A,R,v)};if(Ke==="line")for(const $e of n2(r.geometry,0,0,_r,_r)){const St=Rz($e,we,ze,l.vertical||q,d,24,ye,a.overscaling,_r);for(const _t of St){const Wt=q;Wt&&Vz(a,Wt.text,Ye,_t)||Je($e,_t)}}else if(Ke==="line-center"){for(const $e of r.geometry)if($e.length>1){const St=Dz($e,ze,l.vertical||q,d,24,ye);St&&Je($e,St)}}else if(r.type==="Polygon")for(const $e of O0(r.geometry,0)){const St=Fz($e,16);Je($e[0],new As(St.x,St.y,0))}else if(r.type==="LineString")for(const $e of r.geometry)Je($e,new As($e[0].x,$e[0].y,0));else if(r.type==="Point")for(const $e of r.geometry)for(const St of $e)Je([St],new As(St.x,St.y,0))}const Ms=32640;function a2(a,r,l,d,m,_,v,S,k,A,R,O,$,G,q){const re=function(be,we,Pe,Re,ze,ot,pt,Ke){const Ye=Re.layout.get("text-rotate").evaluate(ot,{})*Math.PI/180,qe=[];for(const rt of we.positionedLines)for(const Je of rt.positionedGlyphs){if(!Je.rect)continue;const $e=Je.rect||{};let St=4,_t=!0,Wt=1,ln=0;const zn=(ze||Ke)&&Je.vertical,Dn=Je.metrics.advance*Je.scale/2;if(Ke&&we.verticalizable){const Ln=(Je.scale-1)*Ir,br=(Ir-Je.metrics.width*Je.scale)/2;ln=rt.lineOffset/2-(Je.imageName?-br:Ln)}if(Je.imageName){const Ln=pt[Je.imageName];_t=Ln.sdf,Wt=Ln.pixelRatio,St=1/Wt}const Or=ze?[Je.x+Dn,Je.y]:[0,0];let ur=ze?[0,0]:[Je.x+Dn+Pe[0],Je.y+Pe[1]-ln],cr=[0,0];zn&&(cr=ur,ur=[0,0]);const wr=(Je.metrics.left-St)*Je.scale-Dn+ur[0],Fr=(-Je.metrics.top-St)*Je.scale+ur[1],Wr=wr+$e.w*Je.scale/Wt,xi=Fr+$e.h*Je.scale/Wt,hr=new tt(wr,Fr),$r=new tt(Wr,Fr),qr=new tt(wr,xi),ai=new tt(Wr,xi);if(zn){const Ln=new tt(-Dn,Dn-Ap),br=-Math.PI/2,Nt=12-Dn,Ni=new tt(22-Nt,-(Je.imageName?Nt:0)),Br=new tt(...cr);hr._rotateAround(br,Ln)._add(Ni)._add(Br),$r._rotateAround(br,Ln)._add(Ni)._add(Br),qr._rotateAround(br,Ln)._add(Ni)._add(Br),ai._rotateAround(br,Ln)._add(Ni)._add(Br)}if(Ye){const Ln=Math.sin(Ye),br=Math.cos(Ye),Nt=[br,-Ln,Ln,br];hr._matMult(Nt),$r._matMult(Nt),qr._matMult(Nt),ai._matMult(Nt)}const wi=new tt(0,0),bi=new tt(0,0);qe.push({tl:hr,tr:$r,bl:qr,br:ai,tex:$e,writingMode:we.writingMode,glyphOffset:Or,sectionIndex:Je.sectionIndex,isSDF:_t,pixelOffsetTL:wi,pixelOffsetBR:bi,minFontScaleX:0,minFontScaleY:0})}return qe}(0,l,S,m,_,v,d,a.allowVerticalPlacement),ie=a.textSizeData;let ye=null;ie.kind==="source"?(ye=[Ba*m.layout.get("text-size").evaluate(v,{})],ye[0]>Ms&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ie.kind==="composite"&&(ye=[Ba*G.compositeTextSizes[0].evaluate(v,{},q),Ba*G.compositeTextSizes[1].evaluate(v,{},q)],(ye[0]>Ms||ye[1]>Ms)&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),a.addSymbols(a.text,re,ye,S,_,v,A,r,k.lineStartIndex,k.lineLength,$,q);for(const be of R)O[be]=a.text.placedSymbolArray.length-1;return 4*re.length}function s2(a){for(const r in a)return a[r];return null}function Vz(a,r,l,d){const m=a.compareText;if(r in m){const _=m[r];for(let v=_.length-1;v>=0;v--)if(d.dist(_[v])<l)return!0}else m[r]=[];return m[r].push(d),!1}const Nz=Ps.VectorTileFeature.types,jz=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Fp(a,r,l,d,m,_,v,S,k,A,R,O,$){const G=S?Math.min(Ms,Math.round(S[0])):0,q=S?Math.min(Ms,Math.round(S[1])):0;a.emplaceBack(r,l,Math.round(32*d),Math.round(32*m),_,v,(G<<1)+(k?1:0),q,16*A,16*R,256*O,256*$)}function K0(a,r,l){a.emplaceBack(r.x,r.y,l),a.emplaceBack(r.x,r.y,l),a.emplaceBack(r.x,r.y,l),a.emplaceBack(r.x,r.y,l)}function Uz(a){for(const r of a.sections)if(w0(r.text))return!0;return!1}class Y0{constructor(r){this.layoutVertexArray=new Pr,this.indexArray=new oi,this.programConfigurations=r,this.segments=new Jt,this.dynamicLayoutVertexArray=new _i,this.opacityVertexArray=new Bi,this.placedSymbolArray=new Fe}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,l,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,dz.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,fz.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,jz,!0),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}it("SymbolBuffers",Y0);class J0{constructor(r,l,d){this.layoutVertexArray=new r,this.layoutAttributes=l,this.indexArray=new d,this.segments=new Jt,this.collisionVertexArray=new la}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,pz.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}it("CollisionBuffers",J0);class Xu{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(v=>v.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=I0([]),this.placementViewportMatrix=I0([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Kb(this.zoom,l["text-size"]),this.iconSizeData=Kb(this.zoom,l["icon-size"]);const d=this.layers[0].layout,m=d.get("symbol-sort-key"),_=d.get("symbol-z-order");this.canOverlap=e_(d,"text-overlap","text-allow-overlap")!=="never"||e_(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=_!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(_==="viewport-y"||_==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(v=>u.WritingMode[v])),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=r.sourceID}createArrays(){this.text=new Y0(new Il(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new Y0(new Il(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new st,this.lineVertexArray=new Xe,this.symbolInstances=new Ae}calculateGlyphDependencies(r,l,d,m,_){for(let v=0;v<r.length;v++)if(l[r.charCodeAt(v)]=!0,(d||m)&&_){const S=rd[r.charAt(v)];S&&(l[S.charCodeAt(0)]=!0)}}populate(r,l,d){const m=this.layers[0],_=m.layout,v=_.get("text-font"),S=_.get("text-field"),k=_.get("icon-image"),A=(S.value.kind!=="constant"||S.value.value instanceof ee&&!S.value.value.isEmpty()||S.value.value.toString().length>0)&&(v.value.kind!=="constant"||v.value.value.length>0),R=k.value.kind!=="constant"||!!k.value.value||Object.keys(k.parameters).length>0,O=_.get("symbol-sort-key");if(this.features=[],!A&&!R)return;const $=l.iconDependencies,G=l.glyphDependencies,q=l.availableImages,re=new An(this.zoom);for(const{feature:ie,id:ye,index:be,sourceLayerIndex:we}of r){const Pe=m._featureFilter.needGeometry,Re=Ml(ie,Pe);if(!m._featureFilter.filter(re,Re,d))continue;let ze,ot;if(Pe||(Re.geometry=Al(ie)),A){const Ke=m.getValueAndResolveTokens("text-field",Re,d,q),Ye=ee.factory(Ke);Uz(Ye)&&(this.hasRTLText=!0),(!this.hasRTLText||Uh()==="unavailable"||this.hasRTLText&&$i.isParsed())&&(ze=gz(Ye,m,Re))}if(R){const Ke=m.getValueAndResolveTokens("icon-image",Re,d,q);ot=Ke instanceof ce?Ke:ce.fromString(Ke)}if(!ze&&!ot)continue;const pt=this.sortFeaturesByKey?O.evaluate(Re,{},d):void 0;if(this.features.push({id:ye,text:ze,icon:ot,index:be,sourceLayerIndex:we,geometry:Re.geometry,properties:ie.properties,type:Nz[ie.type],sortKey:pt}),ot&&($[ot.name]=!0),ze){const Ke=v.evaluate(Re,{},d).join(","),Ye=_.get("text-rotation-alignment")!=="viewport"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.WritingMode.vertical)>=0;for(const qe of ze.sections)if(qe.image)$[qe.image.name]=!0;else{const rt=$h(ze.toString()),Je=qe.fontStack||Ke,$e=G[Je]=G[Je]||{};this.calculateGlyphDependencies(qe.text,$e,Ye,this.allowVerticalPlacement,rt)}}}_.get("symbol-placement")==="line"&&(this.features=function(ie){const ye={},be={},we=[];let Pe=0;function Re(Ke){we.push(ie[Ke]),Pe++}function ze(Ke,Ye,qe){const rt=be[Ke];return delete be[Ke],be[Ye]=rt,we[rt].geometry[0].pop(),we[rt].geometry[0]=we[rt].geometry[0].concat(qe[0]),rt}function ot(Ke,Ye,qe){const rt=ye[Ye];return delete ye[Ye],ye[Ke]=rt,we[rt].geometry[0].shift(),we[rt].geometry[0]=qe[0].concat(we[rt].geometry[0]),rt}function pt(Ke,Ye,qe){const rt=qe?Ye[0][Ye[0].length-1]:Ye[0][0];return`${Ke}:${rt.x}:${rt.y}`}for(let Ke=0;Ke<ie.length;Ke++){const Ye=ie[Ke],qe=Ye.geometry,rt=Ye.text?Ye.text.toString():null;if(!rt){Re(Ke);continue}const Je=pt(rt,qe),$e=pt(rt,qe,!0);if(Je in be&&$e in ye&&be[Je]!==ye[$e]){const St=ot(Je,$e,qe),_t=ze(Je,$e,we[St].geometry);delete ye[Je],delete be[$e],be[pt(rt,we[_t].geometry,!0)]=_t,we[St].geometry=null}else Je in be?ze(Je,$e,qe):$e in ye?ot(Je,$e,qe):(Re(Ke),ye[Je]=Pe-1,be[$e]=Pe-1)}return we.filter(Ke=>Ke.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ie,ye)=>ie.sortKey-ye.sortKey)}update(r,l,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,l,this.layers,d),this.icon.programConfigurations.updatePaintArrays(r,l,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,l){const d=this.lineVertexArray.length;if(r.segment!==void 0){let m=r.dist(l[r.segment+1]),_=r.dist(l[r.segment]);const v={};for(let S=r.segment+1;S<l.length;S++)v[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:m},S<l.length-1&&(m+=l[S+1].dist(l[S]));for(let S=r.segment||0;S>=0;S--)v[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:_},S>0&&(_+=l[S-1].dist(l[S]));for(let S=0;S<l.length;S++){const k=v[S];this.lineVertexArray.emplaceBack(k.x,k.y,k.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(r,l,d,m,_,v,S,k,A,R,O,$){const G=r.indexArray,q=r.layoutVertexArray,re=r.segments.prepareSegment(4*l.length,q,G,this.canOverlap?v.sortKey:void 0),ie=this.glyphOffsetArray.length,ye=re.vertexLength,be=this.allowVerticalPlacement&&S===u.WritingMode.vertical?Math.PI/2:0,we=v.text&&v.text.sections;for(let Pe=0;Pe<l.length;Pe++){const{tl:Re,tr:ze,bl:ot,br:pt,tex:Ke,pixelOffsetTL:Ye,pixelOffsetBR:qe,minFontScaleX:rt,minFontScaleY:Je,glyphOffset:$e,isSDF:St,sectionIndex:_t}=l[Pe],Wt=re.vertexLength,ln=$e[1];Fp(q,k.x,k.y,Re.x,ln+Re.y,Ke.x,Ke.y,d,St,Ye.x,Ye.y,rt,Je),Fp(q,k.x,k.y,ze.x,ln+ze.y,Ke.x+Ke.w,Ke.y,d,St,qe.x,Ye.y,rt,Je),Fp(q,k.x,k.y,ot.x,ln+ot.y,Ke.x,Ke.y+Ke.h,d,St,Ye.x,qe.y,rt,Je),Fp(q,k.x,k.y,pt.x,ln+pt.y,Ke.x+Ke.w,Ke.y+Ke.h,d,St,qe.x,qe.y,rt,Je),K0(r.dynamicLayoutVertexArray,k,be),G.emplaceBack(Wt,Wt+1,Wt+2),G.emplaceBack(Wt+1,Wt+2,Wt+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack($e[0]),Pe!==l.length-1&&_t===l[Pe+1].sectionIndex||r.programConfigurations.populatePaintArrays(q.length,v,v.index,{},$,we&&we[_t])}r.placedSymbolArray.emplaceBack(k.x,k.y,ie,this.glyphOffsetArray.length-ie,ye,A,R,k.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],S,0,!1,0,O)}_addCollisionDebugVertex(r,l,d,m,_,v){return l.emplaceBack(0,0),r.emplaceBack(d.x,d.y,m,_,Math.round(v.x),Math.round(v.y))}addCollisionDebugVertices(r,l,d,m,_,v,S){const k=_.segments.prepareSegment(4,_.layoutVertexArray,_.indexArray),A=k.vertexLength,R=_.layoutVertexArray,O=_.collisionVertexArray,$=S.anchorX,G=S.anchorY;this._addCollisionDebugVertex(R,O,v,$,G,new tt(r,l)),this._addCollisionDebugVertex(R,O,v,$,G,new tt(d,l)),this._addCollisionDebugVertex(R,O,v,$,G,new tt(d,m)),this._addCollisionDebugVertex(R,O,v,$,G,new tt(r,m)),k.vertexLength+=4;const q=_.indexArray;q.emplaceBack(A,A+1),q.emplaceBack(A+1,A+2),q.emplaceBack(A+2,A+3),q.emplaceBack(A+3,A),k.primitiveLength+=4}addDebugCollisionBoxes(r,l,d,m){for(let _=r;_<l;_++){const v=this.collisionBoxArray.get(_);this.addCollisionDebugVertices(v.x1,v.y1,v.x2,v.y2,m?this.textCollisionBox:this.iconCollisionBox,v.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new J0(Vi,Ob.members,ko),this.iconCollisionBox=new J0(Vi,Ob.members,ko);for(let r=0;r<this.symbolInstances.length;r++){const l=this.symbolInstances.get(r);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(r,l,d,m,_,v,S,k,A){const R={};for(let O=l;O<d;O++){const $=r.get(O);R.textBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},R.textFeatureIndex=$.featureIndex;break}for(let O=m;O<_;O++){const $=r.get(O);R.verticalTextBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},R.verticalTextFeatureIndex=$.featureIndex;break}for(let O=v;O<S;O++){const $=r.get(O);R.iconBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},R.iconFeatureIndex=$.featureIndex;break}for(let O=k;O<A;O++){const $=r.get(O);R.verticalIconBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},R.verticalIconFeatureIndex=$.featureIndex;break}return R}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,l){const d=r.placedSymbolArray.get(l),m=d.vertexStartIndex+4*d.numGlyphs;for(let _=d.vertexStartIndex;_<m;_+=4)r.indexArray.emplaceBack(_,_+1,_+2),r.indexArray.emplaceBack(_+1,_+2,_+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(r),d=Math.cos(r),m=[],_=[],v=[];for(let S=0;S<this.symbolInstances.length;++S){v.push(S);const k=this.symbolInstances.get(S);m.push(0|Math.round(l*k.anchorX+d*k.anchorY)),_.push(k.featureIndex)}return v.sort((S,k)=>m[S]-m[k]||_[k]-_[S]),v}addToSortKeyRanges(r,l){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const d=this.symbolInstances.get(l);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((m,_,v)=>{m>=0&&v.indexOf(m)===_&&this.addIndicesForPlacedSymbol(this.text,m)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}it("SymbolBucket",Xu,{omit:["layers","collisionBoxArray","features","compareText"]}),Xu.MAX_GLYPHS=65535,Xu.addDynamicAttributes=K0;const Gz=new gr({"symbol-placement":new ht(ve.layout_symbol["symbol-placement"]),"symbol-spacing":new ht(ve.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ht(ve.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new bt(ve.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ht(ve.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ht(ve.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ht(ve.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ht(ve.layout_symbol["icon-ignore-placement"]),"icon-optional":new ht(ve.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ht(ve.layout_symbol["icon-rotation-alignment"]),"icon-size":new bt(ve.layout_symbol["icon-size"]),"icon-text-fit":new ht(ve.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ht(ve.layout_symbol["icon-text-fit-padding"]),"icon-image":new bt(ve.layout_symbol["icon-image"]),"icon-rotate":new bt(ve.layout_symbol["icon-rotate"]),"icon-padding":new ht(ve.layout_symbol["icon-padding"]),"icon-keep-upright":new ht(ve.layout_symbol["icon-keep-upright"]),"icon-offset":new bt(ve.layout_symbol["icon-offset"]),"icon-anchor":new bt(ve.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ht(ve.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ht(ve.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ht(ve.layout_symbol["text-rotation-alignment"]),"text-field":new bt(ve.layout_symbol["text-field"]),"text-font":new bt(ve.layout_symbol["text-font"]),"text-size":new bt(ve.layout_symbol["text-size"]),"text-max-width":new bt(ve.layout_symbol["text-max-width"]),"text-line-height":new ht(ve.layout_symbol["text-line-height"]),"text-letter-spacing":new bt(ve.layout_symbol["text-letter-spacing"]),"text-justify":new bt(ve.layout_symbol["text-justify"]),"text-radial-offset":new bt(ve.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ht(ve.layout_symbol["text-variable-anchor"]),"text-anchor":new bt(ve.layout_symbol["text-anchor"]),"text-max-angle":new ht(ve.layout_symbol["text-max-angle"]),"text-writing-mode":new ht(ve.layout_symbol["text-writing-mode"]),"text-rotate":new bt(ve.layout_symbol["text-rotate"]),"text-padding":new ht(ve.layout_symbol["text-padding"]),"text-keep-upright":new ht(ve.layout_symbol["text-keep-upright"]),"text-transform":new bt(ve.layout_symbol["text-transform"]),"text-offset":new bt(ve.layout_symbol["text-offset"]),"text-allow-overlap":new ht(ve.layout_symbol["text-allow-overlap"]),"text-overlap":new ht(ve.layout_symbol["text-overlap"]),"text-ignore-placement":new ht(ve.layout_symbol["text-ignore-placement"]),"text-optional":new ht(ve.layout_symbol["text-optional"])});var Q0={paint:new gr({"icon-opacity":new bt(ve.paint_symbol["icon-opacity"]),"icon-color":new bt(ve.paint_symbol["icon-color"]),"icon-halo-color":new bt(ve.paint_symbol["icon-halo-color"]),"icon-halo-width":new bt(ve.paint_symbol["icon-halo-width"]),"icon-halo-blur":new bt(ve.paint_symbol["icon-halo-blur"]),"icon-translate":new ht(ve.paint_symbol["icon-translate"]),"icon-translate-anchor":new ht(ve.paint_symbol["icon-translate-anchor"]),"text-opacity":new bt(ve.paint_symbol["text-opacity"]),"text-color":new bt(ve.paint_symbol["text-color"],{runtimeType:Ur,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new bt(ve.paint_symbol["text-halo-color"]),"text-halo-width":new bt(ve.paint_symbol["text-halo-width"]),"text-halo-blur":new bt(ve.paint_symbol["text-halo-blur"]),"text-translate":new ht(ve.paint_symbol["text-translate"]),"text-translate-anchor":new ht(ve.paint_symbol["text-translate-anchor"])}),layout:Gz};class l2{constructor(r){this.type=r.property.overrides?r.property.overrides.runtimeType:pn,this.defaultValue=r}evaluate(r){if(r.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(r.formattedSection))return l.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}it("FormatSectionOverride",l2,{omit:["defaultValue"]});class $p extends ii{constructor(r){super(r,Q0)}recalculate(r,l){if(super.recalculate(r,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const d=this.layout.get("text-writing-mode");if(d){const m=[];for(const _ of d)m.indexOf(_)<0&&m.push(_);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(r,l,d,m){const _=this.layout.get(r).evaluate(l,{},d,m),v=this._unevaluatedLayout._values[r];return v.isDataDriven()||bu(v.value)||!_?_:function(S,k){return k.replace(/{([^{}]+)}/g,(A,R)=>R in S?String(S[R]):"")}(l.properties,_)}createBucket(r){return new Xu(r)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const r of Q0.paint.overridableProperties){if(!$p.hasPaintOverride(this.layout,r))continue;const l=this.paint.get(r),d=new l2(l),m=new zh(d,l.property.specification);let _=null;_=l.value.kind==="constant"||l.value.kind==="source"?new Eu("source",m):new ku("composite",m,l.value.zoomStops,l.value._interpolationType),this.paint._values[r]=new Eo(l.property,_,l.parameters)}}_handleOverridablePaintPropertyUpdate(r,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven())&&$p.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,l){const d=r.get("text-field"),m=Q0.paint.properties[l];let _=!1;const v=S=>{for(const k of S)if(m.overrides&&m.overrides.hasOverride(k))return void(_=!0)};if(d.value.kind==="constant"&&d.value.value instanceof ee)v(d.value.value.sections);else if(d.value.kind==="source"){const S=A=>{_||(A instanceof De&&he(A.value)===Ji?v(A.value.sections):A instanceof dt?v(A.sections):A.eachChild(S))},k=d.value;k._styleExpression&&S(k._styleExpression.expression)}return _}}function e_(a,r,l){let d="never";const m=a.get(r);return m?d=m:a.get(l)&&(d="always"),d}var Wz={paint:new gr({"background-color":new ht(ve.paint_background["background-color"]),"background-pattern":new Cl(ve.paint_background["background-pattern"]),"background-opacity":new ht(ve.paint_background["background-opacity"])})},qz={paint:new gr({"raster-opacity":new ht(ve.paint_raster["raster-opacity"]),"raster-hue-rotate":new ht(ve.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ht(ve.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ht(ve.paint_raster["raster-brightness-max"]),"raster-saturation":new ht(ve.paint_raster["raster-saturation"]),"raster-contrast":new ht(ve.paint_raster["raster-contrast"]),"raster-resampling":new ht(ve.paint_raster["raster-resampling"]),"raster-fade-duration":new ht(ve.paint_raster["raster-fade-duration"])})};class Zz extends ii{constructor(r){super(r,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}}const Hz={circle:class extends ii{constructor(a){super(a,CM)}createBucket(a){return new C0(a)}queryRadius(a){const r=a;return Hh("circle-radius",this,r)+Hh("circle-stroke-width",this,r)+bp(this.paint.get("circle-translate"))}queryIntersectsFeature(a,r,l,d,m,_,v,S){const k=Sp(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),_.angle,v),A=this.paint.get("circle-radius").evaluate(r,l)+this.paint.get("circle-stroke-width").evaluate(r,l),R=this.paint.get("circle-pitch-alignment")==="map",O=R?k:function(G,q){return G.map(re=>_b(re,q))}(k,S),$=R?A*v:A;for(const G of d)for(const q of G){const re=R?q:_b(q,S);let ie=$;const ye=Ep([],[q.x,q.y,0,1],S);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ie*=ye[3]/_.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ie*=_.cameraToCenterDistance/ye[3]),wM(O,re,ie))return!0}return!1}},heatmap:class extends ii{constructor(a){super(a,PM),this._updateColorRamp()}createBucket(a){return new vb(a)}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=wb({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends ii{constructor(a){super(a,IM)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends ii{constructor(a){super(a,WM)}recalculate(a,r){super.recalculate(a,r);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new B0(a)}queryRadius(){return bp(this.paint.get("fill-translate"))}queryIntersectsFeature(a,r,l,d,m,_,v){return pb(Sp(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),_.angle,v),d)}isTileClipped(){return!0}},"fill-extrusion":class extends ii{constructor(a){super(a,iz)}createBucket(a){return new N0(a)}queryRadius(){return bp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(a,r,l,d,m,_,v,S){const k=Sp(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),_.angle,v),A=this.paint.get("fill-extrusion-height").evaluate(r,l),R=this.paint.get("fill-extrusion-base").evaluate(r,l),O=function(G,q,re,ie){const ye=[];for(const be of G){const we=[be.x,be.y,0,1];Ep(we,we,q),ye.push(new tt(we[0]/we[3],we[1]/we[3]))}return ye}(k,S),$=function(G,q,re,ie){const ye=[],be=[],we=ie[8]*q,Pe=ie[9]*q,Re=ie[10]*q,ze=ie[11]*q,ot=ie[8]*re,pt=ie[9]*re,Ke=ie[10]*re,Ye=ie[11]*re;for(const qe of G){const rt=[],Je=[];for(const $e of qe){const St=$e.x,_t=$e.y,Wt=ie[0]*St+ie[4]*_t+ie[12],ln=ie[1]*St+ie[5]*_t+ie[13],zn=ie[2]*St+ie[6]*_t+ie[14],Dn=ie[3]*St+ie[7]*_t+ie[15],Or=zn+Re,ur=Dn+ze,cr=Wt+ot,wr=ln+pt,Fr=zn+Ke,Wr=Dn+Ye,xi=new tt((Wt+we)/ur,(ln+Pe)/ur);xi.z=Or/ur,rt.push(xi);const hr=new tt(cr/Wr,wr/Wr);hr.z=Fr/Wr,Je.push(hr)}ye.push(rt),be.push(Je)}return[ye,be]}(d,R,A,S);return function(G,q,re){let ie=1/0;pb(re,q)&&(ie=Mb(re,q[0]));for(let ye=0;ye<q.length;ye++){const be=q[ye],we=G[ye];for(let Pe=0;Pe<be.length-1;Pe++){const Re=be[Pe],ze=[Re,be[Pe+1],we[Pe+1],we[Pe],Re];fb(re,ze)&&(ie=Math.min(ie,Mb(re,ze)))}}return ie!==1/0&&ie}($[0],$[1],O)}},line:class extends ii{constructor(a){super(a,Db),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){a==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof fl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,r){super.recalculate(a,r),this.paint._values["line-floorwidth"]=Rb.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new j0(a)}queryRadius(a){const r=a,l=Lb(Hh("line-width",this,r),Hh("line-gap-width",this,r)),d=Hh("line-offset",this,r);return l/2+Math.abs(d)+bp(this.paint.get("line-translate"))}queryIntersectsFeature(a,r,l,d,m,_,v){const S=Sp(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),_.angle,v),k=v/2*Lb(this.paint.get("line-width").evaluate(r,l),this.paint.get("line-gap-width").evaluate(r,l)),A=this.paint.get("line-offset").evaluate(r,l);return A&&(d=function(R,O){const $=[];for(let G=0;G<R.length;G++){const q=R[G],re=[];for(let ie=0;ie<q.length;ie++){const ye=q[ie-1],be=q[ie],we=q[ie+1],Pe=ie===0?new tt(0,0):be.sub(ye)._unit()._perp(),Re=ie===q.length-1?new tt(0,0):we.sub(be)._unit()._perp(),ze=Pe._add(Re)._unit(),ot=ze.x*Re.x+ze.y*Re.y;ot!==0&&ze._mult(1/ot),re.push(ze._mult(O)._add(be))}$.push(re)}return $}(d,A*v)),function(R,O,$){for(let G=0;G<O.length;G++){const q=O[G];if(R.length>=3){for(let re=0;re<q.length;re++)if(Nu(R,q[re]))return!0}if(bM(R,q,$))return!0}return!1}(S,d,k)}isTileClipped(){return!0}},symbol:$p,background:class extends ii{constructor(a){super(a,Wz)}},raster:class extends ii{constructor(a){super(a,qz)}}};class Xz{constructor(r){this._callback=r,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const u2=63710088e-1;class Hn{constructor(r,l){if(isNaN(r)||isNaN(l))throw new Error(`Invalid LngLat object: (${r}, ${l})`);if(this.lng=+r,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Hn(N(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const l=Math.PI/180,d=this.lat*l,m=r.lat*l,_=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((r.lng-this.lng)*l);return u2*Math.acos(Math.min(_,1))}toBounds(r=0){const l=360*r/40075017,d=l/Math.cos(Math.PI/180*this.lat);return new zl(new Hn(this.lng-d,this.lat-l),new Hn(this.lng+d,this.lat+l))}static convert(r){if(r instanceof Hn)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new Hn(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new Hn(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class zl{constructor(r,l){r&&(l?this.setSouthWest(r).setNorthEast(l):r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))}setNorthEast(r){return this._ne=r instanceof Hn?new Hn(r.lng,r.lat):Hn.convert(r),this}setSouthWest(r){return this._sw=r instanceof Hn?new Hn(r.lng,r.lat):Hn.convert(r),this}extend(r){const l=this._sw,d=this._ne;let m,_;if(r instanceof Hn)m=r,_=r;else{if(!(r instanceof zl))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(zl.convert(r)):this.extend(Hn.convert(r)):this;if(m=r._sw,_=r._ne,!m||!_)return this}return l||d?(l.lng=Math.min(m.lng,l.lng),l.lat=Math.min(m.lat,l.lat),d.lng=Math.max(_.lng,d.lng),d.lat=Math.max(_.lat,d.lat)):(this._sw=new Hn(m.lng,m.lat),this._ne=new Hn(_.lng,_.lat)),this}getCenter(){return new Hn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Hn(this.getWest(),this.getNorth())}getSouthEast(){return new Hn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:l,lat:d}=Hn.convert(r);let m=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&m}static convert(r){return r instanceof zl?r:r&&new zl(r)}}const c2=2*Math.PI*u2;function h2(a){return c2*Math.cos(a*Math.PI/180)}function d2(a){return(180+a)/360}function f2(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function p2(a,r){return a/h2(r)}function t_(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}class Bp{constructor(r,l,d=0){this.x=+r,this.y=+l,this.z=+d}static fromLngLat(r,l=0){const d=Hn.convert(r);return new Bp(d2(d.lng),f2(d.lat),p2(l,d.lat))}toLngLat(){return new Hn(360*this.x-180,t_(this.y))}toAltitude(){return this.z*h2(t_(this.y))}meterInMercatorCoordinateUnits(){return 1/c2*(r=t_(this.y),1/Math.cos(r*Math.PI/180));var r}}function m2(a,r,l){var d=2*Math.PI*6378137/256/Math.pow(2,l);return[a*d-2*Math.PI*6378137/2,r*d-2*Math.PI*6378137/2]}class n_{constructor(r,l,d){this.z=r,this.x=l,this.y=d,this.key=od(0,r,r,l,d)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,l,d){const m=(v=this.y,S=this.z,k=m2(256*(_=this.x),256*(v=Math.pow(2,S)-v-1),S),A=m2(256*(_+1),256*(v+1),S),k[0]+","+k[1]+","+A[0]+","+A[1]);var _,v,S,k,A;const R=function(O,$,G){let q,re="";for(let ie=O;ie>0;ie--)q=1<<ie-1,re+=($&q?1:0)+(G&q?2:0);return re}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,R).replace(/{bbox-epsg-3857}/g,m)}getTilePoint(r){const l=Math.pow(2,this.z);return new tt((r.x*l-this.x)*_r,(r.y*l-this.y)*_r)}toString(){return`${this.z}/${this.x}/${this.y}`}}class g2{constructor(r,l){this.wrap=r,this.canonical=l,this.key=od(r,l.z,l.z,l.x,l.y)}}class Po{constructor(r,l,d,m,_){this.overscaledZ=r,this.wrap=l,this.canonical=new n_(d,+m,+_),this.key=od(l,r,d,m,_)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){const l=this.canonical.z-r;return r>this.canonical.z?new Po(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Po(r,this.wrap,r,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(r,l){const d=this.canonical.z-r;return r>this.canonical.z?od(this.wrap*+l,r,this.canonical.z,this.canonical.x,this.canonical.y):od(this.wrap*+l,r,r,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(r){if(r.wrap!==this.wrap)return!1;const l=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>l&&r.canonical.y===this.canonical.y>>l}children(r){if(this.overscaledZ>=r)return[new Po(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new Po(l,this.wrap,l,d,m),new Po(l,this.wrap,l,d+1,m),new Po(l,this.wrap,l,d,m+1),new Po(l,this.wrap,l,d+1,m+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new Po(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new Po(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new g2(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(r){return this.canonical.getTilePoint(new Bp(r.x-this.wrap,r.y))}}function od(a,r,l,d,m){(a*=2)<0&&(a=-1*a-1);const _=1<<l;return(_*_*a+_*m+d).toString(36)+l.toString(36)+r.toString(36)}it("CanonicalTileID",n_),it("OverscaledTileID",Po,{omit:["posMatrix"]});class y2{constructor(r,l,d){if(this.uid=r,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return void oe(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const m=this.dim=l.height-2;this.data=new Uint32Array(l.data.buffer),this.encoding=d||"mapbox";for(let _=0;_<m;_++)this.data[this._idx(-1,_)]=this.data[this._idx(0,_)],this.data[this._idx(m,_)]=this.data[this._idx(m-1,_)],this.data[this._idx(_,-1)]=this.data[this._idx(_,0)],this.data[this._idx(_,m)]=this.data[this._idx(_,m-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(m,-1)]=this.data[this._idx(m-1,0)],this.data[this._idx(-1,m)]=this.data[this._idx(0,m-1)],this.data[this._idx(m,m)]=this.data[this._idx(m-1,m-1)]}get(r,l){const d=new Uint8Array(this.data.buffer),m=4*this._idx(r,l);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(d[m],d[m+1],d[m+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(r,l){if(r<-1||r>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(r+1)}_unpackMapbox(r,l,d){return(256*r*256+256*l+d)/10-1e4}_unpackTerrarium(r,l,d){return 256*r+l+d/256-32768}getPixels(){return new no({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(r,l,d){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,_=l*this.dim+this.dim,v=d*this.dim,S=d*this.dim+this.dim;switch(l){case-1:m=_-1;break;case 1:_=m+1}switch(d){case-1:v=S-1;break;case 1:S=v+1}const k=-l*this.dim,A=-d*this.dim;for(let R=v;R<S;R++)for(let O=m;O<_;O++)this.data[this._idx(O,R)]=r.data[this._idx(O+k,R+A)]}}it("DEMData",y2);class _2{constructor(r){this._stringToNumber={},this._numberToString=[];for(let l=0;l<r.length;l++){const d=r[l];this._stringToNumber[d]=l,this._numberToString[l]=d}}encode(r){return this._stringToNumber[r]}decode(r){return this._numberToString[r]}}class v2{constructor(r,l,d,m,_){this.type="Feature",this._vectorTileFeature=r,r._z=l,r._x=d,r._y=m,this.properties=r.properties,this.id=_}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={geometry:this.geometry};for(const l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&(r[l]=this[l]);return r}}class x2{constructor(r,l){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new Ma(_r,16,0),this.grid3D=new Ma(_r,16,0),this.featureIndexArray=new Zt,this.promoteId=l}insert(r,l,d,m,_,v){const S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,_);const k=v?this.grid3D:this.grid;for(let A=0;A<l.length;A++){const R=l[A],O=[1/0,1/0,-1/0,-1/0];for(let $=0;$<R.length;$++){const G=R[$];O[0]=Math.min(O[0],G.x),O[1]=Math.min(O[1],G.y),O[2]=Math.max(O[2],G.x),O[3]=Math.max(O[3],G.y)}O[0]<_r&&O[1]<_r&&O[2]>=0&&O[3]>=0&&k.insert(S,O[0],O[1],O[2],O[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ps.VectorTile(new U0(this.rawTileData)).layers,this.sourceLayerCoder=new _2(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(r,l,d,m){this.loadVTLayers();const _=r.params||{},v=_r/r.tileSize/r.scale,S=Pu(_.filter),k=r.queryGeometry,A=r.queryPadding*v,R=b2(k),O=this.grid.query(R.minX-A,R.minY-A,R.maxX+A,R.maxY+A),$=b2(r.cameraQueryGeometry),G=this.grid3D.query($.minX-A,$.minY-A,$.maxX+A,$.maxY+A,(ie,ye,be,we)=>function(Pe,Re,ze,ot,pt){for(const Ye of Pe)if(Re<=Ye.x&&ze<=Ye.y&&ot>=Ye.x&&pt>=Ye.y)return!0;const Ke=[new tt(Re,ze),new tt(Re,pt),new tt(ot,pt),new tt(ot,ze)];if(Pe.length>2){for(const Ye of Ke)if(Nu(Pe,Ye))return!0}for(let Ye=0;Ye<Pe.length-1;Ye++)if(EM(Pe[Ye],Pe[Ye+1],Ke))return!0;return!1}(r.cameraQueryGeometry,ie-A,ye-A,be+A,we+A));for(const ie of G)O.push(ie);O.sort(Kz);const q={};let re;for(let ie=0;ie<O.length;ie++){const ye=O[ie];if(ye===re)continue;re=ye;const be=this.featureIndexArray.get(ye);let we=null;this.loadMatchingFeature(q,be.bucketIndex,be.sourceLayerIndex,be.featureIndex,S,_.layers,_.availableImages,l,d,m,(Pe,Re,ze)=>(we||(we=Al(Pe)),Re.queryIntersectsFeature(k,Pe,ze,we,this.z,r.transform,v,r.pixelPosMatrix)))}return q}loadMatchingFeature(r,l,d,m,_,v,S,k,A,R,O){const $=this.bucketLayerIDs[l];if(v&&!function(ie,ye){for(let be=0;be<ie.length;be++)if(ye.indexOf(ie[be])>=0)return!0;return!1}(v,$))return;const G=this.sourceLayerCoder.decode(d),q=this.vtLayers[G].feature(m);if(_.needGeometry){const ie=Ml(q,!0);if(!_.filter(new An(this.tileID.overscaledZ),ie,this.tileID.canonical))return}else if(!_.filter(new An(this.tileID.overscaledZ),q))return;const re=this.getId(q,G);for(let ie=0;ie<$.length;ie++){const ye=$[ie];if(v&&v.indexOf(ye)<0)continue;const be=k[ye];if(!be)continue;let we={};re&&R&&(we=R.getState(be.sourceLayer||"_geojsonTileLayer",re));const Pe=W({},A[ye]);Pe.paint=w2(Pe.paint,be.paint,q,we,S),Pe.layout=w2(Pe.layout,be.layout,q,we,S);const Re=!O||O(q,be,we);if(!Re)continue;const ze=new v2(q,this.z,this.x,this.y,re);ze.layer=Pe;let ot=r[ye];ot===void 0&&(ot=r[ye]=[]),ot.push({featureIndex:m,feature:ze,intersectionZ:Re})}}lookupSymbolFeatures(r,l,d,m,_,v,S,k){const A={};this.loadVTLayers();const R=Pu(_);for(const O of r)this.loadMatchingFeature(A,d,m,O,R,v,S,k,l);return A}hasLayer(r){for(const l of this.bucketLayerIDs)for(const d of l)if(r===d)return!0;return!1}getId(r,l){let d=r.id;return this.promoteId&&(d=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof d=="boolean"&&(d=Number(d))),d}}function w2(a,r,l,d,m){return V(a,(_,v)=>{const S=r instanceof Ou?r.get(v):null;return S&&S.evaluate?S.evaluate(l,d,m):S})}function b2(a){let r=1/0,l=1/0,d=-1/0,m=-1/0;for(const _ of a)r=Math.min(r,_.x),l=Math.min(l,_.y),d=Math.max(d,_.x),m=Math.max(m,_.y);return{minX:r,minY:l,maxX:d,maxY:m}}function Kz(a,r){return r-a}var r_;it("FeatureIndex",x2,{omit:["rawTileData","sourceLayerCoder"]}),u.PerformanceMarkers=void 0,(r_=u.PerformanceMarkers||(u.PerformanceMarkers={})).create="create",r_.load="load",r_.fullLoad="fullLoad";let Vp=null,ad=[];const i_=1e3/30,Yz={mark(a){performance.mark(a)},frame(a){const r=a;Vp!=null&&ad.push(r-Vp),Vp=r},clearMetrics(){Vp=null,ad=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const a in u.PerformanceMarkers)performance.clearMarks(u.PerformanceMarkers[a])},getPerformanceMetrics(){performance.measure("loadTime",u.PerformanceMarkers.create,u.PerformanceMarkers.load),performance.measure("fullLoadTime",u.PerformanceMarkers.create,u.PerformanceMarkers.fullLoad);const a=performance.getEntriesByName("loadTime")[0].duration,r=performance.getEntriesByName("fullLoadTime")[0].duration,l=ad.length,d=1/(ad.reduce((_,v)=>_+v,0)/l/1e3),m=ad.filter(_=>_>i_).reduce((_,v)=>_+(v-i_)/i_,0);return{loadTime:a,fullLoadTime:r,fps:d,percentDroppedFrames:m/(l+m)*100}}};u.AJAXError=Pn,u.ARRAY_TYPE=ju,u.Actor=class{constructor(a,r,l){this.target=a,this.parent=r,this.mapId=l,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},le(["receive","process"],this),this.invoker=new Xz(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=xe()?a:window}send(a,r,l,d,m=!1){const _=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(this.callbacks[_]=l);const v=Ct(this.globalScope)?void 0:[];return this.target.postMessage({id:_,type:a,hasCallback:!!l,targetMapId:d,mustQueue:m,sourceMapId:this.mapId,data:bl(r,v)},v),{cancel:()=>{l&&delete this.callbacks[_],this.target.postMessage({id:_,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(a){const r=a.data,l=r.id;if(l&&(!r.targetMapId||this.mapId===r.targetMapId))if(r.type==="<cancel>"){delete this.tasks[l];const d=this.cancelCallbacks[l];delete this.cancelCallbacks[l],d&&d()}else xe()||r.mustQueue?(this.tasks[l]=r,this.taskQueue.push(l),this.invoker.trigger()):this.processTask(l,r)}process(){if(!this.taskQueue.length)return;const a=this.taskQueue.shift(),r=this.tasks[a];delete this.tasks[a],this.taskQueue.length&&this.invoker.trigger(),r&&this.processTask(a,r)}processTask(a,r){if(r.type==="<response>"){const l=this.callbacks[a];delete this.callbacks[a],l&&(r.error?l(za(r.error)):l(null,za(r.data)))}else{let l=!1;const d=Ct(this.globalScope)?void 0:[],m=r.hasCallback?(S,k)=>{l=!0,delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:S?bl(S):null,data:bl(k,d)},d)}:S=>{l=!0};let _=null;const v=za(r.data);if(this.parent[r.type])_=this.parent[r.type](r.sourceMapId,v,m);else if(this.parent.getWorkerSource){const S=r.type.split(".");_=this.parent.getWorkerSource(r.sourceMapId,S[0],v.source)[S[1]](v,m)}else m(new Error(`Could not find function ${r.type}`));!l&&_&&_.cancel&&(this.cancelCallbacks[a]=_.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},u.AlphaImage=Kh,u.CanonicalTileID=n_,u.CollisionBoxArray=Ee,u.CollisionCircleLayoutArray=class extends D{},u.Color=L,u.DEMData=y2,u.DataConstantProperty=ht,u.DictionaryCoder=_2,u.EXTENT=_r,u.ErrorEvent=on,u.EvaluationParameters=An,u.Event=xt,u.Evented=kn,u.FeatureIndex=x2,u.FillBucket=B0,u.FillExtrusionBucket=N0,u.GeoJSONFeature=v2,u.ImageAtlas=Gb,u.ImagePosition=W0,u.LineBucket=j0,u.LineStripIndexArray=class extends _e{},u.LngLat=Hn,u.LngLatBounds=zl,u.MercatorCoordinate=Bp,u.ONE_EM=Ir,u.OverscaledTileID=Po,u.PerformanceUtils=Yz,u.PosArray=class extends Es{},u.Properties=gr,u.QuadTriangleArray=class extends U{},u.RGBAImage=no,u.RasterBoundsArray=class extends Pl{},u.RequestPerformance=class{constructor(a){this._marks={start:[a.url,"start"].join("#"),end:[a.url,"end"].join("#"),measure:a.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let a=performance.getEntriesByName(this._marks.measure);return a.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),a=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),a}},u.ResourceType=Rn,u.SegmentVector=Jt,u.SymbolBucket=Xu,u.Transitionable=Gh,u.TriangleIndexArray=oi,u.Uniform1f=ks,u.Uniform1i=class extends To{constructor(a,r){super(a,r),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1i(this.location,a))}},u.Uniform2f=class extends To{constructor(a,r){super(a,r),this.current=[0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]||(this.current=a,this.gl.uniform2f(this.location,a[0],a[1]))}},u.Uniform3f=class extends To{constructor(a,r){super(a,r),this.current=[0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]||(this.current=a,this.gl.uniform3f(this.location,a[0],a[1],a[2]))}},u.Uniform4f=lb,u.UniformColor=ub,u.UniformMatrix4f=class extends To{constructor(a,r){super(a,r),this.current=vM}set(a){if(a[12]!==this.current[12]||a[0]!==this.current[0])return this.current=a,void this.gl.uniformMatrix4fv(this.location,!1,a);for(let r=1;r<16;r++)if(a[r]!==this.current[r]){this.current=a,this.gl.uniformMatrix4fv(this.location,!1,a);break}}},u.UnwrappedTileID=g2,u.ValidationError=je,u.ZoomHistory=Sl,u.addDynamicAttributes=K0,u.asyncAll=function(a,r,l){if(!a.length)return l(null,[]);let d=a.length;const m=new Array(a.length);let _=null;a.forEach((v,S)=>{r(v,(k,A)=>{k&&(_=k),m[S]=A,--d==0&&l(_,m)})})},u.bezier=C,u.bindAll=le,u.cacheEntryPossiblyAdded=function(a){Jn++,Jn>mn&&(a.getActor().send("enforceCacheSizeLimit",ct),Jn=0)},u.clamp=T,u.clearTileCache=function(a){const r=caches.delete(nt);a&&r.catch(a).then(()=>a())},u.clipLine=n2,u.clone=function(a){var r=new ju(16);return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r},u.clone$1=Y,u.collisionCircleLayout=mz,u.config=Ne,u.create=function(){var a=new ju(16);return ju!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},u.createExpression=Su,u.createFilter=Pu,u.createLayout=yr,u.createStyleLayer=function(a){return a.type==="custom"?new Zz(a):new Hz[a.type](a)},u.dot=function(a,r){return a[0]*r[0]+a[1]*r[1]+a[2]*r[2]+a[3]*r[3]},u.ease=M,u.emitValidationErrors=dp,u.enforceCacheSizeLimit=function(a){rn(),ut&&ut.then(r=>{r.keys().then(l=>{for(let d=0;d<l.length-a;d++)r.delete(l[d])})})},u.evaluateSizeForFeature=function(a,{uSize:r,uSizeT:l},{lowerSize:d,upperSize:m}){return a.kind==="source"?d/Ba:a.kind==="composite"?sr(d/Ba,m/Ba,l):r},u.evaluateSizeForZoom=function(a,r){let l=0,d=0;if(a.kind==="constant")d=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:m,minZoom:_,maxZoom:v}=a,S=m?T(gi.interpolationFactor(m,r,_,v),0,1):0;a.kind==="camera"?d=sr(a.minSize,a.maxSize,S):l=S}return{uSizeT:l,uSize:d}},u.evaluateVariableOffset=o2,u.evented=Ss,u.exported=jt,u.exported$1=Ht,u.extend=W,u.filterObject=B,u.getAnchorAlignment=Z0,u.getAnchorJustification=X0,u.getArrayBuffer=fr,u.getImage=jo,u.getJSON=function(a,r){return Oi(W(a,{type:"json"}),r)},u.getOverlapMode=e_,u.getRTLTextPluginStatus=Uh,u.getReferrer=jr,u.getVideo=function(a,r){const l=window.document.createElement("video");l.muted=!0,l.onloadstart=function(){r(null,l)};for(let d=0;d<a.length;d++){const m=window.document.createElement("source");So(a[d])||(l.crossOrigin="Anonymous"),m.src=a[d],l.appendChild(m)}return{cancel:()=>{}}},u.identity=I0,u.invert=function(a,r){var l=r[0],d=r[1],m=r[2],_=r[3],v=r[4],S=r[5],k=r[6],A=r[7],R=r[8],O=r[9],$=r[10],G=r[11],q=r[12],re=r[13],ie=r[14],ye=r[15],be=l*S-d*v,we=l*k-m*v,Pe=l*A-_*v,Re=d*k-m*S,ze=d*A-_*S,ot=m*A-_*k,pt=R*re-O*q,Ke=R*ie-$*q,Ye=R*ye-G*q,qe=O*ie-$*re,rt=O*ye-G*re,Je=$*ye-G*ie,$e=be*Je-we*rt+Pe*qe+Re*Ye-ze*Ke+ot*pt;return $e?(a[0]=(S*Je-k*rt+A*qe)*($e=1/$e),a[1]=(m*rt-d*Je-_*qe)*$e,a[2]=(re*ot-ie*ze+ye*Re)*$e,a[3]=($*ze-O*ot-G*Re)*$e,a[4]=(k*Ye-v*Je-A*Ke)*$e,a[5]=(l*Je-m*Ye+_*Ke)*$e,a[6]=(ie*Pe-q*ot-ye*we)*$e,a[7]=(R*ot-$*Pe+G*we)*$e,a[8]=(v*rt-S*Ye+A*pt)*$e,a[9]=(d*Ye-l*rt-_*pt)*$e,a[10]=(q*ze-re*Pe+ye*be)*$e,a[11]=(O*Pe-R*ze-G*be)*$e,a[12]=(S*Ke-v*qe-k*pt)*$e,a[13]=(l*qe-d*Ke+m*pt)*$e,a[14]=(re*we-q*Re-ie*be)*$e,a[15]=(R*Re-O*we+$*be)*$e,a):null},u.isImageBitmap=Et,u.isSafari=Ct,u.keysDifference=function(a,r){const l=[];for(const d in a)d in r||l.push(d);return l},u.lazyLoadRTLTextPlugin=function(){$i.isLoading()||$i.isLoaded()||Uh()!=="deferred"||Du()},u.makeRequest=Oi,u.mapObject=V,u.mercatorXfromLng=d2,u.mercatorYfromLat=f2,u.mercatorZfromAltitude=p2,u.mul=TM,u.multiply=yb,u.nextPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},u.number=sr,u.ortho=function(a,r,l,d,m,_,v){var S=1/(r-l),k=1/(d-m),A=1/(_-v);return a[0]=-2*S,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*k,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*A,a[11]=0,a[12]=(r+l)*S,a[13]=(m+d)*k,a[14]=(v+_)*A,a[15]=1,a},u.parseCacheControl=Be,u.parseGlyphPBF=function(a){return new U0(a).readFields(Cz,[])},u.pbf=U0,u.performSymbolLayout=function(a,r,l,d,m,_,v){a.createArrays(),a.tilePixelRatio=_r/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const S=a.layers[0].layout,k=a.layers[0]._unevaluatedLayout._values,A={layoutIconSize:k["icon-size"].possiblyEvaluate(new An(a.zoom+1),v),layoutTextSize:k["text-size"].possiblyEvaluate(new An(a.zoom+1),v),textMaxSize:k["text-size"].possiblyEvaluate(new An(18))};if(a.textSizeData.kind==="composite"){const{minZoom:q,maxZoom:re}=a.textSizeData;A.compositeTextSizes=[k["text-size"].possiblyEvaluate(new An(q),v),k["text-size"].possiblyEvaluate(new An(re),v)]}if(a.iconSizeData.kind==="composite"){const{minZoom:q,maxZoom:re}=a.iconSizeData;A.compositeIconSizes=[k["icon-size"].possiblyEvaluate(new An(q),v),k["icon-size"].possiblyEvaluate(new An(re),v)]}const R=S.get("text-line-height")*Ir,O=S.get("text-rotation-alignment")!=="viewport"&&S.get("symbol-placement")!=="point",$=S.get("text-keep-upright"),G=S.get("text-size");for(const q of a.features){const re=S.get("text-font").evaluate(q,{},v).join(","),ie=G.evaluate(q,{},v),ye=A.layoutTextSize.evaluate(q,{},v),be=A.layoutIconSize.evaluate(q,{},v),we={horizontal:{},vertical:void 0},Pe=q.text;let Re,ze=[0,0];if(Pe){const Ke=Pe.toString(),Ye=S.get("text-letter-spacing").evaluate(q,{},v)*Ir,qe=fp(Ke)?Ye:0,rt=S.get("text-anchor").evaluate(q,{},v),Je=S.get("text-variable-anchor");if(!Je){const ln=S.get("text-radial-offset").evaluate(q,{},v);ze=ln?o2(rt,[ln*Ir,H0]):S.get("text-offset").evaluate(q,{},v).map(zn=>zn*Ir)}let $e=O?"center":S.get("text-justify").evaluate(q,{},v);const St=S.get("symbol-placement"),_t=St==="point"?S.get("text-max-width").evaluate(q,{},v)*Ir:0,Wt=()=>{a.allowVerticalPlacement&&$h(Ke)&&(we.vertical=Mp(Pe,r,l,m,re,_t,R,rt,"left",qe,ze,u.WritingMode.vertical,!0,St,ye,ie))};if(!O&&Je){const ln=$e==="auto"?Je.map(Dn=>X0(Dn)):[$e];let zn=!1;for(let Dn=0;Dn<ln.length;Dn++){const Or=ln[Dn];if(!we.horizontal[Or])if(zn)we.horizontal[Or]=we.horizontal[0];else{const ur=Mp(Pe,r,l,m,re,_t,R,"center",Or,qe,ze,u.WritingMode.horizontal,!1,St,ye,ie);ur&&(we.horizontal[Or]=ur,zn=ur.positionedLines.length===1)}}Wt()}else{$e==="auto"&&($e=X0(rt));const ln=Mp(Pe,r,l,m,re,_t,R,rt,$e,qe,ze,u.WritingMode.horizontal,!1,St,ye,ie);ln&&(we.horizontal[$e]=ln),Wt(),$h(Ke)&&O&&$&&(we.vertical=Mp(Pe,r,l,m,re,_t,R,rt,$e,qe,ze,u.WritingMode.vertical,!1,St,ye,ie))}}let ot=!1;if(q.icon&&q.icon.name){const Ke=d[q.icon.name];Ke&&(Re=zz(m[q.icon.name],S.get("icon-offset").evaluate(q,{},v),S.get("icon-anchor").evaluate(q,{},v)),ot=!!Ke.sdf,a.sdfIcons===void 0?a.sdfIcons=ot:a.sdfIcons!==ot&&oe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ke.pixelRatio!==a.pixelRatio||S.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const pt=s2(we.horizontal)||we.vertical;a.iconsInText=!!pt&&pt.iconsInText,(pt||Re)&&Bz(a,q,we,Re,d,A,ye,be,ze,ot,v)}_&&a.generateCollisionDebugBuffers()},u.perspective=function(a,r,l,d,m){var _,v=1/Math.tan(r/2);return a[0]=v/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=v,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,m!=null&&m!==1/0?(a[10]=(m+d)*(_=1/(d-m)),a[14]=2*m*d*_):(a[10]=-1,a[14]=-2*d),a},u.pick=function(a,r){const l={};for(let d=0;d<r.length;d++){const m=r[d];m in a&&(l[m]=a[m])}return l},u.plugin=$i,u.pointGeometry=tt,u.polygonIntersectsPolygon=fb,u.potpack=Ub,u.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],u.register=it,u.registerForPluginStateChange=function(a){return a({pluginStatus:ri,pluginURL:sa}),Ss.on("pluginStateChange",a),a},u.renderColorRamp=wb,u.rotateX=function(a,r,l){var d=Math.sin(l),m=Math.cos(l),_=r[4],v=r[5],S=r[6],k=r[7],A=r[8],R=r[9],O=r[10],$=r[11];return r!==a&&(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a[4]=_*m+A*d,a[5]=v*m+R*d,a[6]=S*m+O*d,a[7]=k*m+$*d,a[8]=A*m-_*d,a[9]=R*m-v*d,a[10]=O*m-S*d,a[11]=$*m-k*d,a},u.rotateZ=function(a,r,l){var d=Math.sin(l),m=Math.cos(l),_=r[0],v=r[1],S=r[2],k=r[3],A=r[4],R=r[5],O=r[6],$=r[7];return r!==a&&(a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a[0]=_*m+A*d,a[1]=v*m+R*d,a[2]=S*m+O*d,a[3]=k*m+$*d,a[4]=A*m-_*d,a[5]=R*m-v*d,a[6]=O*m-S*d,a[7]=$*m-k*d,a},u.scale=function(a,r,l){var d=l[0],m=l[1],_=l[2];return a[0]=r[0]*d,a[1]=r[1]*d,a[2]=r[2]*d,a[3]=r[3]*d,a[4]=r[4]*m,a[5]=r[5]*m,a[6]=r[6]*m,a[7]=r[7]*m,a[8]=r[8]*_,a[9]=r[9]*_,a[10]=r[10]*_,a[11]=r[11]*_,a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15],a},u.scale$1=function(a,r,l){return a[0]=r[0]*l,a[1]=r[1]*l,a[2]=r[2]*l,a[3]=r[3]*l,a},u.setCacheLimits=function(a,r){ct=a,mn=r},u.setRTLTextPlugin=function(a,r,l=!1){if(ri===zu||ri===Bh||ri===Vh)throw new Error("setRTLTextPlugin cannot be called multiple times.");sa=jt.resolveURL(a),ri=zu,Nh=r,jh(),l||Du()},u.spec=ve,u.sphericalToCartesian=function([a,r,l]){return r+=90,r*=Math.PI/180,l*=Math.PI/180,{x:a*Math.cos(r)*Math.sin(l),y:a*Math.sin(r)*Math.sin(l),z:a*Math.cos(l)}},u.toEvaluationFeature=Ml,u.transformMat4=Ep,u.translate=function(a,r,l){var d,m,_,v,S,k,A,R,O,$,G,q,re=l[0],ie=l[1],ye=l[2];return r===a?(a[12]=r[0]*re+r[4]*ie+r[8]*ye+r[12],a[13]=r[1]*re+r[5]*ie+r[9]*ye+r[13],a[14]=r[2]*re+r[6]*ie+r[10]*ye+r[14],a[15]=r[3]*re+r[7]*ie+r[11]*ye+r[15]):(m=r[1],_=r[2],v=r[3],S=r[4],k=r[5],A=r[6],R=r[7],O=r[8],$=r[9],G=r[10],q=r[11],a[0]=d=r[0],a[1]=m,a[2]=_,a[3]=v,a[4]=S,a[5]=k,a[6]=A,a[7]=R,a[8]=O,a[9]=$,a[10]=G,a[11]=q,a[12]=d*re+S*ie+O*ye+r[12],a[13]=m*re+k*ie+$*ye+r[13],a[14]=_*re+A*ie+G*ye+r[14],a[15]=v*re+R*ie+q*ye+r[15]),a},u.triggerPluginCompletionEvent=gp,u.unicodeBlockLookup=Ze,u.uniqueId=function(){return H++},u.validateCustomStyleLayer=function(a){const r=[],l=a.id;return l===void 0&&r.push({message:`layers.${l}: missing required property "id"`}),a.render===void 0&&r.push({message:`layers.${l}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&r.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),r},u.validateLight=y0,u.validateStyle=Aa,u.vectorTile=Ps,u.warnOnce=oe,u.wrap=N}),h(["./shared"],function(u){function w(J){const z=typeof J;if(z==="number"||z==="boolean"||z==="string"||J==null)return JSON.stringify(J);if(Array.isArray(J)){let Q="[";for(const ee of J)Q+=`${w(ee)},`;return`${Q}]`}const L=Object.keys(J).sort();let Z="{";for(let Q=0;Q<L.length;Q++)Z+=`${JSON.stringify(L[Q])}:${w(J[L[Q]])},`;return`${Z}}`}function b(J){let z="";for(const L of u.refProperties)z+=`/${w(J[L])}`;return z}class C{constructor(z){this.keyCache={},z&&this.replace(z)}replace(z){this._layerConfigs={},this._layers={},this.update(z,[])}update(z,L){for(const Q of z){this._layerConfigs[Q.id]=Q;const ee=this._layers[Q.id]=u.createStyleLayer(Q);ee._featureFilter=u.createFilter(ee.filter),this.keyCache[Q.id]&&delete this.keyCache[Q.id]}for(const Q of L)delete this.keyCache[Q],delete this._layerConfigs[Q],delete this._layers[Q];this.familiesBySource={};const Z=function(Q,ee){const ce={};for(let ue=0;ue<Q.length;ue++){const he=ee&&ee[Q[ue].id]||b(Q[ue]);ee&&(ee[Q[ue].id]=he);let ke=ce[he];ke||(ke=ce[he]=[]),ke.push(Q[ue])}const ae=[];for(const ue in ce)ae.push(ce[ue]);return ae}(Object.values(this._layerConfigs),this.keyCache);for(const Q of Z){const ee=Q.map(De=>this._layers[De.id]),ce=ee[0];if(ce.visibility==="none")continue;const ae=ce.source||"";let ue=this.familiesBySource[ae];ue||(ue=this.familiesBySource[ae]={});const he=ce.sourceLayer||"_geojsonTileLayer";let ke=ue[he];ke||(ke=ue[he]=[]),ke.push(ee)}}}class M{constructor(z){const L={},Z=[];for(const ae in z){const ue=z[ae],he=L[ae]={};for(const ke in ue){const De=ue[+ke];if(!De||De.bitmap.width===0||De.bitmap.height===0)continue;const Se={x:0,y:0,w:De.bitmap.width+2,h:De.bitmap.height+2};Z.push(Se),he[ke]={rect:Se,metrics:De.metrics}}}const{w:Q,h:ee}=u.potpack(Z),ce=new u.AlphaImage({width:Q||1,height:ee||1});for(const ae in z){const ue=z[ae];for(const he in ue){const ke=ue[+he];if(!ke||ke.bitmap.width===0||ke.bitmap.height===0)continue;const De=L[ae][he].rect;u.AlphaImage.copy(ke.bitmap,ce,{x:0,y:0},{x:De.x+1,y:De.y+1},ke.bitmap)}}this.image=ce,this.positions=L}}u.register("GlyphAtlas",M);class T{constructor(z){this.tileID=new u.OverscaledTileID(z.tileID.overscaledZ,z.tileID.wrap,z.tileID.canonical.z,z.tileID.canonical.x,z.tileID.canonical.y),this.uid=z.uid,this.zoom=z.zoom,this.pixelRatio=z.pixelRatio,this.tileSize=z.tileSize,this.source=z.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=z.showCollisionBoxes,this.collectResourceTiming=!!z.collectResourceTiming,this.returnDependencies=!!z.returnDependencies,this.promoteId=z.promoteId}parse(z,L,Z,Q,ee){this.status="parsing",this.data=z,this.collisionBoxArray=new u.CollisionBoxArray;const ce=new u.DictionaryCoder(Object.keys(z.layers).sort()),ae=new u.FeatureIndex(this.tileID,this.promoteId);ae.bucketLayerIDs=[];const ue={},he={featureIndex:ae,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Z},ke=L.familiesBySource[this.source];for(const Bt in ke){const Ot=z.layers[Bt];if(!Ot)continue;Ot.version===1&&u.warnOnce(`Vector tile source "${this.source}" layer "${Bt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Rt=ce.encode(Bt),Qn=[];for(let qn=0;qn<Ot.length;qn++){const xr=Ot.feature(qn),Tr=ae.getId(xr,Bt);Qn.push({feature:xr,id:Tr,index:qn,sourceLayerIndex:Rt})}for(const qn of ke[Bt]){const xr=qn[0];xr.minzoom&&this.zoom<Math.floor(xr.minzoom)||xr.maxzoom&&this.zoom>=xr.maxzoom||xr.visibility!=="none"&&(N(qn,this.zoom,Z),(ue[xr.id]=xr.createBucket({index:ae.bucketLayerIDs.length,layers:qn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Rt,sourceID:this.source})).populate(Qn,he,this.tileID.canonical),ae.bucketLayerIDs.push(qn.map(Tr=>Tr.id)))}}let De,Se,lt,et;const dt=u.mapObject(he.glyphDependencies,Bt=>Object.keys(Bt).map(Number));Object.keys(dt).length?Q.send("getGlyphs",{uid:this.uid,stacks:dt},(Bt,Ot)=>{De||(De=Bt,Se=Ot,Ut.call(this))}):Se={};const wt=Object.keys(he.iconDependencies);wt.length?Q.send("getImages",{icons:wt,source:this.source,tileID:this.tileID,type:"icons"},(Bt,Ot)=>{De||(De=Bt,lt=Ot,Ut.call(this))}):lt={};const Xt=Object.keys(he.patternDependencies);function Ut(){if(De)return ee(De);if(Se&&lt&&et){const Bt=new M(Se),Ot=new u.ImageAtlas(lt,et);for(const Rt in ue){const Qn=ue[Rt];Qn instanceof u.SymbolBucket?(N(Qn.layers,this.zoom,Z),u.performSymbolLayout(Qn,Se,Bt.positions,lt,Ot.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Qn.hasPattern&&(Qn instanceof u.LineBucket||Qn instanceof u.FillBucket||Qn instanceof u.FillExtrusionBucket)&&(N(Qn.layers,this.zoom,Z),Qn.addFeatures(he,this.tileID.canonical,Ot.patternPositions))}this.status="done",ee(null,{buckets:Object.values(ue).filter(Rt=>!Rt.isEmpty()),featureIndex:ae,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Bt.image,imageAtlas:Ot,glyphMap:this.returnDependencies?Se:null,iconMap:this.returnDependencies?lt:null,glyphPositions:this.returnDependencies?Bt.positions:null})}}Xt.length?Q.send("getImages",{icons:Xt,source:this.source,tileID:this.tileID,type:"patterns"},(Bt,Ot)=>{De||(De=Bt,et=Ot,Ut.call(this))}):et={},Ut.call(this)}}function N(J,z,L){const Z=new u.EvaluationParameters(z);for(const Q of J)Q.recalculate(Z,L)}function W(J,z){const L=u.getArrayBuffer(J.request,(Z,Q,ee,ce)=>{Z?z(Z):Q&&z(null,{vectorTile:new u.vectorTile.VectorTile(new u.pbf(Q)),rawData:Q,cacheControl:ee,expires:ce})});return()=>{L.cancel(),z()}}class H{constructor(z,L,Z,Q){this.actor=z,this.layerIndex=L,this.availableImages=Z,this.loadVectorData=Q||W,this.loading={},this.loaded={}}loadTile(z,L){const Z=z.uid;this.loading||(this.loading={});const Q=!!(z&&z.request&&z.request.collectResourceTiming)&&new u.RequestPerformance(z.request),ee=this.loading[Z]=new T(z);ee.abort=this.loadVectorData(z,(ce,ae)=>{if(delete this.loading[Z],ce||!ae)return ee.status="done",this.loaded[Z]=ee,L(ce);const ue=ae.rawData,he={};ae.expires&&(he.expires=ae.expires),ae.cacheControl&&(he.cacheControl=ae.cacheControl);const ke={};if(Q){const De=Q.finish();De&&(ke.resourceTiming=JSON.parse(JSON.stringify(De)))}ee.vectorTile=ae.vectorTile,ee.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,(De,Se)=>{if(De||!Se)return L(De);L(null,u.extend({rawTileData:ue.slice(0)},Se,he,ke))}),this.loaded=this.loaded||{},this.loaded[Z]=ee})}reloadTile(z,L){const Z=this.loaded,Q=z.uid,ee=this;if(Z&&Z[Q]){const ce=Z[Q];ce.showCollisionBoxes=z.showCollisionBoxes;const ae=(ue,he)=>{const ke=ce.reloadCallback;ke&&(delete ce.reloadCallback,ce.parse(ce.vectorTile,ee.layerIndex,this.availableImages,ee.actor,ke)),L(ue,he)};ce.status==="parsing"?ce.reloadCallback=ae:ce.status==="done"&&(ce.vectorTile?ce.parse(ce.vectorTile,this.layerIndex,this.availableImages,this.actor,ae):ae())}}abortTile(z,L){const Z=this.loading,Q=z.uid;Z&&Z[Q]&&Z[Q].abort&&(Z[Q].abort(),delete Z[Q]),L()}removeTile(z,L){const Z=this.loaded,Q=z.uid;Z&&Z[Q]&&delete Z[Q],L()}}class le{constructor(){this.loaded={}}loadTile(z,L){const{uid:Z,encoding:Q,rawImageData:ee}=z,ce=u.isImageBitmap(ee)?this.getImageData(ee):ee,ae=new u.DEMData(Z,ce,Q);this.loaded=this.loaded||{},this.loaded[Z]=ae,L(null,ae)}getImageData(z){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(z.width,z.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=z.width,this.offscreenCanvas.height=z.height,this.offscreenCanvasContext.drawImage(z,0,0,z.width,z.height);const L=this.offscreenCanvasContext.getImageData(-1,-1,z.width+2,z.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new u.RGBAImage({width:L.width,height:L.height},L.data)}removeTile(z){const L=this.loaded,Z=z.uid;L&&L[Z]&&delete L[Z]}}var V=function J(z,L){var Z,Q=z&&z.type;if(Q==="FeatureCollection")for(Z=0;Z<z.features.length;Z++)J(z.features[Z],L);else if(Q==="GeometryCollection")for(Z=0;Z<z.geometries.length;Z++)J(z.geometries[Z],L);else if(Q==="Feature")J(z.geometry,L);else if(Q==="Polygon")B(z.coordinates,L);else if(Q==="MultiPolygon")for(Z=0;Z<z.coordinates.length;Z++)B(z.coordinates[Z],L);return z};function B(J,z){if(J.length!==0){Y(J[0],z);for(var L=1;L<J.length;L++)Y(J[L],!z)}}function Y(J,z){for(var L=0,Z=0,Q=0,ee=J.length,ce=ee-1;Q<ee;ce=Q++){var ae=(J[Q][0]-J[ce][0])*(J[ce][1]+J[Q][1]),ue=L+ae;Z+=Math.abs(L)>=Math.abs(ae)?L-ue+ae:ae-ue+L,L=ue}L+Z>=0!=!!z&&J.reverse()}const se=u.vectorTile.VectorTileFeature.prototype.toGeoJSON;class oe{constructor(z){this._feature=z,this.extent=u.EXTENT,this.type=z.type,this.properties=z.tags,"id"in z&&!isNaN(z.id)&&(this.id=parseInt(z.id,10))}loadGeometry(){if(this._feature.type===1){const z=[];for(const L of this._feature.geometry)z.push([new u.pointGeometry(L[0],L[1])]);return z}{const z=[];for(const L of this._feature.geometry){const Z=[];for(const Q of L)Z.push(new u.pointGeometry(Q[0],Q[1]));z.push(Z)}return z}}toGeoJSON(z,L,Z){return se.call(this,z,L,Z)}}class de{constructor(z){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.EXTENT,this.length=z.length,this._features=z}feature(z){return new oe(this._features[z])}}var me={exports:{}},xe=u.pointGeometry,Be=u.vectorTile.VectorTileFeature,Ie=Qe;function Qe(J,z){this.options=z||{},this.features=J,this.length=J.length}function Tt(J,z){this.id=typeof J.id=="number"?J.id:void 0,this.type=J.type,this.rawGeometry=J.type===1?[J.geometry]:J.geometry,this.properties=J.tags,this.extent=z||4096}Qe.prototype.feature=function(J){return new Tt(this.features[J],this.options.extent)},Tt.prototype.loadGeometry=function(){var J=this.rawGeometry;this.geometry=[];for(var z=0;z<J.length;z++){for(var L=J[z],Z=[],Q=0;Q<L.length;Q++)Z.push(new xe(L[Q][0],L[Q][1]));this.geometry.push(Z)}return this.geometry},Tt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var J=this.geometry,z=1/0,L=-1/0,Z=1/0,Q=-1/0,ee=0;ee<J.length;ee++)for(var ce=J[ee],ae=0;ae<ce.length;ae++){var ue=ce[ae];z=Math.min(z,ue.x),L=Math.max(L,ue.x),Z=Math.min(Z,ue.y),Q=Math.max(Q,ue.y)}return[z,Z,L,Q]},Tt.prototype.toGeoJSON=Be.prototype.toGeoJSON;var Ct=u.pbf,Et=Ie;function jt(J){var z=new Ct;return function(L,Z){for(var Q in L.layers)Z.writeMessage(3,tt,L.layers[Q])}(J,z),z.finish()}function tt(J,z){var L;z.writeVarintField(15,J.version||1),z.writeStringField(1,J.name||""),z.writeVarintField(5,J.extent||4096);var Z={keys:[],values:[],keycache:{},valuecache:{}};for(L=0;L<J.length;L++)Z.feature=J.feature(L),z.writeMessage(2,dn,Z);var Q=Z.keys;for(L=0;L<Q.length;L++)z.writeStringField(3,Q[L]);var ee=Z.values;for(L=0;L<ee.length;L++)z.writeMessage(4,ct,ee[L])}function dn(J,z){var L=J.feature;L.id!==void 0&&z.writeVarintField(1,L.id),z.writeMessage(2,Ne,J),z.writeVarintField(3,L.type),z.writeMessage(4,Ft,L)}function Ne(J,z){var L=J.feature,Z=J.keys,Q=J.values,ee=J.keycache,ce=J.valuecache;for(var ae in L.properties){var ue=L.properties[ae],he=ee[ae];if(ue!==null){he===void 0&&(Z.push(ae),ee[ae]=he=Z.length-1),z.writeVarint(he);var ke=typeof ue;ke!=="string"&&ke!=="boolean"&&ke!=="number"&&(ue=JSON.stringify(ue));var De=ke+":"+ue,Se=ce[De];Se===void 0&&(Q.push(ue),ce[De]=Se=Q.length-1),z.writeVarint(Se)}}}function nt(J,z){return(z<<3)+(7&J)}function ut(J){return J<<1^J>>31}function Ft(J,z){for(var L=J.loadGeometry(),Z=J.type,Q=0,ee=0,ce=L.length,ae=0;ae<ce;ae++){var ue=L[ae],he=1;Z===1&&(he=ue.length),z.writeVarint(nt(1,he));for(var ke=Z===3?ue.length-1:ue.length,De=0;De<ke;De++){De===1&&Z!==1&&z.writeVarint(nt(2,ke-1));var Se=ue[De].x-Q,lt=ue[De].y-ee;z.writeVarint(ut(Se)),z.writeVarint(ut(lt)),Q+=Se,ee+=lt}Z===3&&z.writeVarint(nt(7,1))}}function ct(J,z){var L=typeof J;L==="string"?z.writeStringField(1,J):L==="boolean"?z.writeBooleanField(7,J):L==="number"&&(J%1!=0?z.writeDoubleField(3,J):J<0?z.writeSVarintField(6,J):z.writeVarintField(5,J))}me.exports=jt,me.exports.fromVectorTileJs=jt,me.exports.fromGeojsonVt=function(J,z){z=z||{};var L={};for(var Z in J)L[Z]=new Et(J[Z].features,z),L[Z].name=Z,L[Z].version=z.version,L[Z].extent=z.extent;return jt({layers:L})},me.exports.GeoJSONWrapper=Et;var mn=me.exports;function rn(J,z,L,Z,Q,ee){if(Q-Z<=L)return;const ce=Z+Q>>1;Jn(J,z,ce,Z,Q,ee%2),rn(J,z,L,Z,ce-1,ee+1),rn(J,z,L,ce+1,Q,ee+1)}function Jn(J,z,L,Z,Q,ee){for(;Q>Z;){if(Q-Z>600){const he=Q-Z+1,ke=L-Z+1,De=Math.log(he),Se=.5*Math.exp(2*De/3),lt=.5*Math.sqrt(De*Se*(he-Se)/he)*(ke-he/2<0?-1:1);Jn(J,z,L,Math.max(Z,Math.floor(L-ke*Se/he+lt)),Math.min(Q,Math.floor(L+(he-ke)*Se/he+lt)),ee)}const ce=z[2*L+ee];let ae=Z,ue=Q;for(Ht(J,z,Z,L),z[2*Q+ee]>ce&&Ht(J,z,Z,Q);ae<ue;){for(Ht(J,z,ae,ue),ae++,ue--;z[2*ae+ee]<ce;)ae++;for(;z[2*ue+ee]>ce;)ue--}z[2*Z+ee]===ce?Ht(J,z,Z,ue):(ue++,Ht(J,z,ue,Q)),ue<=L&&(Z=ue+1),L<=ue&&(Q=ue-1)}}function Ht(J,z,L,Z){Gn(J,L,Z),Gn(z,2*L,2*Z),Gn(z,2*L+1,2*Z+1)}function Gn(J,z,L){const Z=J[z];J[z]=J[L],J[L]=Z}function kr(J,z,L,Z){const Q=J-L,ee=z-Z;return Q*Q+ee*ee}const fi=J=>J[0],pi=J=>J[1];class fn{constructor(z,L=fi,Z=pi,Q=64,ee=Float64Array){this.nodeSize=Q,this.points=z;const ce=z.length<65536?Uint16Array:Uint32Array,ae=this.ids=new ce(z.length),ue=this.coords=new ee(2*z.length);for(let he=0;he<z.length;he++)ae[he]=he,ue[2*he]=L(z[he]),ue[2*he+1]=Z(z[he]);rn(ae,ue,Q,0,ae.length-1,0)}range(z,L,Z,Q){return function(ee,ce,ae,ue,he,ke,De){const Se=[0,ee.length-1,0],lt=[];let et,dt;for(;Se.length;){const wt=Se.pop(),Xt=Se.pop(),Ut=Se.pop();if(Xt-Ut<=De){for(let Rt=Ut;Rt<=Xt;Rt++)et=ce[2*Rt],dt=ce[2*Rt+1],et>=ae&&et<=he&&dt>=ue&&dt<=ke&&lt.push(ee[Rt]);continue}const Bt=Math.floor((Ut+Xt)/2);et=ce[2*Bt],dt=ce[2*Bt+1],et>=ae&&et<=he&&dt>=ue&&dt<=ke&&lt.push(ee[Bt]);const Ot=(wt+1)%2;(wt===0?ae<=et:ue<=dt)&&(Se.push(Ut),Se.push(Bt-1),Se.push(Ot)),(wt===0?he>=et:ke>=dt)&&(Se.push(Bt+1),Se.push(Xt),Se.push(Ot))}return lt}(this.ids,this.coords,z,L,Z,Q,this.nodeSize)}within(z,L,Z){return function(Q,ee,ce,ae,ue,he){const ke=[0,Q.length-1,0],De=[],Se=ue*ue;for(;ke.length;){const lt=ke.pop(),et=ke.pop(),dt=ke.pop();if(et-dt<=he){for(let Ot=dt;Ot<=et;Ot++)kr(ee[2*Ot],ee[2*Ot+1],ce,ae)<=Se&&De.push(Q[Ot]);continue}const wt=Math.floor((dt+et)/2),Xt=ee[2*wt],Ut=ee[2*wt+1];kr(Xt,Ut,ce,ae)<=Se&&De.push(Q[wt]);const Bt=(lt+1)%2;(lt===0?ce-ue<=Xt:ae-ue<=Ut)&&(ke.push(dt),ke.push(wt-1),ke.push(Bt)),(lt===0?ce+ue>=Xt:ae+ue>=Ut)&&(ke.push(wt+1),ke.push(et),ke.push(Bt))}return De}(this.ids,this.coords,z,L,Z,this.nodeSize)}}const Rn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:J=>J},Pn=Math.fround||(jr=new Float32Array(1),J=>(jr[0]=+J,jr[0]));var jr;class ti{constructor(z){this.options=$t(Object.create(Rn),z),this.trees=new Array(this.options.maxZoom+1)}load(z){const{log:L,minZoom:Z,maxZoom:Q,nodeSize:ee}=this.options;L&&console.time("total time");const ce=`prepare ${z.length} points`;L&&console.time(ce),this.points=z;let ae=[];for(let ue=0;ue<z.length;ue++)z[ue].geometry&&ae.push(fr(z[ue],ue));this.trees[Q+1]=new fn(ae,He,xt,ee,Float32Array),L&&console.timeEnd(ce);for(let ue=Q;ue>=Z;ue--){const he=+Date.now();ae=this._cluster(ae,ue),this.trees[ue]=new fn(ae,He,xt,ee,Float32Array),L&&console.log("z%d: %d clusters in %dms",ue,ae.length,+Date.now()-he)}return L&&console.timeEnd("total time"),this}getClusters(z,L){let Z=((z[0]+180)%360+360)%360-180;const Q=Math.max(-90,Math.min(90,z[1]));let ee=z[2]===180?180:((z[2]+180)%360+360)%360-180;const ce=Math.max(-90,Math.min(90,z[3]));if(z[2]-z[0]>=360)Z=-180,ee=180;else if(Z>ee){const ke=this.getClusters([Z,Q,180,ce],L),De=this.getClusters([-180,Q,ee,ce],L);return ke.concat(De)}const ae=this.trees[this._limitZoom(L)],ue=ae.range(pr(Z),Wn(ce),pr(ee),Wn(Q)),he=[];for(const ke of ue){const De=ae.points[ke];he.push(De.numPoints?So(De):this.points[De.index])}return he}getChildren(z){const L=this._getOriginId(z),Z=this._getOriginZoom(z),Q="No cluster with the specified id.",ee=this.trees[Z];if(!ee)throw new Error(Q);const ce=ee.points[L];if(!ce)throw new Error(Q);const ae=this.options.radius/(this.options.extent*Math.pow(2,Z-1)),ue=ee.within(ce.x,ce.y,ae),he=[];for(const ke of ue){const De=ee.points[ke];De.parentId===z&&he.push(De.numPoints?So(De):this.points[De.index])}if(he.length===0)throw new Error(Q);return he}getLeaves(z,L,Z){const Q=[];return this._appendLeaves(Q,z,L=L||10,Z=Z||0,0),Q}getTile(z,L,Z){const Q=this.trees[this._limitZoom(z)],ee=Math.pow(2,z),{extent:ce,radius:ae}=this.options,ue=ae/ce,he=(Z-ue)/ee,ke=(Z+1+ue)/ee,De={features:[]};return this._addTileFeatures(Q.range((L-ue)/ee,he,(L+1+ue)/ee,ke),Q.points,L,Z,ee,De),L===0&&this._addTileFeatures(Q.range(1-ue/ee,he,1,ke),Q.points,ee,Z,ee,De),L===ee-1&&this._addTileFeatures(Q.range(0,he,ue/ee,ke),Q.points,-1,Z,ee,De),De.features.length?De:null}getClusterExpansionZoom(z){let L=this._getOriginZoom(z)-1;for(;L<=this.options.maxZoom;){const Z=this.getChildren(z);if(L++,Z.length!==1)break;z=Z[0].properties.cluster_id}return L}_appendLeaves(z,L,Z,Q,ee){const ce=this.getChildren(L);for(const ae of ce){const ue=ae.properties;if(ue&&ue.cluster?ee+ue.point_count<=Q?ee+=ue.point_count:ee=this._appendLeaves(z,ue.cluster_id,Z,Q,ee):ee<Q?ee++:z.push(ae),z.length===Z)break}return ee}_addTileFeatures(z,L,Z,Q,ee,ce){for(const ae of z){const ue=L[ae],he=ue.numPoints;let ke,De,Se;if(he)ke=Rr(ue),De=ue.x,Se=ue.y;else{const dt=this.points[ue.index];ke=dt.properties,De=pr(dt.geometry.coordinates[0]),Se=Wn(dt.geometry.coordinates[1])}const lt={type:1,geometry:[[Math.round(this.options.extent*(De*ee-Z)),Math.round(this.options.extent*(Se*ee-Q))]],tags:ke};let et;he?et=ue.id:this.options.generateId?et=ue.index:this.points[ue.index].id&&(et=this.points[ue.index].id),et!==void 0&&(lt.id=et),ce.features.push(lt)}}_limitZoom(z){return Math.max(this.options.minZoom,Math.min(+z,this.options.maxZoom+1))}_cluster(z,L){const Z=[],{radius:Q,extent:ee,reduce:ce,minPoints:ae}=this.options,ue=Q/(ee*Math.pow(2,L));for(let he=0;he<z.length;he++){const ke=z[he];if(ke.zoom<=L)continue;ke.zoom=L;const De=this.trees[L+1],Se=De.within(ke.x,ke.y,ue),lt=ke.numPoints||1;let et=lt;for(const dt of Se){const wt=De.points[dt];wt.zoom>L&&(et+=wt.numPoints||1)}if(et>lt&&et>=ae){let dt=ke.x*lt,wt=ke.y*lt,Xt=ce&&lt>1?this._map(ke,!0):null;const Ut=(he<<5)+(L+1)+this.points.length;for(const Bt of Se){const Ot=De.points[Bt];if(Ot.zoom<=L)continue;Ot.zoom=L;const Rt=Ot.numPoints||1;dt+=Ot.x*Rt,wt+=Ot.y*Rt,Ot.parentId=Ut,ce&&(Xt||(Xt=this._map(ke,!0)),ce(Xt,this._map(Ot)))}ke.parentId=Ut,Z.push(Oi(dt/et,wt/et,Ut,et,Xt))}else if(Z.push(ke),et>1)for(const dt of Se){const wt=De.points[dt];wt.zoom<=L||(wt.zoom=L,Z.push(wt))}}return Z}_getOriginId(z){return z-this.points.length>>5}_getOriginZoom(z){return(z-this.points.length)%32}_map(z,L){if(z.numPoints)return L?$t({},z.properties):z.properties;const Z=this.points[z.index].properties,Q=this.options.map(Z);return L&&Q===Z?$t({},Q):Q}}function Oi(J,z,L,Z,Q){return{x:Pn(J),y:Pn(z),zoom:1/0,id:L,parentId:-1,numPoints:Z,properties:Q}}function fr(J,z){const[L,Z]=J.geometry.coordinates;return{x:Pn(pr(L)),y:Pn(Wn(Z)),zoom:1/0,index:z,parentId:-1}}function So(J){return{type:"Feature",id:J.id,properties:Rr(J),geometry:{type:"Point",coordinates:[(z=J.x,360*(z-.5)),jo(J.y)]}};var z}function Rr(J){const z=J.numPoints,L=z>=1e4?`${Math.round(z/1e3)}k`:z>=1e3?Math.round(z/100)/10+"k":z;return $t($t({},J.properties),{cluster:!0,cluster_id:J.id,point_count:z,point_count_abbreviated:L})}function pr(J){return J/360+.5}function Wn(J){const z=Math.sin(J*Math.PI/180),L=.5-.25*Math.log((1+z)/(1-z))/Math.PI;return L<0?0:L>1?1:L}function jo(J){const z=(180-360*J)*Math.PI/180;return 360*Math.atan(Math.exp(z))/Math.PI-90}function $t(J,z){for(const L in z)J[L]=z[L];return J}function He(J){return J.x}function xt(J){return J.y}function on(J,z,L,Z){for(var Q,ee=Z,ce=L-z>>1,ae=L-z,ue=J[z],he=J[z+1],ke=J[L],De=J[L+1],Se=z+3;Se<L;Se+=3){var lt=kn(J[Se],J[Se+1],ue,he,ke,De);if(lt>ee)Q=Se,ee=lt;else if(lt===ee){var et=Math.abs(Se-ce);et<ae&&(Q=Se,ae=et)}}ee>Z&&(Q-z>3&&on(J,z,Q,Z),J[Q+2]=ee,L-Q>3&&on(J,Q,L,Z))}function kn(J,z,L,Z,Q,ee){var ce=Q-L,ae=ee-Z;if(ce!==0||ae!==0){var ue=((J-L)*ce+(z-Z)*ae)/(ce*ce+ae*ae);ue>1?(L=Q,Z=ee):ue>0&&(L+=ce*ue,Z+=ae*ue)}return(ce=J-L)*ce+(ae=z-Z)*ae}function ve(J,z,L,Z){var Q={id:J===void 0?null:J,type:z,geometry:L,tags:Z,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ee){var ce=ee.geometry,ae=ee.type;if(ae==="Point"||ae==="MultiPoint"||ae==="LineString")je(ee,ce);else if(ae==="Polygon"||ae==="MultiLineString")for(var ue=0;ue<ce.length;ue++)je(ee,ce[ue]);else if(ae==="MultiPolygon")for(ue=0;ue<ce.length;ue++)for(var he=0;he<ce[ue].length;he++)je(ee,ce[ue][he])}(Q),Q}function je(J,z){for(var L=0;L<z.length;L+=3)J.minX=Math.min(J.minX,z[L]),J.minY=Math.min(J.minY,z[L+1]),J.maxX=Math.max(J.maxX,z[L]),J.maxY=Math.max(J.maxY,z[L+1])}function Cr(J,z,L,Z){if(z.geometry){var Q=z.geometry.coordinates,ee=z.geometry.type,ce=Math.pow(L.tolerance/((1<<L.maxZoom)*L.extent),2),ae=[],ue=z.id;if(L.promoteId?ue=z.properties[L.promoteId]:L.generateId&&(ue=Z||0),ee==="Point")mi(Q,ae);else if(ee==="MultiPoint")for(var he=0;he<Q.length;he++)mi(Q[he],ae);else if(ee==="LineString")an(Q,ae,ce,!1);else if(ee==="MultiLineString"){if(L.lineMetrics){for(he=0;he<Q.length;he++)an(Q[he],ae=[],ce,!1),J.push(ve(ue,"LineString",ae,z.properties));return}Lr(Q,ae,ce,!1)}else if(ee==="Polygon")Lr(Q,ae,ce,!0);else{if(ee!=="MultiPolygon"){if(ee==="GeometryCollection"){for(he=0;he<z.geometry.geometries.length;he++)Cr(J,{id:ue,geometry:z.geometry.geometries[he],properties:z.properties},L,Z);return}throw new Error("Input data is not a valid GeoJSON object.")}for(he=0;he<Q.length;he++){var ke=[];Lr(Q[he],ke,ce,!0),ae.push(ke)}}J.push(ve(ue,ee,ae,z.properties))}}function mi(J,z){z.push(or(J[0])),z.push(Ki(J[1])),z.push(0)}function an(J,z,L,Z){for(var Q,ee,ce=0,ae=0;ae<J.length;ae++){var ue=or(J[ae][0]),he=Ki(J[ae][1]);z.push(ue),z.push(he),z.push(0),ae>0&&(ce+=Z?(Q*he-ue*ee)/2:Math.sqrt(Math.pow(ue-Q,2)+Math.pow(he-ee,2))),Q=ue,ee=he}var ke=z.length-3;z[2]=1,on(z,0,ke,L),z[ke+2]=1,z.size=Math.abs(ce),z.start=0,z.end=z.size}function Lr(J,z,L,Z){for(var Q=0;Q<J.length;Q++){var ee=[];an(J[Q],ee,L,Z),z.push(ee)}}function or(J){return J/360+.5}function Ki(J){var z=Math.sin(J*Math.PI/180),L=.5-.25*Math.log((1+z)/(1-z))/Math.PI;return L<0?0:L>1?1:L}function pn(J,z,L,Z,Q,ee,ce,ae){if(Z/=z,ee>=(L/=z)&&ce<Z)return J;if(ce<L||ee>=Z)return null;for(var ue=[],he=0;he<J.length;he++){var ke=J[he],De=ke.geometry,Se=ke.type,lt=Q===0?ke.minX:ke.minY,et=Q===0?ke.maxX:ke.maxY;if(lt>=L&&et<Z)ue.push(ke);else if(!(et<L||lt>=Z)){var dt=[];if(Se==="Point"||Se==="MultiPoint")Ue(De,dt,L,Z,Q);else if(Se==="LineString")Dt(De,dt,L,Z,Q,!1,ae.lineMetrics);else if(Se==="MultiLineString")Ur(De,dt,L,Z,Q,!1);else if(Se==="Polygon")Ur(De,dt,L,Z,Q,!0);else if(Se==="MultiPolygon")for(var wt=0;wt<De.length;wt++){var Xt=[];Ur(De[wt],Xt,L,Z,Q,!0),Xt.length&&dt.push(Xt)}if(dt.length){if(ae.lineMetrics&&Se==="LineString"){for(wt=0;wt<dt.length;wt++)ue.push(ve(ke.id,Se,dt[wt],ke.tags));continue}Se!=="LineString"&&Se!=="MultiLineString"||(dt.length===1?(Se="LineString",dt=dt[0]):Se="MultiLineString"),Se!=="Point"&&Se!=="MultiPoint"||(Se=dt.length===3?"Point":"MultiPoint"),ue.push(ve(ke.id,Se,dt,ke.tags))}}}return ue.length?ue:null}function Ue(J,z,L,Z,Q){for(var ee=0;ee<J.length;ee+=3){var ce=J[ee+Q];ce>=L&&ce<=Z&&(z.push(J[ee]),z.push(J[ee+1]),z.push(J[ee+2]))}}function Dt(J,z,L,Z,Q,ee,ce){for(var ae,ue,he=At(J),ke=Q===0?Lt:Ea,De=J.start,Se=0;Se<J.length-3;Se+=3){var lt=J[Se],et=J[Se+1],dt=J[Se+2],wt=J[Se+3],Xt=J[Se+4],Ut=Q===0?lt:et,Bt=Q===0?wt:Xt,Ot=!1;ce&&(ae=Math.sqrt(Math.pow(lt-wt,2)+Math.pow(et-Xt,2))),Ut<L?Bt>L&&(ue=ke(he,lt,et,wt,Xt,L),ce&&(he.start=De+ae*ue)):Ut>Z?Bt<Z&&(ue=ke(he,lt,et,wt,Xt,Z),ce&&(he.start=De+ae*ue)):Yi(he,lt,et,dt),Bt<L&&Ut>=L&&(ue=ke(he,lt,et,wt,Xt,L),Ot=!0),Bt>Z&&Ut<=Z&&(ue=ke(he,lt,et,wt,Xt,Z),Ot=!0),!ee&&Ot&&(ce&&(he.end=De+ae*ue),z.push(he),he=At(J)),ce&&(De+=ae)}var Rt=J.length-3;lt=J[Rt],et=J[Rt+1],dt=J[Rt+2],(Ut=Q===0?lt:et)>=L&&Ut<=Z&&Yi(he,lt,et,dt),Rt=he.length-3,ee&&Rt>=3&&(he[Rt]!==he[0]||he[Rt+1]!==he[1])&&Yi(he,he[0],he[1],he[2]),he.length&&z.push(he)}function At(J){var z=[];return z.size=J.size,z.start=J.start,z.end=J.end,z}function Ur(J,z,L,Z,Q,ee){for(var ce=0;ce<J.length;ce++)Dt(J[ce],z,L,Z,Q,ee,!1)}function Yi(J,z,L,Z){J.push(z),J.push(L),J.push(Z)}function Lt(J,z,L,Z,Q,ee){var ce=(ee-z)/(Z-z);return J.push(ee),J.push(L+(Q-L)*ce),J.push(1),ce}function Ea(J,z,L,Z,Q,ee){var ce=(ee-L)/(Q-L);return J.push(z+(Z-z)*ce),J.push(ee),J.push(1),ce}function Ji(J,z){for(var L=[],Z=0;Z<J.length;Z++){var Q,ee=J[Z],ce=ee.type;if(ce==="Point"||ce==="MultiPoint"||ce==="LineString")Q=Uo(ee.geometry,z);else if(ce==="MultiLineString"||ce==="Polygon"){Q=[];for(var ae=0;ae<ee.geometry.length;ae++)Q.push(Uo(ee.geometry[ae],z))}else if(ce==="MultiPolygon")for(Q=[],ae=0;ae<ee.geometry.length;ae++){for(var ue=[],he=0;he<ee.geometry[ae].length;he++)ue.push(Uo(ee.geometry[ae][he],z));Q.push(ue)}L.push(ve(ee.id,ce,Q,ee.tags))}return L}function Uo(J,z){var L=[];L.size=J.size,J.start!==void 0&&(L.start=J.start,L.end=J.end);for(var Z=0;Z<J.length;Z+=3)L.push(J[Z]+z,J[Z+1],J[Z+2]);return L}function ar(J,z){if(J.transformed)return J;var L,Z,Q,ee=1<<J.z,ce=J.x,ae=J.y;for(L=0;L<J.features.length;L++){var ue=J.features[L],he=ue.geometry,ke=ue.type;if(ue.geometry=[],ke===1)for(Z=0;Z<he.length;Z+=2)ue.geometry.push(xn(he[Z],he[Z+1],z,ee,ce,ae));else for(Z=0;Z<he.length;Z++){var De=[];for(Q=0;Q<he[Z].length;Q+=2)De.push(xn(he[Z][Q],he[Z][Q+1],z,ee,ce,ae));ue.geometry.push(De)}}return J.transformed=!0,J}function xn(J,z,L,Z,Q,ee){return[Math.round(L*(J*Z-Q)),Math.round(L*(z*Z-ee))]}function Fi(J,z,L,Z,Q){for(var ee=z===Q.maxZoom?0:Q.tolerance/((1<<z)*Q.extent),ce={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:L,y:Z,z,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ae=0;ae<J.length;ae++){ce.numFeatures++,ka(ce,J[ae],ee,Q);var ue=J[ae].minX,he=J[ae].minY,ke=J[ae].maxX,De=J[ae].maxY;ue<ce.minX&&(ce.minX=ue),he<ce.minY&&(ce.minY=he),ke>ce.maxX&&(ce.maxX=ke),De>ce.maxY&&(ce.maxY=De)}return ce}function ka(J,z,L,Z){var Q=z.geometry,ee=z.type,ce=[];if(ee==="Point"||ee==="MultiPoint")for(var ae=0;ae<Q.length;ae+=3)ce.push(Q[ae]),ce.push(Q[ae+1]),J.numPoints++,J.numSimplified++;else if(ee==="LineString")mr(ce,Q,J,L,!1,!1);else if(ee==="MultiLineString"||ee==="Polygon")for(ae=0;ae<Q.length;ae++)mr(ce,Q[ae],J,L,ee==="Polygon",ae===0);else if(ee==="MultiPolygon")for(var ue=0;ue<Q.length;ue++){var he=Q[ue];for(ae=0;ae<he.length;ae++)mr(ce,he[ae],J,L,!0,ae===0)}if(ce.length){var ke=z.tags||null;if(ee==="LineString"&&Z.lineMetrics){for(var De in ke={},z.tags)ke[De]=z.tags[De];ke.mapbox_clip_start=Q.start/Q.size,ke.mapbox_clip_end=Q.end/Q.size}var Se={geometry:ce,type:ee==="Polygon"||ee==="MultiPolygon"?3:ee==="LineString"||ee==="MultiLineString"?2:1,tags:ke};z.id!==null&&(Se.id=z.id),J.features.push(Se)}}function mr(J,z,L,Z,Q,ee){var ce=Z*Z;if(Z>0&&z.size<(Q?ce:Z))L.numPoints+=z.length/3;else{for(var ae=[],ue=0;ue<z.length;ue+=3)(Z===0||z[ue+2]>ce)&&(L.numSimplified++,ae.push(z[ue]),ae.push(z[ue+1])),L.numPoints++;Q&&function(he,ke){for(var De=0,Se=0,lt=he.length,et=lt-2;Se<lt;et=Se,Se+=2)De+=(he[Se]-he[et])*(he[Se+1]+he[et+1]);if(De>0===ke)for(Se=0,lt=he.length;Se<lt/2;Se+=2){var dt=he[Se],wt=he[Se+1];he[Se]=he[lt-2-Se],he[Se+1]=he[lt-1-Se],he[lt-2-Se]=dt,he[lt-1-Se]=wt}}(ae,ee),J.push(ae)}}function Qi(J,z){var L=(z=this.options=function(Q,ee){for(var ce in ee)Q[ce]=ee[ce];return Q}(Object.create(this.options),z)).debug;if(L&&console.time("preprocess data"),z.maxZoom<0||z.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(z.promoteId&&z.generateId)throw new Error("promoteId and generateId cannot be used together.");var Z=function(Q,ee){var ce=[];if(Q.type==="FeatureCollection")for(var ae=0;ae<Q.features.length;ae++)Cr(ce,Q.features[ae],ee,ae);else Cr(ce,Q.type==="Feature"?Q:{geometry:Q},ee);return ce}(J,z);this.tiles={},this.tileCoords=[],L&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",z.indexMaxZoom,z.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Z=function(Q,ee){var ce=ee.buffer/ee.extent,ae=Q,ue=pn(Q,1,-1-ce,ce,0,-1,2,ee),he=pn(Q,1,1-ce,2+ce,0,-1,2,ee);return(ue||he)&&(ae=pn(Q,1,-ce,1+ce,0,-1,2,ee)||[],ue&&(ae=Ji(ue,1).concat(ae)),he&&(ae=ae.concat(Ji(he,-1)))),ae}(Z,z),Z.length&&this.splitTile(Z,0,0,0),L&&(Z.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function eo(J,z,L){return 32*((1<<J)*L+z)+J}function cl(J,z){const L=J.tileID.canonical;if(!this._geoJSONIndex)return z(null,null);const Z=this._geoJSONIndex.getTile(L.z,L.x,L.y);if(!Z)return z(null,null);const Q=new de(Z.features);let ee=mn(Q);ee.byteOffset===0&&ee.byteLength===ee.buffer.byteLength||(ee=new Uint8Array(ee)),z(null,{vectorTile:Q,rawData:ee.buffer})}Qi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qi.prototype.splitTile=function(J,z,L,Z,Q,ee,ce){for(var ae=[J,z,L,Z],ue=this.options,he=ue.debug;ae.length;){Z=ae.pop(),L=ae.pop(),z=ae.pop(),J=ae.pop();var ke=1<<z,De=eo(z,L,Z),Se=this.tiles[De];if(!Se&&(he>1&&console.time("creation"),Se=this.tiles[De]=Fi(J,z,L,Z,ue),this.tileCoords.push({z,x:L,y:Z}),he)){he>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",z,L,Z,Se.numFeatures,Se.numPoints,Se.numSimplified),console.timeEnd("creation"));var lt="z"+z;this.stats[lt]=(this.stats[lt]||0)+1,this.total++}if(Se.source=J,Q){if(z===ue.maxZoom||z===Q)continue;var et=1<<Q-z;if(L!==Math.floor(ee/et)||Z!==Math.floor(ce/et))continue}else if(z===ue.indexMaxZoom||Se.numPoints<=ue.indexMaxPoints)continue;if(Se.source=null,J.length!==0){he>1&&console.time("clipping");var dt,wt,Xt,Ut,Bt,Ot,Rt=.5*ue.buffer/ue.extent,Qn=.5-Rt,qn=.5+Rt,xr=1+Rt;dt=wt=Xt=Ut=null,Bt=pn(J,ke,L-Rt,L+qn,0,Se.minX,Se.maxX,ue),Ot=pn(J,ke,L+Qn,L+xr,0,Se.minX,Se.maxX,ue),J=null,Bt&&(dt=pn(Bt,ke,Z-Rt,Z+qn,1,Se.minY,Se.maxY,ue),wt=pn(Bt,ke,Z+Qn,Z+xr,1,Se.minY,Se.maxY,ue),Bt=null),Ot&&(Xt=pn(Ot,ke,Z-Rt,Z+qn,1,Se.minY,Se.maxY,ue),Ut=pn(Ot,ke,Z+Qn,Z+xr,1,Se.minY,Se.maxY,ue),Ot=null),he>1&&console.timeEnd("clipping"),ae.push(dt||[],z+1,2*L,2*Z),ae.push(wt||[],z+1,2*L,2*Z+1),ae.push(Xt||[],z+1,2*L+1,2*Z),ae.push(Ut||[],z+1,2*L+1,2*Z+1)}}},Qi.prototype.getTile=function(J,z,L){var Z=this.options,Q=Z.extent,ee=Z.debug;if(J<0||J>24)return null;var ce=1<<J,ae=eo(J,z=(z%ce+ce)%ce,L);if(this.tiles[ae])return ar(this.tiles[ae],Q);ee>1&&console.log("drilling down to z%d-%d-%d",J,z,L);for(var ue,he=J,ke=z,De=L;!ue&&he>0;)he--,ke=Math.floor(ke/2),De=Math.floor(De/2),ue=this.tiles[eo(he,ke,De)];return ue&&ue.source?(ee>1&&console.log("found parent tile z%d-%d-%d",he,ke,De),ee>1&&console.time("drilling down"),this.splitTile(ue.source,he,ke,De,J,z,L),ee>1&&console.timeEnd("drilling down"),this.tiles[ae]?ar(this.tiles[ae],Q):null):null};class hs extends H{constructor(z,L,Z,Q){super(z,L,Z,cl),Q&&(this.loadGeoJSON=Q)}loadData(z,L){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=L,this._pendingLoadDataParams=z,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())}_loadData(){if(!this._pendingCallback||!this._pendingLoadDataParams)return;const z=this._pendingCallback,L=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;const Z=!!(L&&L.request&&L.request.collectResourceTiming)&&new u.RequestPerformance(L.request);this.loadGeoJSON(L,(Q,ee)=>{if(Q||!ee)return z(Q);if(typeof ee!="object")return z(new Error(`Input data given to '${L.source}' is not a valid GeoJSON object.`));{V(ee,!0);try{if(L.filter){const ae=u.createExpression(L.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ae.result==="error")throw new Error(ae.value.map(he=>`${he.key}: ${he.message}`).join(", "));const ue=ee.features.filter(he=>ae.value.evaluate({zoom:0},he));ee={type:"FeatureCollection",features:ue}}this._geoJSONIndex=L.cluster?new ti(function({superclusterOptions:ae,clusterProperties:ue}){if(!ue||!ae)return ae;const he={},ke={},De={accumulated:null,zoom:0},Se={properties:null},lt=Object.keys(ue);for(const et of lt){const[dt,wt]=ue[et],Xt=u.createExpression(wt),Ut=u.createExpression(typeof dt=="string"?[dt,["accumulated"],["get",et]]:dt);he[et]=Xt.value,ke[et]=Ut.value}return ae.map=et=>{Se.properties=et;const dt={};for(const wt of lt)dt[wt]=he[wt].evaluate(De,Se);return dt},ae.reduce=(et,dt)=>{Se.properties=dt;for(const wt of lt)De.accumulated=et[wt],et[wt]=ke[wt].evaluate(De,Se)},ae}(L)).load(ee.features):function(ae,ue){return new Qi(ae,ue)}(ee,L.geojsonVtOptions)}catch(ae){return z(ae)}this.loaded={};const ce={};if(Z){const ae=Z.finish();ae&&(ce.resourceTiming={},ce.resourceTiming[L.source]=JSON.parse(JSON.stringify(ae)))}z(null,ce)}})}coalesce(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())}reloadTile(z,L){const Z=this.loaded;return Z&&Z[z.uid]?super.reloadTile(z,L):this.loadTile(z,L)}loadGeoJSON(z,L){if(z.request)u.getJSON(z.request,L);else{if(typeof z.data!="string")return L(new Error(`Input data given to '${z.source}' is not a valid GeoJSON object.`));try{return L(null,JSON.parse(z.data))}catch{return L(new Error(`Input data given to '${z.source}' is not a valid GeoJSON object.`))}}}removeSource(z,L){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),L()}getClusterExpansionZoom(z,L){try{L(null,this._geoJSONIndex.getClusterExpansionZoom(z.clusterId))}catch(Z){L(Z)}}getClusterChildren(z,L){try{L(null,this._geoJSONIndex.getChildren(z.clusterId))}catch(Z){L(Z)}}getClusterLeaves(z,L){try{L(null,this._geoJSONIndex.getLeaves(z.clusterId,z.limit,z.offset))}catch(Z){L(Z)}}}class ds{constructor(z){this.self=z,this.actor=new u.Actor(z,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:H,geojson:hs},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(L,Z)=>{if(this.workerSourceTypes[L])throw new Error(`Worker source with name "${L}" already registered.`);this.workerSourceTypes[L]=Z},this.self.registerRTLTextPlugin=L=>{if(u.plugin.isParsed())throw new Error("RTL text plugin already registered.");u.plugin.applyArabicShaping=L.applyArabicShaping,u.plugin.processBidirectionalText=L.processBidirectionalText,u.plugin.processStyledBidirectionalText=L.processStyledBidirectionalText}}setReferrer(z,L){this.referrer=L}setImages(z,L,Z){this.availableImages[z]=L;for(const Q in this.workerSources[z]){const ee=this.workerSources[z][Q];for(const ce in ee)ee[ce].availableImages=L}Z()}setLayers(z,L,Z){this.getLayerIndex(z).replace(L),Z()}updateLayers(z,L,Z){this.getLayerIndex(z).update(L.layers,L.removedIds),Z()}loadTile(z,L,Z){this.getWorkerSource(z,L.type,L.source).loadTile(L,Z)}loadDEMTile(z,L,Z){this.getDEMWorkerSource(z,L.source).loadTile(L,Z)}reloadTile(z,L,Z){this.getWorkerSource(z,L.type,L.source).reloadTile(L,Z)}abortTile(z,L,Z){this.getWorkerSource(z,L.type,L.source).abortTile(L,Z)}removeTile(z,L,Z){this.getWorkerSource(z,L.type,L.source).removeTile(L,Z)}removeDEMTile(z,L){this.getDEMWorkerSource(z,L.source).removeTile(L)}removeSource(z,L,Z){if(!this.workerSources[z]||!this.workerSources[z][L.type]||!this.workerSources[z][L.type][L.source])return;const Q=this.workerSources[z][L.type][L.source];delete this.workerSources[z][L.type][L.source],Q.removeSource!==void 0?Q.removeSource(L,Z):Z()}loadWorkerSource(z,L,Z){try{this.self.importScripts(L.url),Z()}catch(Q){Z(Q.toString())}}syncRTLPluginState(z,L,Z){try{u.plugin.setState(L);const Q=u.plugin.getPluginURL();if(u.plugin.isLoaded()&&!u.plugin.isParsed()&&Q!=null){this.self.importScripts(Q);const ee=u.plugin.isParsed();Z(ee?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Q}`),ee)}}catch(Q){Z(Q.toString())}}getAvailableImages(z){let L=this.availableImages[z];return L||(L=[]),L}getLayerIndex(z){let L=this.layerIndexes[z];return L||(L=this.layerIndexes[z]=new C),L}getWorkerSource(z,L,Z){if(this.workerSources[z]||(this.workerSources[z]={}),this.workerSources[z][L]||(this.workerSources[z][L]={}),!this.workerSources[z][L][Z]){const Q={send:(ee,ce,ae)=>{this.actor.send(ee,ce,ae,z)}};this.workerSources[z][L][Z]=new this.workerSourceTypes[L](Q,this.getLayerIndex(z),this.getAvailableImages(z))}return this.workerSources[z][L][Z]}getDEMWorkerSource(z,L){return this.demWorkerSources[z]||(this.demWorkerSources[z]={}),this.demWorkerSources[z][L]||(this.demWorkerSources[z][L]=new le),this.demWorkerSources[z][L]}enforceCacheSizeLimit(z,L){u.enforceCacheSizeLimit(L)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new ds(self)),ds}),h(["./shared"],function(u){var w=b;function b(g){return!function(o){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var p,y,x=new Blob([""],{type:"text/javascript"}),E=URL.createObjectURL(x);try{y=new Worker(E),p=!0}catch{p=!1}return y&&y.terminate(),URL.revokeObjectURL(E),p}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var p=document.createElement("canvas");p.width=p.height=1;var y=p.getContext("2d");if(!y)return!1;var x=y.getImageData(0,0,1,1);return x&&x.width===p.width}()?(C[c=o&&o.failIfMajorPerformanceCaveat]===void 0&&(C[c]=function(p){var y,x=function(E){var P=document.createElement("canvas"),I=Object.create(b.webGLContextAttributes);return I.failIfMajorPerformanceCaveat=E,P.getContext("webgl",I)||P.getContext("experimental-webgl",I)}(p);if(!x)return!1;try{y=x.createShader(x.VERTEX_SHADER)}catch{return!1}return!(!y||x.isContextLost())&&(x.shaderSource(y,"void main() {}"),x.compileShader(y),x.getShaderParameter(y,x.COMPILE_STATUS)===!0)}(c)),C[c]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var c}(g)}var C={};function M(g,o){if(Array.isArray(g)){if(!Array.isArray(o)||g.length!==o.length)return!1;for(let c=0;c<g.length;c++)if(!M(g[c],o[c]))return!1;return!0}if(typeof g=="object"&&g!==null&&o!==null){if(typeof o!="object"||Object.keys(g).length!==Object.keys(o).length)return!1;for(const c in g)if(!M(g[c],o[c]))return!1;return!0}return g===o}b.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class T{static testProp(o){if(!T.docStyle)return o[0];for(let c=0;c<o.length;c++)if(o[c]in T.docStyle)return o[c];return o[0]}static create(o,c,p){const y=window.document.createElement(o);return c!==void 0&&(y.className=c),p&&p.appendChild(y),y}static createNS(o,c){return window.document.createElementNS(o,c)}static disableDrag(){T.docStyle&&T.selectProp&&(T.userSelect=T.docStyle[T.selectProp],T.docStyle[T.selectProp]="none")}static enableDrag(){T.docStyle&&T.selectProp&&(T.docStyle[T.selectProp]=T.userSelect)}static setTransform(o,c){o.style[T.transformProp]=c}static addEventListener(o,c,p,y={}){o.addEventListener(c,p,"passive"in y?y:y.capture)}static removeEventListener(o,c,p,y={}){o.removeEventListener(c,p,"passive"in y?y:y.capture)}static suppressClickInternal(o){o.preventDefault(),o.stopPropagation(),window.removeEventListener("click",T.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",T.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",T.suppressClickInternal,!0)},0)}static mousePos(o,c){const p=o.getBoundingClientRect();return new u.pointGeometry(c.clientX-p.left-o.clientLeft,c.clientY-p.top-o.clientTop)}static touchPos(o,c){const p=o.getBoundingClientRect(),y=[];for(let x=0;x<c.length;x++)y.push(new u.pointGeometry(c[x].clientX-p.left-o.clientLeft,c[x].clientY-p.top-o.clientTop));return y}static mouseButton(o){return o.button}static remove(o){o.parentNode&&o.parentNode.removeChild(o)}}T.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,T.selectProp=T.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),T.transformProp=T.testProp(["transform","WebkitTransform"]);class N{constructor(o){this._transformRequestFn=o}transformRequest(o,c){return this._transformRequestFn&&this._transformRequestFn(o,c)||{url:o}}normalizeSpriteURL(o,c,p){const y=function(x){const E=x.match(W);if(!E)throw new Error(`Unable to parse URL "${x}"`);return{protocol:E[1],authority:E[2],path:E[3]||"/",params:E[4]?E[4].split("&"):[]}}(o);return y.path+=`${c}${p}`,function(x){const E=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${E}`}(y)}setTransformRequest(o){this._transformRequestFn=o}}const W=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function H(g){var o=new u.ARRAY_TYPE(3);return o[0]=g[0],o[1]=g[1],o[2]=g[2],o}var le,V=function(g,o,c){return g[0]=o[0]-c[0],g[1]=o[1]-c[1],g[2]=o[2]-c[2],g};le=new u.ARRAY_TYPE(3),u.ARRAY_TYPE!=Float32Array&&(le[0]=0,le[1]=0,le[2]=0);var B=function(g){var o=g[0],c=g[1];return o*o+c*c};(function(){var g=new u.ARRAY_TYPE(2);u.ARRAY_TYPE!=Float32Array&&(g[0]=0,g[1]=0)})();class Y{constructor(o,c,p,y){this.context=o,this.format=p,this.texture=o.gl.createTexture(),this.update(c,y)}update(o,c,p){const{width:y,height:x}=o,E=!(this.size&&this.size[0]===y&&this.size[1]===x||p),{context:P}=this,{gl:I}=P;if(this.useMipmap=Boolean(c&&c.useMipmap),I.bindTexture(I.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!c||c.premultiply!==!1)),E)this.size=[y,x],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||u.isImageBitmap(o)?I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,I.UNSIGNED_BYTE,o):I.texImage2D(I.TEXTURE_2D,0,this.format,y,x,0,this.format,I.UNSIGNED_BYTE,o.data);else{const{x:D,y:F}=p||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||u.isImageBitmap(o)?I.texSubImage2D(I.TEXTURE_2D,0,D,F,I.RGBA,I.UNSIGNED_BYTE,o):I.texSubImage2D(I.TEXTURE_2D,0,D,F,y,x,I.RGBA,I.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&I.generateMipmap(I.TEXTURE_2D)}bind(o,c,p){const{context:y}=this,{gl:x}=y;x.bindTexture(x.TEXTURE_2D,this.texture),p!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=x.LINEAR),o!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,o),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,p||o),this.filter=o),c!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,c),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}function se(g){const{userImage:o}=g;return!!(o&&o.render&&o.render())&&(g.data.replace(new Uint8Array(o.data.buffer)),!0)}class oe extends u.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new u.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(o){if(this.loaded!==o&&(this.loaded=o,o)){for(const{ids:c,callback:p}of this.requestors)this._notify(c,p);this.requestors=[]}}getImage(o){return this.images[o]}addImage(o,c){this._validate(o,c)&&(this.images[o]=c)}_validate(o,c){let p=!0;return this._validateStretch(c.stretchX,c.data&&c.data.width)||(this.fire(new u.ErrorEvent(new Error(`Image "${o}" has invalid "stretchX" value`))),p=!1),this._validateStretch(c.stretchY,c.data&&c.data.height)||(this.fire(new u.ErrorEvent(new Error(`Image "${o}" has invalid "stretchY" value`))),p=!1),this._validateContent(c.content,c)||(this.fire(new u.ErrorEvent(new Error(`Image "${o}" has invalid "content" value`))),p=!1),p}_validateStretch(o,c){if(!o)return!0;let p=0;for(const y of o){if(y[0]<p||y[1]<y[0]||c<y[1])return!1;p=y[1]}return!0}_validateContent(o,c){return!(o&&(o.length!==4||o[0]<0||c.data.width<o[0]||o[1]<0||c.data.height<o[1]||o[2]<0||c.data.width<o[2]||o[3]<0||c.data.height<o[3]||o[2]<o[0]||o[3]<o[1]))}updateImage(o,c){c.version=this.images[o].version+1,this.images[o]=c,this.updatedImages[o]=!0}removeImage(o){const c=this.images[o];delete this.images[o],delete this.patterns[o],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(o,c){let p=!0;if(!this.isLoaded())for(const y of o)this.images[y]||(p=!1);this.isLoaded()||p?this._notify(o,c):this.requestors.push({ids:o,callback:c})}_notify(o,c){const p={};for(const y of o){this.images[y]||this.fire(new u.Event("styleimagemissing",{id:y}));const x=this.images[y];x?p[y]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:Boolean(x.userImage&&x.userImage.render)}:u.warnOnce(`Image "${y}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}c(null,p)}getPixelSize(){const{width:o,height:c}=this.atlasImage;return{width:o,height:c}}getPattern(o){const c=this.patterns[o],p=this.getImage(o);if(!p)return null;if(c&&c.position.version===p.version)return c.position;if(c)c.position.version=p.version;else{const y={w:p.data.width+2,h:p.data.height+2,x:0,y:0},x=new u.ImagePosition(y,p);this.patterns[o]={bin:y,position:x}}return this._updatePatternAtlas(),this.patterns[o].position}bind(o){const c=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Y(o,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const o=[];for(const x in this.patterns)o.push(this.patterns[x].bin);const{w:c,h:p}=u.potpack(o),y=this.atlasImage;y.resize({width:c||1,height:p||1});for(const x in this.patterns){const{bin:E}=this.patterns[x],P=E.x+1,I=E.y+1,D=this.images[x].data,F=D.width,U=D.height;u.RGBAImage.copy(D,y,{x:0,y:0},{x:P,y:I},{width:F,height:U}),u.RGBAImage.copy(D,y,{x:0,y:U-1},{x:P,y:I-1},{width:F,height:1}),u.RGBAImage.copy(D,y,{x:0,y:0},{x:P,y:I+U},{width:F,height:1}),u.RGBAImage.copy(D,y,{x:F-1,y:0},{x:P-1,y:I},{width:1,height:U}),u.RGBAImage.copy(D,y,{x:0,y:0},{x:P+F,y:I},{width:1,height:U})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(o){for(const c of o){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const p=this.images[c];se(p)&&this.updateImage(c,p)}}}const de=1e20;function me(g,o,c,p,y,x,E,P,I){for(let D=o;D<o+p;D++)xe(g,c*x+D,x,y,E,P,I);for(let D=c;D<c+y;D++)xe(g,D*x+o,1,p,E,P,I)}function xe(g,o,c,p,y,x,E){x[0]=0,E[0]=-de,E[1]=de,y[0]=g[o];for(let P=1,I=0,D=0;P<p;P++){y[P]=g[o+P*c];const F=P*P;do{const U=x[I];D=(y[P]-y[U]+F-U*U)/(P-U)/2}while(D<=E[I]&&--I>-1);I++,x[I]=P,E[I]=D,E[I+1]=de}for(let P=0,I=0;P<p;P++){for(;E[I+1]<P;)I++;const D=x[I],F=P-D;g[o+P*c]=y[D]+F*F}}class Be{constructor(o,c){this.requestManager=o,this.localIdeographFontFamily=c,this.entries={}}setURL(o){this.url=o}getGlyphs(o,c){const p=[];for(const y in o)for(const x of o[y])p.push({stack:y,id:x});u.asyncAll(p,({stack:y,id:x},E)=>{let P=this.entries[y];P||(P=this.entries[y]={glyphs:{},requests:{},ranges:{}});let I=P.glyphs[x];if(I!==void 0)return void E(null,{stack:y,id:x,glyph:I});if(I=this._tinySDF(P,y,x),I)return P.glyphs[x]=I,void E(null,{stack:y,id:x,glyph:I});const D=Math.floor(x/256);if(256*D>65535)return void E(new Error("glyphs > 65535 not supported"));if(P.ranges[D])return void E(null,{stack:y,id:x,glyph:I});let F=P.requests[D];F||(F=P.requests[D]=[],Be.loadGlyphRange(y,D,this.url,this.requestManager,(U,X)=>{if(X){for(const ne in X)this._doesCharSupportLocalGlyph(+ne)||(P.glyphs[+ne]=X[+ne]);P.ranges[D]=!0}for(const ne of F)ne(U,X);delete P.requests[D]})),F.push((U,X)=>{U?E(U):X&&E(null,{stack:y,id:x,glyph:X[x]||null})})},(y,x)=>{if(y)c(y);else if(x){const E={};for(const{stack:P,id:I,glyph:D}of x)(E[P]||(E[P]={}))[I]=D&&{id:D.id,bitmap:D.bitmap.clone(),metrics:D.metrics};c(null,E)}})}_doesCharSupportLocalGlyph(o){return!!this.localIdeographFontFamily&&(u.unicodeBlockLookup["CJK Unified Ideographs"](o)||u.unicodeBlockLookup["Hangul Syllables"](o)||u.unicodeBlockLookup.Hiragana(o)||u.unicodeBlockLookup.Katakana(o))}_tinySDF(o,c,p){const y=this.localIdeographFontFamily;if(!y||!this._doesCharSupportLocalGlyph(p))return;let x=o.tinySDF;if(!x){let P="400";/bold/i.test(c)?P="900":/medium/i.test(c)?P="500":/light/i.test(c)&&(P="200"),x=o.tinySDF=new Be.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:y,fontWeight:P})}const E=x.draw(String.fromCharCode(p));return{id:p,bitmap:new u.AlphaImage({width:E.width||30,height:E.height||30},E.data),metrics:{width:E.glyphWidth||24,height:E.glyphHeight||24,left:E.glyphLeft||0,top:E.glyphTop-27||-8,advance:E.glyphAdvance||24}}}}Be.loadGlyphRange=function(g,o,c,p,y){const x=256*o,E=x+255,P=p.transformRequest(c.replace("{fontstack}",g).replace("{range}",`${x}-${E}`),u.ResourceType.Glyphs);u.getArrayBuffer(P,(I,D)=>{if(I)y(I);else if(D){const F={};for(const U of u.parseGlyphPBF(D))F[U.id]=U;y(null,F)}})},Be.TinySDF=class{constructor({fontSize:g=24,buffer:o=3,radius:c=8,cutoff:p=.25,fontFamily:y="sans-serif",fontWeight:x="normal",fontStyle:E="normal"}={}){this.buffer=o,this.cutoff=p,this.radius=c;const P=this.size=g+4*o,I=this._createCanvas(P),D=this.ctx=I.getContext("2d",{willReadFrequently:!0});D.font=`${E} ${x} ${g}px ${y}`,D.textBaseline="alphabetic",D.textAlign="left",D.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(g){const o=document.createElement("canvas");return o.width=o.height=g,o}draw(g){const{width:o,actualBoundingBoxAscent:c,actualBoundingBoxDescent:p,actualBoundingBoxLeft:y,actualBoundingBoxRight:x}=this.ctx.measureText(g),E=Math.ceil(c),P=Math.min(this.size-this.buffer,Math.ceil(x-y)),I=Math.min(this.size-this.buffer,E+Math.ceil(p)),D=P+2*this.buffer,F=I+2*this.buffer,U=Math.max(D*F,0),X=new Uint8ClampedArray(U),ne={data:X,width:D,height:F,glyphWidth:P,glyphHeight:I,glyphTop:E,glyphLeft:0,glyphAdvance:o};if(P===0||I===0)return ne;const{ctx:K,buffer:te,gridInner:fe,gridOuter:pe}=this;K.clearRect(te,te,P,I),K.fillText(g,te,te+E);const _e=K.getImageData(te,te,P,I);pe.fill(de,0,U),fe.fill(0,0,U);for(let ge=0;ge<I;ge++)for(let Me=0;Me<P;Me++){const Ee=_e.data[4*(ge*P+Me)+3]/255;if(Ee===0)continue;const Ce=(ge+te)*D+Me+te;if(Ee===1)pe[Ce]=0,fe[Ce]=de;else{const Fe=.5-Ee;pe[Ce]=Fe>0?Fe*Fe:0,fe[Ce]=Fe<0?Fe*Fe:0}}me(pe,0,0,D,F,D,this.f,this.v,this.z),me(fe,te,te,P,I,D,this.f,this.v,this.z);for(let ge=0;ge<U;ge++){const Me=Math.sqrt(pe[ge])-Math.sqrt(fe[ge]);X[ge]=Math.round(255-255*(Me/this.radius+this.cutoff))}return ne}};const Ie=new u.Properties({anchor:new u.DataConstantProperty(u.spec.light.anchor),position:new class{constructor(){this.specification=u.spec.light.position}possiblyEvaluate(g,o){return u.sphericalToCartesian(g.expression.evaluate(o))}interpolate(g,o,c){return{x:u.number(g.x,o.x,c),y:u.number(g.y,o.y,c),z:u.number(g.z,o.z,c)}}},color:new u.DataConstantProperty(u.spec.light.color),intensity:new u.DataConstantProperty(u.spec.light.intensity)}),Qe="-transition";class Tt extends u.Evented{constructor(o){super(),this._transitionable=new u.Transitionable(Ie),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(o,c={}){if(!this._validate(u.validateLight,o,c))for(const p in o){const y=o[p];p.endsWith(Qe)?this._transitionable.setTransition(p.slice(0,-Qe.length),y):this._transitionable.setValue(p,y)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,c,p){return(!p||p.validate!==!1)&&u.emitValidationErrors(this,o.call(u.validateStyle,u.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:u.spec})))}}class Ct{constructor(o,c){this.width=o,this.height=c,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(o,c){const p=o.join(",")+String(c);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(o,c)),this.dashEntry[p]}getDashRanges(o,c,p){const y=[];let x=o.length%2==1?-o[o.length-1]*p:0,E=o[0]*p,P=!0;y.push({left:x,right:E,isDash:P,zeroLength:o[0]===0});let I=o[0];for(let D=1;D<o.length;D++){P=!P;const F=o[D];x=I*p,I+=F,E=I*p,y.push({left:x,right:E,isDash:P,zeroLength:F===0})}return y}addRoundDash(o,c,p){const y=c/2;for(let x=-p;x<=p;x++){const E=this.width*(this.nextRow+p+x);let P=0,I=o[P];for(let D=0;D<this.width;D++){D/I.right>1&&(I=o[++P]);const F=Math.abs(D-I.left),U=Math.abs(D-I.right),X=Math.min(F,U);let ne;const K=x/p*(y+1);if(I.isDash){const te=y-Math.abs(K);ne=Math.sqrt(X*X+te*te)}else ne=y-Math.sqrt(X*X+K*K);this.data[E+D]=Math.max(0,Math.min(255,ne+128))}}}addRegularDash(o){for(let P=o.length-1;P>=0;--P){const I=o[P],D=o[P+1];I.zeroLength?o.splice(P,1):D&&D.isDash===I.isDash&&(D.left=I.left,o.splice(P,1))}const c=o[0],p=o[o.length-1];c.isDash===p.isDash&&(c.left=p.left-this.width,p.right=c.right+this.width);const y=this.width*this.nextRow;let x=0,E=o[x];for(let P=0;P<this.width;P++){P/E.right>1&&(E=o[++x]);const I=Math.abs(P-E.left),D=Math.abs(P-E.right),F=Math.min(I,D);this.data[y+P]=Math.max(0,Math.min(255,(E.isDash?F:-F)+128))}}addDash(o,c){const p=c?7:0,y=2*p+1;if(this.nextRow+y>this.height)return u.warnOnce("LineAtlas out of space"),null;let x=0;for(let P=0;P<o.length;P++)x+=o[P];if(x!==0){const P=this.width/x,I=this.getDashRanges(o,this.width,P);c?this.addRoundDash(I,P,p):this.addRegularDash(I)}const E={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:x};return this.nextRow+=y,this.dirty=!0,E}bind(o){const c=o.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))}}class Et{constructor(o,c){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=u.uniqueId();const p=this.workerPool.acquire(this.id);for(let y=0;y<p.length;y++){const x=new Et.Actor(p[y],c,this.id);x.name=`Worker ${y}`,this.actors.push(x)}}broadcast(o,c,p){u.asyncAll(this.actors,(y,x)=>{y.send(o,c,x)},p=p||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(o=>{o.remove()}),this.actors=[],this.workerPool.release(this.id)}}function jt(g,o,c){const p=function(y,x){if(y)return c(y);if(x){const E=u.pick(u.extend(x,g),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(E.vectorLayers=x.vector_layers,E.vectorLayerIds=E.vectorLayers.map(P=>P.id)),c(null,E)}};return g.url?u.getJSON(o.transformRequest(g.url,u.ResourceType.Source),p):u.exported.frame(()=>p(null,g))}Et.Actor=u.Actor;class tt{constructor(o,c,p){this.bounds=u.LngLatBounds.convert(this.validateBounds(o)),this.minzoom=c||0,this.maxzoom=p||24}validateBounds(o){return Array.isArray(o)&&o.length===4?[Math.max(-180,o[0]),Math.max(-90,o[1]),Math.min(180,o[2]),Math.min(90,o[3])]:[-180,-90,180,90]}contains(o){const c=Math.pow(2,o.z),p=Math.floor(u.mercatorXfromLng(this.bounds.getWest())*c),y=Math.floor(u.mercatorYfromLat(this.bounds.getNorth())*c),x=Math.ceil(u.mercatorXfromLng(this.bounds.getEast())*c),E=Math.ceil(u.mercatorYfromLat(this.bounds.getSouth())*c);return o.x>=p&&o.x<x&&o.y>=y&&o.y<E}}class dn extends u.Evented{constructor(o,c,p,y){if(super(),this.id=o,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.extend(this,u.pick(c,["url","scheme","tileSize","promoteId"])),this._options=u.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}load(){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=jt(this._options,this.map._requestManager,(o,c)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),o?this.fire(new u.ErrorEvent(o)):c&&(u.extend(this,c),c.bounds&&(this.tileBounds=new tt(c.bounds,this.minzoom,this.maxzoom)),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}onAdd(o){this.map=o,this.load()}setSourceProperty(o){this._tileJSONRequest&&this._tileJSONRequest.cancel(),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}setUrl(o){return this.setSourceProperty(()=>{this.url=o,this._options.url=o}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return u.extend({},this._options)}loadTile(o,c){const p=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),y={request:this.map._requestManager.transformRequest(p,u.ResourceType.Tile),uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(E,P){return delete o.request,o.aborted?c(null):E&&E.status!==404?c(E):(P&&P.resourceTiming&&(o.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&o.setExpiryData(P),o.loadVectorData(P,this.map.painter),u.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(o.reloadCallback&&(this.loadTile(o,o.reloadCallback),o.reloadCallback=null)))}y.request.collectResourceTiming=this._collectResourceTiming,o.actor&&o.state!=="expired"?o.state==="loading"?o.reloadCallback=c:o.request=o.actor.send("reloadTile",y,x.bind(this)):(o.actor=this.dispatcher.getActor(),o.request=o.actor.send("loadTile",y,x.bind(this)))}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.actor&&o.actor.send("abortTile",{uid:o.uid,type:this.type,source:this.id},void 0)}unloadTile(o){o.unloadVectorData(),o.actor&&o.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Ne extends u.Evented{constructor(o,c,p,y){super(),this.id=o,this.dispatcher=p,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.extend({type:"raster"},c),u.extend(this,u.pick(c,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=jt(this._options,this.map._requestManager,(o,c)=>{this._tileJSONRequest=null,this._loaded=!0,o?this.fire(new u.ErrorEvent(o)):c&&(u.extend(this,c),c.bounds&&(this.tileBounds=new tt(c.bounds,this.minzoom,this.maxzoom)),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(o){this.map=o,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return u.extend({},this._options)}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}loadTile(o,c){const p=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);o.request=u.getImage(this.map._requestManager.transformRequest(p,u.ResourceType.Tile),(y,x,E)=>{if(delete o.request,o.aborted)o.state="unloaded",c(null);else if(y)o.state="errored",c(y);else if(x){this.map._refreshExpiredTiles&&o.setExpiryData(E);const P=this.map.painter.context,I=P.gl;o.texture=this.map.painter.getTileTexture(x.width),o.texture?o.texture.update(x,{useMipmap:!0}):(o.texture=new Y(P,x,I.RGBA,{useMipmap:!0}),o.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST),P.extTextureFilterAnisotropic&&I.texParameterf(I.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax)),o.state="loaded",u.cacheEntryPossiblyAdded(this.dispatcher),c(null)}})}abortTile(o,c){o.request&&(o.request.cancel(),delete o.request),c()}unloadTile(o,c){o.texture&&this.map.painter.saveTileTexture(o.texture),c()}hasTransition(){return!1}}let nt;class ut extends Ne{constructor(o,c,p,y){super(o,c,p,y),this.type="raster-dem",this.maxzoom=22,this._options=u.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(o,c){const p=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function y(x,E){x&&(o.state="errored",c(x)),E&&(o.dem=E,o.needsHillshadePrepare=!0,o.state="loaded",c(null))}o.request=u.getImage(this.map._requestManager.transformRequest(p,u.ResourceType.Tile),function(x,E){if(delete o.request,o.aborted)o.state="unloaded",c(null);else if(x)o.state="errored",c(x);else if(E){this.map._refreshExpiredTiles&&o.setExpiryData(E),delete E.cacheControl,delete E.expires;const P=u.isImageBitmap(E)&&(nt==null&&(nt=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),nt)?E:u.exported.getImageData(E,1),I={uid:o.uid,coord:o.tileID,source:this.id,rawImageData:P,encoding:this.encoding};o.actor&&o.state!=="expired"||(o.actor=this.dispatcher.getActor(),o.actor.send("loadDEMTile",I,y.bind(this)))}}.bind(this)),o.neighboringTiles=this._getNeighboringTiles(o.tileID)}_getNeighboringTiles(o){const c=o.canonical,p=Math.pow(2,c.z),y=(c.x-1+p)%p,x=c.x===0?o.wrap-1:o.wrap,E=(c.x+1+p)%p,P=c.x+1===p?o.wrap+1:o.wrap,I={};return I[new u.OverscaledTileID(o.overscaledZ,x,c.z,y,c.y).key]={backfilled:!1},I[new u.OverscaledTileID(o.overscaledZ,P,c.z,E,c.y).key]={backfilled:!1},c.y>0&&(I[new u.OverscaledTileID(o.overscaledZ,x,c.z,y,c.y-1).key]={backfilled:!1},I[new u.OverscaledTileID(o.overscaledZ,o.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},I[new u.OverscaledTileID(o.overscaledZ,P,c.z,E,c.y-1).key]={backfilled:!1}),c.y+1<p&&(I[new u.OverscaledTileID(o.overscaledZ,x,c.z,y,c.y+1).key]={backfilled:!1},I[new u.OverscaledTileID(o.overscaledZ,o.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},I[new u.OverscaledTileID(o.overscaledZ,P,c.z,E,c.y+1).key]={backfilled:!1}),I}unloadTile(o){o.demTexture&&this.map.painter.saveTileTexture(o.demTexture),o.fbo&&(o.fbo.destroy(),delete o.fbo),o.dem&&delete o.dem,delete o.neighboringTiles,o.state="unloaded",o.actor&&o.actor.send("removeDEMTile",{uid:o.uid,source:this.id})}}class Ft extends u.Evented{constructor(o,c,p,y){super(),this.id=o,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(y),this._data=c.data,this._options=u.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const x=u.EXTENT/this.tileSize;this.workerOptions=u.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*x,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*x,extent:u.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:u.EXTENT,radius:(c.clusterRadius||50)*x,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(o){this.map=o,this.load()}setData(o){return this._data=o,this._updateWorkerData("content"),this}getClusterExpansionZoom(o,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:o,source:this.id},c),this}getClusterChildren(o,c){return this.actor.send("geojson.getClusterChildren",{clusterId:o,source:this.id},c),this}getClusterLeaves(o,c,p,y){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:o,limit:c,offset:p},y),this}_updateWorkerData(o){const c=u.extend({},this.workerOptions),p=this._data;typeof p=="string"?(c.request=this.map._requestManager.transformRequest(u.exported.resolveURL(p),u.ResourceType.Source),c.request.collectResourceTiming=this._collectResourceTiming):c.data=JSON.stringify(p),this._pendingLoads++,this.fire(new u.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,c,(y,x)=>{if(this._pendingLoads--,this._removed||x&&x.abandoned)return;let E=null;if(x&&x.resourceTiming&&x.resourceTiming[this.id]&&(E=x.resourceTiming[this.id].slice(0)),this.actor.send(`${this.type}.coalesce`,{source:c.source},null),y)return void this.fire(new u.ErrorEvent(y));const P={dataType:"source",sourceDataType:o};this._collectResourceTiming&&E&&E.length>0&&u.extend(P,{resourceTiming:E}),this.fire(new u.Event("data",P))})}loaded(){return this._pendingLoads===0}loadTile(o,c){const p=o.actor?"reloadTile":"loadTile";o.actor=this.actor;const y={type:this.type,uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};o.request=this.actor.send(p,y,(x,E)=>(delete o.request,o.unloadVectorData(),o.aborted?c(null):x?c(x):(o.loadVectorData(E,this.map.painter,p==="reloadTile"),c(null))))}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.aborted=!0}unloadTile(o){o.unloadVectorData(),this.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return u.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var ct=u.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class mn extends u.Evented{constructor(o,c,p,y){super(),this.id=o,this.dispatcher=p,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=c}load(o,c){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this.url=this.options.url,u.getImage(this.map._requestManager.transformRequest(this.url,u.ResourceType.Image),(p,y)=>{this._loaded=!0,p?this.fire(new u.ErrorEvent(p)):y&&(this.image=y,o&&(this.coordinates=o),c&&c(),this._finishLoading())})}loaded(){return this._loaded}updateImage(o){return this.image&&o.url?(this.options.url=o.url,this.load(o.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}setCoordinates(o){this.coordinates=o;const c=o.map(u.MercatorCoordinate.fromLngLat);this.tileID=function(y){let x=1/0,E=1/0,P=-1/0,I=-1/0;for(const X of y)x=Math.min(x,X.x),E=Math.min(E,X.y),P=Math.max(P,X.x),I=Math.max(I,X.y);const D=Math.max(P-x,I-E),F=Math.max(0,Math.floor(-Math.log(D)/Math.LN2)),U=Math.pow(2,F);return new u.CanonicalTileID(F,Math.floor((x+P)/2*U),Math.floor((E+I)/2*U))}(c),this.minzoom=this.maxzoom=this.tileID.z;const p=c.map(y=>this.tileID.getTilePoint(y)._round());return this._boundsArray=new u.RasterBoundsArray,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,u.EXTENT,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,u.EXTENT),this._boundsArray.emplaceBack(p[2].x,p[2].y,u.EXTENT,u.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const o=this.map.painter.context,c=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,ct.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Y(o,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));for(const p in this.tiles){const y=this.tiles[p];y.state!=="loaded"&&(y.state="loaded",y.texture=this.texture)}}loadTile(o,c){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},c(null)):(o.state="errored",c(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class rn extends mn{constructor(o,c,p,y){super(o,c,p,y),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const o=this.options;this.urls=[];for(const c of o.urls)this.urls.push(this.map._requestManager.transformRequest(c,u.ResourceType.Source).url);u.getVideo(this.urls,(c,p)=>{this._loaded=!0,c?this.fire(new u.ErrorEvent(c)):p&&(this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(o){if(this.video){const c=this.video.seekable;o<c.start(0)||o>c.end(0)?this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=o}}getVideo(){return this.video}onAdd(o){this.map||(this.map=o,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const o=this.map.painter.context,c=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,ct.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new Y(o,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));for(const p in this.tiles){const y=this.tiles[p];y.state!=="loaded"&&(y.state="loaded",y.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Jn extends mn{constructor(o,c,p,y){super(o,c,p,y),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(E=>typeof E!="number"))||this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${o}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${o}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${o}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof HTMLCanvasElement||this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${o}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${o}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(o){this.map=o,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let o=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,o=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,o=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context,p=c.gl;this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,ct.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(o||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Y(c,this.canvas,p.RGBA,{premultiply:!0});for(const y in this.tiles){const x=this.tiles[y];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const o of[this.canvas.width,this.canvas.height])if(isNaN(o)||o<=0)return!0;return!1}}const Ht={vector:dn,raster:Ne,"raster-dem":ut,geojson:Ft,video:rn,image:mn,canvas:Jn};function Gn(g,o){const c=u.create();return u.translate(c,c,[1,1,0]),u.scale(c,c,[.5*g.width,.5*g.height,1]),u.multiply(c,c,g.calculatePosMatrix(o.toUnwrapped()))}function kr(g,o,c,p,y,x){const E=function(U,X,ne){if(U)for(const K of U){const te=X[K];if(te&&te.source===ne&&te.type==="fill-extrusion")return!0}else for(const K in X){const te=X[K];if(te.source===ne&&te.type==="fill-extrusion")return!0}return!1}(y&&y.layers,o,g.id),P=x.maxPitchScaleFactor(),I=g.tilesIn(p,P,E);I.sort(fi);const D=[];for(const U of I)D.push({wrappedTileID:U.tileID.wrapped().key,queryResults:U.tile.queryRenderedFeatures(o,c,g._state,U.queryGeometry,U.cameraQueryGeometry,U.scale,y,x,P,Gn(g.transform,U.tileID))});const F=function(U){const X={},ne={};for(const K of U){const te=K.queryResults,fe=K.wrappedTileID,pe=ne[fe]=ne[fe]||{};for(const _e in te){const ge=te[_e],Me=pe[_e]=pe[_e]||{},Ee=X[_e]=X[_e]||[];for(const Ce of ge)Me[Ce.featureIndex]||(Me[Ce.featureIndex]=!0,Ee.push(Ce))}}return X}(D);for(const U in F)F[U].forEach(X=>{const ne=X.feature,K=g.getFeatureState(ne.layer["source-layer"],ne.id);ne.source=ne.layer.source,ne.layer["source-layer"]&&(ne.sourceLayer=ne.layer["source-layer"]),ne.state=K});return F}function fi(g,o){const c=g.tileID,p=o.tileID;return c.overscaledZ-p.overscaledZ||c.canonical.y-p.canonical.y||c.wrap-p.wrap||c.canonical.x-p.canonical.x}class pi{constructor(o,c){this.tileID=o,this.uid=u.uniqueId(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(o){const c=o+this.timeAdded;c<u.exported.now()||this.fadeEndTime&&c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}loadVectorData(o,c,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(y,x){const E={};if(!x)return E;for(const P of y){const I=P.layerIds.map(D=>x.getLayer(D)).filter(Boolean);if(I.length!==0){P.layers=I,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(D=>I.filter(F=>F.id===D)[0]));for(const D of I)E[D.id]=P}}return E}(o.buckets,c.style),this.hasSymbolBuckets=!1;for(const y in this.buckets){const x=this.buckets[y];if(x instanceof u.SymbolBucket){if(this.hasSymbolBuckets=!0,!p)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const y in this.buckets){const x=this.buckets[y];if(x instanceof u.SymbolBucket&&x.hasRTLText){this.hasRTLText=!0,u.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const y in this.buckets){const x=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(y).queryRadius(x))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new u.CollisionBoxArray}unloadVectorData(){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(o){return this.buckets[o.id]}upload(o){for(const p in this.buckets){const y=this.buckets[p];y.uploadPending()&&y.upload(o)}const c=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Y(o,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Y(o,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,c,p,y,x,E,P,I,D,F){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:x,scale:E,tileSize:this.tileSize,pixelPosMatrix:F,transform:I,params:P,queryPadding:this.queryPadding*D},o,c,p):{}}querySourceFeatures(o,c){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const y=p.loadVTLayers(),x=c?c.sourceLayer:"",E=y._geojsonTileLayer||y[x];if(!E)return;const P=u.createFilter(c&&c.filter),{z:I,x:D,y:F}=this.tileID.canonical,U={z:I,x:D,y:F};for(let X=0;X<E.length;X++){const ne=E.feature(X);if(P.needGeometry){const fe=u.toEvaluationFeature(ne,!0);if(!P.filter(new u.EvaluationParameters(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!P.filter(new u.EvaluationParameters(this.tileID.overscaledZ),ne))continue;const K=p.getId(ne,x),te=new u.GeoJSONFeature(ne,I,D,F,K);te.tile=U,o.push(te)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const c=this.expirationTime;if(o.cacheControl){const p=u.parseCacheControl(o.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const p=Date.now();let y=!1;if(this.expirationTime>p)y=!1;else if(c)if(this.expirationTime<c)y=!0;else{const x=this.expirationTime-c;x?this.expirationTime=p+Math.max(x,3e4):y=!0}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(o,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(o).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const y in this.buckets){if(!c.style.hasLayer(y))continue;const x=this.buckets[y],E=x.layers[0].sourceLayer||"_geojsonTileLayer",P=p[E],I=o[E];if(!P||!I||Object.keys(I).length===0)continue;x.update(I,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});const D=c&&c.style&&c.style.getLayer(y);D&&(this.queryPadding=Math.max(this.queryPadding,D.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<u.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=u.exported.now()+o}setDependencies(o,c){const p={};for(const y of c)p[y]=!0;this.dependencies[o]=p}hasDependency(o,c){for(const p of o){const y=this.dependencies[p];if(y){for(const x of c)if(y[x])return!0}}return!1}}class fn{constructor(o,c){this.max=o,this.onRemove=c,this.reset()}reset(){for(const o in this.data)for(const c of this.data[o])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(o,c,p){const y=o.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);const x={value:c,timeout:void 0};if(p!==void 0&&(x.timeout=setTimeout(()=>{this.remove(o,x)},p)),this.data[y].push(x),this.order.push(y),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const c=this.data[o].shift();return c.timeout&&clearTimeout(c.timeout),this.data[o].length===0&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),c.value}getByKey(o){const c=this.data[o];return c?c[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,c){if(!this.has(o))return this;const p=o.wrapped().key,y=c===void 0?0:this.data[p].indexOf(c),x=this.data[p][y];return this.data[p].splice(y,1),x.timeout&&clearTimeout(x.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(x.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(o){const c=[];for(const p in this.data)for(const y of this.data[p])o(y.value)||c.push(y);for(const p of c)this.remove(p.value.tileID,p)}}class Rn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,c,p){const y=String(c);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][y]=this.stateChanges[o][y]||{},u.extend(this.stateChanges[o][y],p),this.deletedStates[o]===null){this.deletedStates[o]={};for(const x in this.state[o])x!==y&&(this.deletedStates[o][x]=null)}else if(this.deletedStates[o]&&this.deletedStates[o][y]===null){this.deletedStates[o][y]={};for(const x in this.state[o][y])p[x]||(this.deletedStates[o][y][x]=null)}else for(const x in p)this.deletedStates[o]&&this.deletedStates[o][y]&&this.deletedStates[o][y][x]===null&&delete this.deletedStates[o][y][x]}removeFeatureState(o,c,p){if(this.deletedStates[o]===null)return;const y=String(c);if(this.deletedStates[o]=this.deletedStates[o]||{},p&&c!==void 0)this.deletedStates[o][y]!==null&&(this.deletedStates[o][y]=this.deletedStates[o][y]||{},this.deletedStates[o][y][p]=null);else if(c!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][y])for(p in this.deletedStates[o][y]={},this.stateChanges[o][y])this.deletedStates[o][y][p]=null;else this.deletedStates[o][y]=null;else this.deletedStates[o]=null}getState(o,c){const p=String(c),y=u.extend({},(this.state[o]||{})[p],(this.stateChanges[o]||{})[p]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){const x=this.deletedStates[o][c];if(x===null)return{};for(const E in x)delete y[E]}return y}initializeTileState(o,c){o.setFeatureState(this.state,c)}coalesceChanges(o,c){const p={};for(const y in this.stateChanges){this.state[y]=this.state[y]||{};const x={};for(const E in this.stateChanges[y])this.state[y][E]||(this.state[y][E]={}),u.extend(this.state[y][E],this.stateChanges[y][E]),x[E]=this.state[y][E];p[y]=x}for(const y in this.deletedStates){this.state[y]=this.state[y]||{};const x={};if(this.deletedStates[y]===null)for(const E in this.state[y])x[E]={},this.state[y][E]={};else for(const E in this.deletedStates[y]){if(this.deletedStates[y][E]===null)this.state[y][E]={};else for(const P of Object.keys(this.deletedStates[y][E]))delete this.state[y][E][P];x[E]=this.state[y][E]}p[y]=p[y]||{},u.extend(p[y],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const y in o)o[y].setFeatureState(p,c)}}class Pn extends u.Evented{constructor(o,c,p){super(),this.id=o,this.dispatcher=p,this.on("data",y=>{y.dataType==="source"&&y.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&y.dataType==="source"&&y.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(y,x,E,P){const I=new Ht[x.type](y,x,E,P);if(I.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${I.id}`);return u.bindAll(["load","abort","unload","serialize","prepare"],I),I}(o,c,p,this),this._tiles={},this._cache=new fn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Rn}onAdd(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(o)}onRemove(o){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(o)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const o in this._tiles){const c=this._tiles[o];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(o,c){return this._source.loadTile(o,c)}_unloadTile(o){if(this._source.unloadTile)return this._source.unloadTile(o,()=>{})}_abortTile(o){this._source.abortTile&&this._source.abortTile(o,()=>{}),this._source.fire(new u.Event("dataabort",{tile:o,coord:o.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const c in this._tiles){const p=this._tiles[c];p.upload(o),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(o=>o.tileID).sort(jr).map(o=>o.key)}getRenderableIds(o){const c=[];for(const p in this._tiles)this._isIdRenderable(p,o)&&c.push(this._tiles[p]);return o?c.sort((p,y)=>{const x=p.tileID,E=y.tileID,P=new u.pointGeometry(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),I=new u.pointGeometry(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-E.overscaledZ||I.y-P.y||I.x-P.x}).map(p=>p.tileID.key):c.map(p=>p.tileID).sort(jr).map(p=>p.key)}hasRenderableParent(o){const c=this.findLoadedParent(o,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(o,c){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(c||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)this._tiles[o].state!=="errored"&&this._reloadTile(o,"reloading")}}_reloadTile(o,c){const p=this._tiles[o];p&&(p.state!=="loading"&&(p.state=c),this._loadTile(p,this._tileLoaded.bind(this,p,o,c)))}_tileLoaded(o,c,p,y){if(y)return o.state="errored",void(y.status!==404?this._source.fire(new u.ErrorEvent(y,{tile:o})):this.update(this.transform));o.timeAdded=u.exported.now(),p==="expired"&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(c,o),this.getSource().type==="raster-dem"&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),o.aborted||this._source.fire(new u.Event("data",{dataType:"source",tile:o,coord:o.tileID}))}_backfillDEM(o){const c=this.getRenderableIds();for(let y=0;y<c.length;y++){const x=c[y];if(o.neighboringTiles&&o.neighboringTiles[x]){const E=this.getTileByID(x);p(o,E),p(E,o)}}function p(y,x){y.needsHillshadePrepare=!0;let E=x.tileID.canonical.x-y.tileID.canonical.x;const P=x.tileID.canonical.y-y.tileID.canonical.y,I=Math.pow(2,y.tileID.canonical.z),D=x.tileID.key;E===0&&P===0||Math.abs(P)>1||(Math.abs(E)>1&&(Math.abs(E+I)===1?E+=I:Math.abs(E-I)===1&&(E-=I)),x.dem&&y.dem&&(y.dem.backfillBorder(x.dem,E,P),y.neighboringTiles&&y.neighboringTiles[D]&&(y.neighboringTiles[D].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,c,p,y){for(const x in this._tiles){let E=this._tiles[x];if(y[x]||!E.hasData()||E.tileID.overscaledZ<=c||E.tileID.overscaledZ>p)continue;let P=E.tileID;for(;E&&E.tileID.overscaledZ>c+1;){const D=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[D.key],E&&E.hasData()&&(P=D)}let I=P;for(;I.overscaledZ>c;)if(I=I.scaledTo(I.overscaledZ-1),o[I.key]){y[P.key]=P;break}}}findLoadedParent(o,c){if(o.key in this._loadedParentTiles){const p=this._loadedParentTiles[o.key];return p&&p.tileID.overscaledZ>=c?p:null}for(let p=o.overscaledZ-1;p>=c;p--){const y=o.scaledTo(p),x=this._getLoadedTile(y);if(x)return x}}_getLoadedTile(o){const c=this._tiles[o.key];return c&&c.hasData()?c:this._cache.getByKey(o.wrapped().key)}updateCacheSize(o){const c=Math.ceil(o.width/this._source.tileSize)+1,p=Math.ceil(o.height/this._source.tileSize)+1,y=Math.floor(c*p*5),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(x)}handleWrapJump(o){const c=Math.round((o-(this._prevLng===void 0?o:this._prevLng))/360);if(this._prevLng=o,c){const p={};for(const y in this._tiles){const x=this._tiles[y];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+c),p[x.tileID.key]=x}this._tiles=p;for(const y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(const y in this._tiles)this._setTileReloadTimer(y,this._tiles[y])}}update(o){if(this.transform=o,!this._sourceLoaded||this._paused)return;let c;this.updateCacheSize(o),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?c=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(I=>new u.OverscaledTileID(I.canonical.z,I.wrap,I.canonical.z,I.canonical.x,I.canonical.y)):(c=o.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(c=c.filter(I=>this._source.hasTile(I)))):c=[];const p=o.coveringZoomLevel(this._source),y=Math.max(p-Pn.maxOverzooming,this._source.minzoom),x=Math.max(p+Pn.maxUnderzooming,this._source.minzoom),E=this._updateRetainedTiles(c,p);if(ti(this._source.type)){const I={},D={},F=Object.keys(E);for(const U of F){const X=E[U],ne=this._tiles[U];if(!ne||ne.fadeEndTime&&ne.fadeEndTime<=u.exported.now())continue;const K=this.findLoadedParent(X,y);K&&(this._addTile(K.tileID),I[K.tileID.key]=K.tileID),D[U]=X}this._retainLoadedChildren(D,p,x,E);for(const U in I)E[U]||(this._coveredTiles[U]=!0,E[U]=I[U])}for(const I in E)this._tiles[I].clearFadeHold();const P=u.keysDifference(this._tiles,E);for(const I of P){const D=this._tiles[I];D.hasSymbolBuckets&&!D.holdingForFade()?D.setHoldDuration(this.map._fadeDuration):D.hasSymbolBuckets&&!D.symbolFadeFinished()||this._removeTile(I)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(o)}_updateRetainedTiles(o,c){const p={},y={},x=Math.max(c-Pn.maxOverzooming,this._source.minzoom),E=Math.max(c+Pn.maxUnderzooming,this._source.minzoom),P={};for(const I of o){const D=this._addTile(I);p[I.key]=I,D.hasData()||c<this._source.maxzoom&&(P[I.key]=I)}this._retainLoadedChildren(P,c,E,p);for(const I of o){let D=this._tiles[I.key];if(D.hasData())continue;if(c+1>this._source.maxzoom){const U=I.children(this._source.maxzoom)[0],X=this.getTile(U);if(X&&X.hasData()){p[U.key]=U;continue}}else{const U=I.children(this._source.maxzoom);if(p[U[0].key]&&p[U[1].key]&&p[U[2].key]&&p[U[3].key])continue}let F=D.wasRequested();for(let U=I.overscaledZ-1;U>=x;--U){const X=I.scaledTo(U);if(y[X.key]||(y[X.key]=!0,D=this.getTile(X),!D&&F&&(D=this._addTile(X)),D&&(p[X.key]=X,F=D.wasRequested(),D.hasData())))break}}return p}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const c=[];let p,y=this._tiles[o].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){p=this._loadedParentTiles[y.key];break}c.push(y.key);const x=y.scaledTo(y.overscaledZ-1);if(p=this._getLoadedTile(x),p)break;y=x}for(const x of c)this._loadedParentTiles[x]=p}}_addTile(o){let c=this._tiles[o.key];if(c)return c;c=this._cache.getAndRemove(o),c&&(this._setTileReloadTimer(o.key,c),c.tileID=o,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,c)));const p=c;return c||(c=new pi(o,this._source.tileSize*o.overscaleFactor()),this._loadTile(c,this._tileLoaded.bind(this,c,o.key,c.state))),c.uses++,this._tiles[o.key]=c,p||this._source.fire(new u.Event("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c}_setTileReloadTimer(o,c){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const p=c.getExpiryTimeout();p&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},p))}_removeTile(o){const c=this._tiles[o];c&&(c.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(o);this._cache.reset()}tilesIn(o,c,p){const y=[],x=this.transform;if(!x)return y;const E=p?x.getCameraQueryGeometry(o):o,P=o.map(K=>x.pointCoordinate(K)),I=E.map(K=>x.pointCoordinate(K)),D=this.getIds();let F=1/0,U=1/0,X=-1/0,ne=-1/0;for(const K of I)F=Math.min(F,K.x),U=Math.min(U,K.y),X=Math.max(X,K.x),ne=Math.max(ne,K.y);for(let K=0;K<D.length;K++){const te=this._tiles[D[K]];if(te.holdingForFade())continue;const fe=te.tileID,pe=Math.pow(2,x.zoom-te.tileID.overscaledZ),_e=c*te.queryPadding*u.EXTENT/te.tileSize/pe,ge=[fe.getTilePoint(new u.MercatorCoordinate(F,U)),fe.getTilePoint(new u.MercatorCoordinate(X,ne))];if(ge[0].x-_e<u.EXTENT&&ge[0].y-_e<u.EXTENT&&ge[1].x+_e>=0&&ge[1].y+_e>=0){const Me=P.map(Ce=>fe.getTilePoint(Ce)),Ee=I.map(Ce=>fe.getTilePoint(Ce));y.push({tile:te,tileID:fe,queryGeometry:Me,cameraQueryGeometry:Ee,scale:pe})}}return y}getVisibleCoordinates(o){const c=this.getRenderableIds(o).map(p=>this._tiles[p].tileID);for(const p of c)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return c}hasTransition(){if(this._source.hasTransition())return!0;if(ti(this._source.type))for(const o in this._tiles){const c=this._tiles[o];if(c.fadeEndTime!==void 0&&c.fadeEndTime>=u.exported.now())return!0}return!1}setFeatureState(o,c,p){this._state.updateState(o=o||"_geojsonTileLayer",c,p)}removeFeatureState(o,c,p){this._state.removeFeatureState(o=o||"_geojsonTileLayer",c,p)}getFeatureState(o,c){return this._state.getState(o=o||"_geojsonTileLayer",c)}setDependencies(o,c,p){const y=this._tiles[o];y&&y.setDependencies(c,p)}reloadTilesForDependencies(o,c){for(const p in this._tiles)this._tiles[p].hasDependency(o,c)&&this._reloadTile(p,"reloading");this._cache.filter(p=>!p.hasDependency(o,c))}}function jr(g,o){const c=Math.abs(2*g.wrap)-+(g.wrap<0),p=Math.abs(2*o.wrap)-+(o.wrap<0);return g.overscaledZ-o.overscaledZ||p-c||o.canonical.y-g.canonical.y||o.canonical.x-g.canonical.x}function ti(g){return g==="raster"||g==="image"||g==="video"}Pn.maxOverzooming=10,Pn.maxUnderzooming=3;const Oi="mapboxgl_preloaded_worker_pool";class fr{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<fr.workerCount;)this.workers.push(new Worker(Pl.workerUrl));return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Oi]}numActive(){return Object.keys(this.active).length}}const So=Math.floor(u.exported.hardwareConcurrency/2);let Rr;function pr(){return Rr||(Rr=new fr),Rr}function Wn(g,o){const c={};for(const p in g)p!=="ref"&&(c[p]=g[p]);return u.refProperties.forEach(p=>{p in o&&(c[p]=o[p])}),c}function jo(g){g=g.slice();const o=Object.create(null);for(let c=0;c<g.length;c++)o[g[c].id]=g[c];for(let c=0;c<g.length;c++)"ref"in g[c]&&(g[c]=Wn(g[c],o[g[c].ref]));return g}fr.workerCount=Math.max(Math.min(So,6),1);const $t={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function He(g,o,c){c.push({command:$t.addSource,args:[g,o[g]]})}function xt(g,o,c){o.push({command:$t.removeSource,args:[g]}),c[g]=!0}function on(g,o,c,p){xt(g,c,p),He(g,o,c)}function kn(g,o,c){let p;for(p in g[c])if(Object.prototype.hasOwnProperty.call(g[c],p)&&p!=="data"&&!M(g[c][p],o[c][p]))return!1;for(p in o[c])if(Object.prototype.hasOwnProperty.call(o[c],p)&&p!=="data"&&!M(g[c][p],o[c][p]))return!1;return!0}function ve(g,o,c,p,y,x){let E;for(E in o=o||{},g=g||{})Object.prototype.hasOwnProperty.call(g,E)&&(M(g[E],o[E])||c.push({command:x,args:[p,E,o[E],y]}));for(E in o)Object.prototype.hasOwnProperty.call(o,E)&&!Object.prototype.hasOwnProperty.call(g,E)&&(M(g[E],o[E])||c.push({command:x,args:[p,E,o[E],y]}))}function je(g){return g.id}function Cr(g,o){return g[o.id]=o,g}class mi{constructor(o,c){this.reset(o,c)}reset(o,c){this.points=o||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(o){if(this.points.length===1)return this.points[0];o=u.clamp(o,0,1);let c=1,p=this._distances[c];const y=o*this.paddedLength+this.padding;for(;p<y&&c<this._distances.length;)p=this._distances[++c];const x=c-1,E=this._distances[x],P=p-E,I=P>0?(y-E)/P:0;return this.points[x].mult(1-I).add(this.points[c].mult(I))}}function an(g,o){let c=!0;return g==="always"||g!=="never"&&o!=="never"||(c=!1),c}class Lr{constructor(o,c,p){const y=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(o/p),this.yCellCount=Math.ceil(c/p);for(let E=0;E<this.xCellCount*this.yCellCount;E++)y.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=o,this.height=c,this.xScale=this.xCellCount/o,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(o,c,p,y,x){this._forEachCell(c,p,y,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(o),this.bboxes.push(c),this.bboxes.push(p),this.bboxes.push(y),this.bboxes.push(x)}insertCircle(o,c,p,y){this._forEachCell(c-y,p-y,c+y,p+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(o),this.circles.push(c),this.circles.push(p),this.circles.push(y)}_insertBoxCell(o,c,p,y,x,E){this.boxCells[x].push(E)}_insertCircleCell(o,c,p,y,x,E){this.circleCells[x].push(E)}_query(o,c,p,y,x,E,P){if(p<0||o>this.width||y<0||c>this.height)return[];const I=[];if(o<=0&&c<=0&&this.width<=p&&this.height<=y){if(x)return[{key:null,x1:o,y1:c,x2:p,y2:y}];for(let D=0;D<this.boxKeys.length;D++)I.push({key:this.boxKeys[D],x1:this.bboxes[4*D],y1:this.bboxes[4*D+1],x2:this.bboxes[4*D+2],y2:this.bboxes[4*D+3]});for(let D=0;D<this.circleKeys.length;D++){const F=this.circles[3*D],U=this.circles[3*D+1],X=this.circles[3*D+2];I.push({key:this.circleKeys[D],x1:F-X,y1:U-X,x2:F+X,y2:U+X})}}else this._forEachCell(o,c,p,y,this._queryCell,I,{hitTest:x,overlapMode:E,seenUids:{box:{},circle:{}}},P);return I}query(o,c,p,y){return this._query(o,c,p,y,!1,null)}hitTest(o,c,p,y,x,E){return this._query(o,c,p,y,!0,x,E).length>0}hitTestCircle(o,c,p,y,x){const E=o-p,P=o+p,I=c-p,D=c+p;if(P<0||E>this.width||D<0||I>this.height)return!1;const F=[];return this._forEachCell(E,I,P,D,this._queryCellCircle,F,{hitTest:!0,overlapMode:y,circle:{x:o,y:c,radius:p},seenUids:{box:{},circle:{}}},x),F.length>0}_queryCell(o,c,p,y,x,E,P,I){const{seenUids:D,hitTest:F,overlapMode:U}=P,X=this.boxCells[x];if(X!==null){const K=this.bboxes;for(const te of X)if(!D.box[te]){D.box[te]=!0;const fe=4*te,pe=this.boxKeys[te];if(o<=K[fe+2]&&c<=K[fe+3]&&p>=K[fe+0]&&y>=K[fe+1]&&(!I||I(pe))&&(!F||!an(U,pe.overlapMode))&&(E.push({key:pe,x1:K[fe],y1:K[fe+1],x2:K[fe+2],y2:K[fe+3]}),F))return!0}}const ne=this.circleCells[x];if(ne!==null){const K=this.circles;for(const te of ne)if(!D.circle[te]){D.circle[te]=!0;const fe=3*te,pe=this.circleKeys[te];if(this._circleAndRectCollide(K[fe],K[fe+1],K[fe+2],o,c,p,y)&&(!I||I(pe))&&(!F||!an(U,pe.overlapMode))){const _e=K[fe],ge=K[fe+1],Me=K[fe+2];if(E.push({key:pe,x1:_e-Me,y1:ge-Me,x2:_e+Me,y2:ge+Me}),F)return!0}}}return!1}_queryCellCircle(o,c,p,y,x,E,P,I){const{circle:D,seenUids:F,overlapMode:U}=P,X=this.boxCells[x];if(X!==null){const K=this.bboxes;for(const te of X)if(!F.box[te]){F.box[te]=!0;const fe=4*te,pe=this.boxKeys[te];if(this._circleAndRectCollide(D.x,D.y,D.radius,K[fe+0],K[fe+1],K[fe+2],K[fe+3])&&(!I||I(pe))&&!an(U,pe.overlapMode))return E.push(!0),!0}}const ne=this.circleCells[x];if(ne!==null){const K=this.circles;for(const te of ne)if(!F.circle[te]){F.circle[te]=!0;const fe=3*te,pe=this.circleKeys[te];if(this._circlesCollide(K[fe],K[fe+1],K[fe+2],D.x,D.y,D.radius)&&(!I||I(pe))&&!an(U,pe.overlapMode))return E.push(!0),!0}}}_forEachCell(o,c,p,y,x,E,P,I){const D=this._convertToXCellCoord(o),F=this._convertToYCellCoord(c),U=this._convertToXCellCoord(p),X=this._convertToYCellCoord(y);for(let ne=D;ne<=U;ne++)for(let K=F;K<=X;K++)if(x.call(this,o,c,p,y,this.xCellCount*K+ne,E,P,I))return}_convertToXCellCoord(o){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(o*this.xScale)))}_convertToYCellCoord(o){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(o*this.yScale)))}_circlesCollide(o,c,p,y,x,E){const P=y-o,I=x-c,D=p+E;return D*D>P*P+I*I}_circleAndRectCollide(o,c,p,y,x,E,P){const I=(E-y)/2,D=Math.abs(o-(y+I));if(D>I+p)return!1;const F=(P-x)/2,U=Math.abs(c-(x+F));if(U>F+p)return!1;if(D<=I||U<=F)return!0;const X=D-I,ne=U-F;return X*X+ne*ne<=p*p}}function or(g,o,c,p,y){const x=u.create();return o?(u.scale(x,x,[1/y,1/y,1]),c||u.rotateZ(x,x,p.angle)):u.multiply(x,p.labelPlaneMatrix,g),x}function Ki(g,o,c,p,y){if(o){const x=u.clone(g);return u.scale(x,x,[y,y,1]),c||u.rotateZ(x,x,-p.angle),x}return p.glCoordMatrix}function pn(g,o){const c=[g.x,g.y,0,1];xn(c,c,o);const p=c[3];return{point:new u.pointGeometry(c[0]/p,c[1]/p),signedDistanceFromCamera:p}}function Ue(g,o){return .5+g/o*.5}function Dt(g,o){const c=g[0]/g[3],p=g[1]/g[3];return c>=-o[0]&&c<=o[0]&&p>=-o[1]&&p<=o[1]}function At(g,o,c,p,y,x,E,P,I){const D=p?g.textSizeData:g.iconSizeData,F=u.evaluateSizeForZoom(D,c.transform.zoom),U=[256/c.width*2+1,256/c.height*2+1],X=p?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;X.clear();const ne=g.lineVertexArray,K=p?g.text.placedSymbolArray:g.icon.placedSymbolArray,te=c.transform.width/c.transform.height;let fe=!1;for(let pe=0;pe<K.length;pe++){const _e=K.get(pe);if(_e.hidden||_e.writingMode===u.WritingMode.vertical&&!fe){ar(_e.numGlyphs,X);continue}fe=!1;const ge=[_e.anchorX,_e.anchorY,0,1];if(u.transformMat4(ge,ge,o),!Dt(ge,U)){ar(_e.numGlyphs,X);continue}const Me=Ue(c.transform.cameraToCenterDistance,ge[3]),Ee=u.evaluateSizeForFeature(D,F,_e),Ce=E?Ee/Me:Ee*Me,Fe=new u.pointGeometry(_e.anchorX,_e.anchorY),Ge=pn(Fe,y).point,Ae={},st=Lt(_e,Ce,!1,P,o,y,x,g.glyphOffsetArray,ne,X,Ge,Fe,Ae,te,I);fe=st.useVertical,(st.notEnoughRoom||fe||st.needsFlipping&&Lt(_e,Ce,!0,P,o,y,x,g.glyphOffsetArray,ne,X,Ge,Fe,Ae,te,I).notEnoughRoom)&&ar(_e.numGlyphs,X)}p?g.text.dynamicLayoutVertexBuffer.updateData(X):g.icon.dynamicLayoutVertexBuffer.updateData(X)}function Ur(g,o,c,p,y,x,E,P,I,D,F,U){const X=P.glyphStartIndex+P.numGlyphs,ne=P.lineStartIndex,K=P.lineStartIndex+P.lineLength,te=o.getoffsetX(P.glyphStartIndex),fe=o.getoffsetX(X-1),pe=Ji(g*te,c,p,y,x,E,P.segment,ne,K,I,D,F,U);if(!pe)return null;const _e=Ji(g*fe,c,p,y,x,E,P.segment,ne,K,I,D,F,U);return _e?{first:pe,last:_e}:null}function Yi(g,o,c,p){return g===u.WritingMode.horizontal&&Math.abs(c.y-o.y)>Math.abs(c.x-o.x)*p?{useVertical:!0}:(g===u.WritingMode.vertical?o.y<c.y:o.x>c.x)?{needsFlipping:!0}:null}function Lt(g,o,c,p,y,x,E,P,I,D,F,U,X,ne,K){const te=o/24,fe=g.lineOffsetX*te,pe=g.lineOffsetY*te;let _e;if(g.numGlyphs>1){const ge=g.glyphStartIndex+g.numGlyphs,Me=g.lineStartIndex,Ee=g.lineStartIndex+g.lineLength,Ce=Ur(te,P,fe,pe,c,F,U,g,I,x,X,K);if(!Ce)return{notEnoughRoom:!0};const Fe=pn(Ce.first.point,E).point,Ge=pn(Ce.last.point,E).point;if(p&&!c){const Ae=Yi(g.writingMode,Fe,Ge,ne);if(Ae)return Ae}_e=[Ce.first];for(let Ae=g.glyphStartIndex+1;Ae<ge-1;Ae++)_e.push(Ji(te*P.getoffsetX(Ae),fe,pe,c,F,U,g.segment,Me,Ee,I,x,X,K));_e.push(Ce.last)}else{if(p&&!c){const Me=pn(U,y).point,Ee=g.lineStartIndex+g.segment+1,Ce=new u.pointGeometry(I.getx(Ee),I.gety(Ee)),Fe=pn(Ce,y),Ge=Fe.signedDistanceFromCamera>0?Fe.point:Ea(U,Ce,Me,1,y),Ae=Yi(g.writingMode,Me,Ge,ne);if(Ae)return Ae}const ge=Ji(te*P.getoffsetX(g.glyphStartIndex),fe,pe,c,F,U,g.segment,g.lineStartIndex,g.lineStartIndex+g.lineLength,I,x,X,K);if(!ge)return{notEnoughRoom:!0};_e=[ge]}for(const ge of _e)u.addDynamicAttributes(D,ge.point,ge.angle);return{}}function Ea(g,o,c,p,y){const x=pn(g.add(g.sub(o)._unit()),y).point,E=c.sub(x);return c.add(E._mult(p/E.mag()))}function Ji(g,o,c,p,y,x,E,P,I,D,F,U,X){const ne=p?g-o:g+o;let K=ne>0?1:-1,te=0;p&&(K*=-1,te=Math.PI),K<0&&(te+=Math.PI);let fe=K>0?P+E:P+E+1,pe=y,_e=y,ge=0,Me=0;const Ee=Math.abs(ne),Ce=[];for(;ge+Me<=Ee;){if(fe+=K,fe<P||fe>=I)return null;if(_e=pe,Ce.push(pe),pe=U[fe],pe===void 0){const Xe=new u.pointGeometry(D.getx(fe),D.gety(fe)),Pt=pn(Xe,F);if(Pt.signedDistanceFromCamera>0)pe=U[fe]=Pt.point;else{const Zt=fe-K;pe=Ea(ge===0?x:new u.pointGeometry(D.getx(Zt),D.gety(Zt)),Xe,_e,Ee-ge+1,F)}}ge+=Me,Me=_e.dist(pe)}const Fe=(Ee-ge)/Me,Ge=pe.sub(_e),Ae=Ge.mult(Fe)._add(_e);Ae._add(Ge._unit()._perp()._mult(c*K));const st=te+Math.atan2(pe.y-_e.y,pe.x-_e.x);return Ce.push(Ae),{point:Ae,angle:X?st:0,path:Ce}}const Uo=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ar(g,o){for(let c=0;c<g;c++){const p=o.length;o.resize(p+4),o.float32.set(Uo,3*p)}}function xn(g,o,c){const p=o[0],y=o[1];return g[0]=c[0]*p+c[4]*y+c[12],g[1]=c[1]*p+c[5]*y+c[13],g[3]=c[3]*p+c[7]*y+c[15],g}const Fi=100;class ka{constructor(o,c=new Lr(o.width+200,o.height+200,25),p=new Lr(o.width+200,o.height+200,25)){this.transform=o,this.grid=c,this.ignoredGrid=p,this.pitchfactor=Math.cos(o._pitch)*o.cameraToCenterDistance,this.screenRightBoundary=o.width+Fi,this.screenBottomBoundary=o.height+Fi,this.gridRightBoundary=o.width+200,this.gridBottomBoundary=o.height+200}placeCollisionBox(o,c,p,y,x){const E=this.projectAndGetPerspectiveRatio(y,o.anchorPointX,o.anchorPointY),P=p*E.perspectiveRatio,I=o.x1*P+E.point.x,D=o.y1*P+E.point.y,F=o.x2*P+E.point.x,U=o.y2*P+E.point.y;return!this.isInsideGrid(I,D,F,U)||c!=="always"&&this.grid.hitTest(I,D,F,U,c,x)?{box:[],offscreen:!1}:{box:[I,D,F,U],offscreen:this.isOffscreen(I,D,F,U)}}placeCollisionCircles(o,c,p,y,x,E,P,I,D,F,U,X,ne){const K=[],te=new u.pointGeometry(c.anchorX,c.anchorY),fe=pn(te,E),pe=Ue(this.transform.cameraToCenterDistance,fe.signedDistanceFromCamera),_e=(F?x/pe:x*pe)/u.ONE_EM,ge=pn(te,P).point,Me=Ur(_e,y,c.lineOffsetX*_e,c.lineOffsetY*_e,!1,ge,te,c,p,P,{},!1);let Ee=!1,Ce=!1,Fe=!0;if(Me){const Ge=.5*X*pe+ne,Ae=new u.pointGeometry(-100,-100),st=new u.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Xe=new mi,Pt=Me.first,Zt=Me.last;let Vt=[];for(let It=Pt.path.length-1;It>=1;It--)Vt.push(Pt.path[It]);for(let It=1;It<Zt.path.length;It++)Vt.push(Zt.path[It]);const Gt=2.5*Ge;if(I){const It=Vt.map(Yt=>pn(Yt,I));Vt=It.some(Yt=>Yt.signedDistanceFromCamera<=0)?[]:It.map(Yt=>Yt.point)}let Vn=[];if(Vt.length>0){const It=Vt[0].clone(),Yt=Vt[0].clone();for(let gn=1;gn<Vt.length;gn++)It.x=Math.min(It.x,Vt[gn].x),It.y=Math.min(It.y,Vt[gn].y),Yt.x=Math.max(Yt.x,Vt[gn].x),Yt.y=Math.max(Yt.y,Vt[gn].y);Vn=It.x>=Ae.x&&Yt.x<=st.x&&It.y>=Ae.y&&Yt.y<=st.y?[Vt]:Yt.x<Ae.x||It.x>st.x||Yt.y<Ae.y||It.y>st.y?[]:u.clipLine([Vt],Ae.x,Ae.y,st.x,st.y)}for(const It of Vn){Xe.reset(It,.25*Ge);let Yt=0;Yt=Xe.length<=.5*Ge?1:Math.ceil(Xe.paddedLength/Gt)+1;for(let gn=0;gn<Yt;gn++){const Pr=gn/Math.max(Yt-1,1),_i=Xe.lerp(Pr),Bi=_i.x+Fi,Vi=_i.y+Fi;K.push(Bi,Vi,Ge,0);const la=Bi-Ge,oi=Vi-Ge,ko=Bi+Ge,Ra=Vi+Ge;if(Fe=Fe&&this.isOffscreen(la,oi,ko,Ra),Ce=Ce||this.isInsideGrid(la,oi,ko,Ra),o!=="always"&&this.grid.hitTestCircle(Bi,Vi,Ge,o,U)&&(Ee=!0,!D))return{circles:[],offscreen:!1,collisionDetected:Ee}}}}return{circles:!D&&Ee||!Ce?[]:K,offscreen:Fe,collisionDetected:Ee}}queryRenderedSymbols(o){if(o.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const c=[];let p=1/0,y=1/0,x=-1/0,E=-1/0;for(const F of o){const U=new u.pointGeometry(F.x+Fi,F.y+Fi);p=Math.min(p,U.x),y=Math.min(y,U.y),x=Math.max(x,U.x),E=Math.max(E,U.y),c.push(U)}const P=this.grid.query(p,y,x,E).concat(this.ignoredGrid.query(p,y,x,E)),I={},D={};for(const F of P){const U=F.key;if(I[U.bucketInstanceId]===void 0&&(I[U.bucketInstanceId]={}),I[U.bucketInstanceId][U.featureIndex])continue;const X=[new u.pointGeometry(F.x1,F.y1),new u.pointGeometry(F.x2,F.y1),new u.pointGeometry(F.x2,F.y2),new u.pointGeometry(F.x1,F.y2)];u.polygonIntersectsPolygon(c,X)&&(I[U.bucketInstanceId][U.featureIndex]=!0,D[U.bucketInstanceId]===void 0&&(D[U.bucketInstanceId]=[]),D[U.bucketInstanceId].push(U.featureIndex))}return D}insertCollisionBox(o,c,p,y,x,E){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:x,collisionGroupID:E,overlapMode:c},o[0],o[1],o[2],o[3])}insertCollisionCircles(o,c,p,y,x,E){const P=p?this.ignoredGrid:this.grid,I={bucketInstanceId:y,featureIndex:x,collisionGroupID:E,overlapMode:c};for(let D=0;D<o.length;D+=4)P.insertCircle(I,o[D],o[D+1],o[D+2])}projectAndGetPerspectiveRatio(o,c,p){const y=[c,p,0,1];return xn(y,y,o),{point:new u.pointGeometry((y[0]/y[3]+1)/2*this.transform.width+Fi,(-y[1]/y[3]+1)/2*this.transform.height+Fi),perspectiveRatio:.5+this.transform.cameraToCenterDistance/y[3]*.5}}isOffscreen(o,c,p,y){return p<Fi||o>=this.screenRightBoundary||y<Fi||c>this.screenBottomBoundary}isInsideGrid(o,c,p,y){return p>=0&&o<this.gridRightBoundary&&y>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const o=u.identity([]);return u.translate(o,o,[-100,-100,0]),o}}function mr(g,o,c){return o*(u.EXTENT/(g.tileSize*Math.pow(2,c-g.tileID.overscaledZ)))}class Qi{constructor(o,c,p,y){this.opacity=o?Math.max(0,Math.min(1,o.opacity+(o.placed?c:-c))):y&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class eo{constructor(o,c,p,y,x){this.text=new Qi(o?o.text:null,c,p,x),this.icon=new Qi(o?o.icon:null,c,y,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class cl{constructor(o,c,p){this.text=o,this.icon=c,this.skipFade=p}}class hs{constructor(){this.invProjMatrix=u.create(),this.viewportMatrix=u.create(),this.circles=[]}}class ds{constructor(o,c,p,y,x){this.bucketInstanceId=o,this.featureIndex=c,this.sourceLayerIndex=p,this.bucketIndex=y,this.tileID=x}}class J{constructor(o){this.crossSourceCollisions=o,this.maxGroupID=0,this.collisionGroups={}}get(o){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[o]){const c=++this.maxGroupID;this.collisionGroups[o]={ID:c,predicate:p=>p.collisionGroupID===c}}return this.collisionGroups[o]}}function z(g,o,c,p,y){const{horizontalAlign:x,verticalAlign:E}=u.getAnchorAlignment(g),P=-(x-.5)*o,I=-(E-.5)*c,D=u.evaluateVariableOffset(g,p);return new u.pointGeometry(P+D[0]*y,I+D[1]*y)}function L(g,o,c,p,y,x){const{x1:E,x2:P,y1:I,y2:D,anchorPointX:F,anchorPointY:U}=g,X=new u.pointGeometry(o,c);return p&&X._rotate(y?x:-x),{x1:E+X.x,y1:I+X.y,x2:P+X.x,y2:D+X.y,anchorPointX:F,anchorPointY:U}}class Z{constructor(o,c,p,y){this.transform=o.clone(),this.collisionIndex=new ka(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=c,this.retainedQueryData={},this.collisionGroups=new J(p),this.collisionCircleArrays={},this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(o,c,p,y){const x=p.getBucket(c),E=p.latestFeatureIndex;if(!x||!E||c.id!==x.layerIds[0])return;const P=p.collisionBoxArray,I=x.layers[0].layout,D=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),F=p.tileSize/u.EXTENT,U=this.transform.calculatePosMatrix(p.tileID.toUnwrapped()),X=I.get("text-pitch-alignment")==="map",ne=I.get("text-rotation-alignment")==="map",K=mr(p,1,this.transform.zoom),te=or(U,X,ne,this.transform,K);let fe=null;if(X){const _e=Ki(U,X,ne,this.transform,K);fe=u.multiply([],this.transform.labelPlaneMatrix,_e)}this.retainedQueryData[x.bucketInstanceId]=new ds(x.bucketInstanceId,E,x.sourceLayerIndex,x.index,p.tileID);const pe={bucket:x,layout:I,posMatrix:U,textLabelPlaneMatrix:te,labelToScreenMatrix:fe,scale:D,textPixelRatio:F,holdingForFade:p.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:u.evaluateSizeForZoom(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(y)for(const _e of x.sortKeyRanges){const{sortKey:ge,symbolInstanceStart:Me,symbolInstanceEnd:Ee}=_e;o.push({sortKey:ge,symbolInstanceStart:Me,symbolInstanceEnd:Ee,parameters:pe})}else o.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:pe})}attemptAnchorPlacement(o,c,p,y,x,E,P,I,D,F,U,X,ne,K,te){const fe=[X.textOffset0,X.textOffset1],pe=z(o,p,y,fe,x),_e=this.collisionIndex.placeCollisionBox(L(c,pe.x,pe.y,E,P,this.transform.angle),U,I,D,F.predicate);if((!te||this.collisionIndex.placeCollisionBox(L(te,pe.x,pe.y,E,P,this.transform.angle),U,I,D,F.predicate).box.length!==0)&&_e.box.length>0){let ge;return this.prevPlacement&&this.prevPlacement.variableOffsets[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID].text&&(ge=this.prevPlacement.variableOffsets[X.crossTileID].anchor),this.variableOffsets[X.crossTileID]={textOffset:fe,width:p,height:y,anchor:o,textBoxScale:x,prevAnchor:ge},this.markUsedJustification(ne,o,X,K),ne.allowVerticalPlacement&&(this.markUsedOrientation(ne,K,X),this.placedOrientations[X.crossTileID]=K),{shift:pe,placedGlyphBoxes:_e}}}placeLayerBucketPart(o,c,p){const{bucket:y,layout:x,posMatrix:E,textLabelPlaneMatrix:P,labelToScreenMatrix:I,textPixelRatio:D,holdingForFade:F,collisionBoxArray:U,partiallyEvaluatedTextSize:X,collisionGroup:ne}=o.parameters,K=x.get("text-optional"),te=x.get("icon-optional"),fe=u.getOverlapMode(x,"text-overlap","text-allow-overlap"),pe=fe==="always",_e=u.getOverlapMode(x,"icon-overlap","icon-allow-overlap"),ge=_e==="always",Me=x.get("text-rotation-alignment")==="map",Ee=x.get("text-pitch-alignment")==="map",Ce=x.get("icon-text-fit")!=="none",Fe=x.get("symbol-z-order")==="viewport-y",Ge=pe&&(ge||!y.hasIconData()||te),Ae=ge&&(pe||!y.hasTextData()||K);!y.collisionArrays&&U&&y.deserializeCollisionBoxes(U);const st=(Xe,Pt)=>{if(c[Xe.crossTileID])return;if(F)return void(this.placements[Xe.crossTileID]=new cl(!1,!1,!1));let Zt=!1,Vt=!1,Gt=!0,Vn=null,It={box:null,offscreen:null},Yt={box:null,offscreen:null},gn=null,Pr=null,_i=null,Bi=0,Vi=0,la=0;Pt.textFeatureIndex?Bi=Pt.textFeatureIndex:Xe.useRuntimeCollisionCircles&&(Bi=Xe.featureIndex),Pt.verticalTextFeatureIndex&&(Vi=Pt.verticalTextFeatureIndex);const oi=Pt.textBox;if(oi){const vi=sn=>{let lr=u.WritingMode.horizontal;if(y.allowVerticalPlacement&&!sn&&this.prevPlacement){const Gr=this.prevPlacement.placedOrientations[Xe.crossTileID];Gr&&(this.placedOrientations[Xe.crossTileID]=Gr,lr=Gr,this.markUsedOrientation(y,lr,Xe))}return lr},Jt=(sn,lr)=>{if(y.allowVerticalPlacement&&Xe.numVerticalGlyphVertices>0&&Pt.verticalTextBox){for(const Gr of y.writingModes)if(Gr===u.WritingMode.vertical?(It=lr(),Yt=It):It=sn(),It&&It.box&&It.box.length)break}else It=sn()};if(x.get("text-variable-anchor")){let sn=x.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Xe.crossTileID]){const Mn=this.prevPlacement.variableOffsets[Xe.crossTileID];sn.indexOf(Mn.anchor)>0&&(sn=sn.filter(La=>La!==Mn.anchor),sn.unshift(Mn.anchor))}const lr=(Mn,La,Co)=>{const Fu=Mn.x2-Mn.x1,qh=Mn.y2-Mn.y1,$u=Xe.textBoxScale,xp=Ce&&_e==="never"?La:null;let Oa={box:[],offscreen:!1};const Bu=fe!=="never"?2*sn.length:sn.length;for(let To=0;To<Bu;++To){const ks=this.attemptAnchorPlacement(sn[To%sn.length],Mn,Fu,qh,$u,Me,Ee,D,E,ne,To>=sn.length?fe:"never",Xe,y,Co,xp);if(ks&&(Oa=ks.placedGlyphBoxes,Oa&&Oa.box&&Oa.box.length)){Zt=!0,Vn=ks.shift;break}}return Oa};Jt(()=>lr(oi,Pt.iconBox,u.WritingMode.horizontal),()=>{const Mn=Pt.verticalTextBox;return y.allowVerticalPlacement&&!(It&&It.box&&It.box.length)&&Xe.numVerticalGlyphVertices>0&&Mn?lr(Mn,Pt.verticalIconBox,u.WritingMode.vertical):{box:null,offscreen:null}}),It&&(Zt=It.box,Gt=It.offscreen);const Gr=vi(It&&It.box);if(!Zt&&this.prevPlacement){const Mn=this.prevPlacement.variableOffsets[Xe.crossTileID];Mn&&(this.variableOffsets[Xe.crossTileID]=Mn,this.markUsedJustification(y,Mn.anchor,Xe,Gr))}}else{const sn=(lr,Gr)=>{const Mn=this.collisionIndex.placeCollisionBox(lr,fe,D,E,ne.predicate);return Mn&&Mn.box&&Mn.box.length&&(this.markUsedOrientation(y,Gr,Xe),this.placedOrientations[Xe.crossTileID]=Gr),Mn};Jt(()=>sn(oi,u.WritingMode.horizontal),()=>{const lr=Pt.verticalTextBox;return y.allowVerticalPlacement&&Xe.numVerticalGlyphVertices>0&&lr?sn(lr,u.WritingMode.vertical):{box:null,offscreen:null}}),vi(It&&It.box&&It.box.length)}}if(gn=It,Zt=gn&&gn.box&&gn.box.length>0,Gt=gn&&gn.offscreen,Xe.useRuntimeCollisionCircles){const vi=y.text.placedSymbolArray.get(Xe.centerJustifiedTextSymbolIndex),Jt=u.evaluateSizeForFeature(y.textSizeData,X,vi),sn=x.get("text-padding");Pr=this.collisionIndex.placeCollisionCircles(fe,vi,y.lineVertexArray,y.glyphOffsetArray,Jt,E,P,I,p,Ee,ne.predicate,Xe.collisionCircleDiameter,sn),Zt=pe||Pr.circles.length>0&&!Pr.collisionDetected,Gt=Gt&&Pr.offscreen}if(Pt.iconFeatureIndex&&(la=Pt.iconFeatureIndex),Pt.iconBox){const vi=Jt=>{const sn=Ce&&Vn?L(Jt,Vn.x,Vn.y,Me,Ee,this.transform.angle):Jt;return this.collisionIndex.placeCollisionBox(sn,_e,D,E,ne.predicate)};Yt&&Yt.box&&Yt.box.length&&Pt.verticalIconBox?(_i=vi(Pt.verticalIconBox),Vt=_i.box.length>0):(_i=vi(Pt.iconBox),Vt=_i.box.length>0),Gt=Gt&&_i.offscreen}const ko=K||Xe.numHorizontalGlyphVertices===0&&Xe.numVerticalGlyphVertices===0,Ra=te||Xe.numIconVertices===0;if(ko||Ra?Ra?ko||(Vt=Vt&&Zt):Zt=Vt&&Zt:Vt=Zt=Vt&&Zt,Zt&&gn&&gn.box&&this.collisionIndex.insertCollisionBox(gn.box,fe,x.get("text-ignore-placement"),y.bucketInstanceId,Yt&&Yt.box&&Vi?Vi:Bi,ne.ID),Vt&&_i&&this.collisionIndex.insertCollisionBox(_i.box,_e,x.get("icon-ignore-placement"),y.bucketInstanceId,la,ne.ID),Pr&&(Zt&&this.collisionIndex.insertCollisionCircles(Pr.circles,fe,x.get("text-ignore-placement"),y.bucketInstanceId,Bi,ne.ID),p)){const vi=y.bucketInstanceId;let Jt=this.collisionCircleArrays[vi];Jt===void 0&&(Jt=this.collisionCircleArrays[vi]=new hs);for(let sn=0;sn<Pr.circles.length;sn+=4)Jt.circles.push(Pr.circles[sn+0]),Jt.circles.push(Pr.circles[sn+1]),Jt.circles.push(Pr.circles[sn+2]),Jt.circles.push(Pr.collisionDetected?1:0)}this.placements[Xe.crossTileID]=new cl(Zt||Ge,Vt||Ae,Gt||y.justReloaded),c[Xe.crossTileID]=!0};if(Fe){const Xe=y.getSortedSymbolIndexes(this.transform.angle);for(let Pt=Xe.length-1;Pt>=0;--Pt){const Zt=Xe[Pt];st(y.symbolInstances.get(Zt),y.collisionArrays[Zt])}}else for(let Xe=o.symbolInstanceStart;Xe<o.symbolInstanceEnd;Xe++)st(y.symbolInstances.get(Xe),y.collisionArrays[Xe]);if(p&&y.bucketInstanceId in this.collisionCircleArrays){const Xe=this.collisionCircleArrays[y.bucketInstanceId];u.invert(Xe.invProjMatrix,E),Xe.viewportMatrix=this.collisionIndex.getViewportMatrix()}y.justReloaded=!1}markUsedJustification(o,c,p,y){let x;x=y===u.WritingMode.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[u.getAnchorJustification(c)];const E=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const P of E)P>=0&&(o.text.placedSymbolArray.get(P).crossTileID=x>=0&&P!==x?0:p.crossTileID)}markUsedOrientation(o,c,p){const y=c===u.WritingMode.horizontal||c===u.WritingMode.horizontalOnly?c:0,x=c===u.WritingMode.vertical?c:0,E=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const P of E)o.text.placedSymbolArray.get(P).placedOrientation=y;p.verticalPlacedTextSymbolIndex&&(o.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(o){this.commitTime=o,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let p=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const y=c?c.symbolFadeChange(o):1,x=c?c.opacities:{},E=c?c.variableOffsets:{},P=c?c.placedOrientations:{};for(const I in this.placements){const D=this.placements[I],F=x[I];F?(this.opacities[I]=new eo(F,y,D.text,D.icon),p=p||D.text!==F.text.placed||D.icon!==F.icon.placed):(this.opacities[I]=new eo(null,y,D.text,D.icon,D.skipFade),p=p||D.text||D.icon)}for(const I in x){const D=x[I];if(!this.opacities[I]){const F=new eo(D,y,!1,!1);F.isHidden()||(this.opacities[I]=F,p=p||D.text.placed||D.icon.placed)}}for(const I in E)this.variableOffsets[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.variableOffsets[I]=E[I]);for(const I in P)this.placedOrientations[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.placedOrientations[I]=P[I]);p?this.lastPlacementChangeTime=o:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:o)}updateLayerOpacities(o,c){const p={};for(const y of c){const x=y.getBucket(o);x&&y.latestFeatureIndex&&o.id===x.layerIds[0]&&this.updateBucketOpacities(x,p,y.collisionBoxArray)}}updateBucketOpacities(o,c,p){o.hasTextData()&&o.text.opacityVertexArray.clear(),o.hasIconData()&&o.icon.opacityVertexArray.clear(),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexArray.clear(),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexArray.clear();const y=o.layers[0].layout,x=new eo(null,0,!1,!1,!0),E=y.get("text-allow-overlap"),P=y.get("icon-allow-overlap"),I=y.get("text-variable-anchor"),D=y.get("text-rotation-alignment")==="map",F=y.get("text-pitch-alignment")==="map",U=y.get("icon-text-fit")!=="none",X=new eo(null,0,E&&(P||!o.hasIconData()||y.get("icon-optional")),P&&(E||!o.hasTextData()||y.get("text-optional")),!0);!o.collisionArrays&&p&&(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData())&&o.deserializeCollisionBoxes(p);const ne=(K,te,fe)=>{for(let pe=0;pe<te/4;pe++)K.opacityVertexArray.emplaceBack(fe)};for(let K=0;K<o.symbolInstances.length;K++){const te=o.symbolInstances.get(K),{numHorizontalGlyphVertices:fe,numVerticalGlyphVertices:pe,crossTileID:_e}=te;let ge=this.opacities[_e];c[_e]?ge=x:ge||(ge=X,this.opacities[_e]=ge),c[_e]=!0;const Me=te.numIconVertices>0,Ee=this.placedOrientations[te.crossTileID],Ce=Ee===u.WritingMode.vertical,Fe=Ee===u.WritingMode.horizontal||Ee===u.WritingMode.horizontalOnly;if(fe>0||pe>0){const Ge=Se(ge.text);ne(o.text,fe,Ce?lt:Ge),ne(o.text,pe,Fe?lt:Ge);const Ae=ge.text.isHidden();[te.rightJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.leftJustifiedTextSymbolIndex].forEach(Pt=>{Pt>=0&&(o.text.placedSymbolArray.get(Pt).hidden=Ae||Ce?1:0)}),te.verticalPlacedTextSymbolIndex>=0&&(o.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).hidden=Ae||Fe?1:0);const st=this.variableOffsets[te.crossTileID];st&&this.markUsedJustification(o,st.anchor,te,Ee);const Xe=this.placedOrientations[te.crossTileID];Xe&&(this.markUsedJustification(o,"left",te,Xe),this.markUsedOrientation(o,Xe,te))}if(Me){const Ge=Se(ge.icon),Ae=!(U&&te.verticalPlacedIconSymbolIndex&&Ce);te.placedIconSymbolIndex>=0&&(ne(o.icon,te.numIconVertices,Ae?Ge:lt),o.icon.placedSymbolArray.get(te.placedIconSymbolIndex).hidden=ge.icon.isHidden()),te.verticalPlacedIconSymbolIndex>=0&&(ne(o.icon,te.numVerticalIconVertices,Ae?lt:Ge),o.icon.placedSymbolArray.get(te.verticalPlacedIconSymbolIndex).hidden=ge.icon.isHidden())}if(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData()){const Ge=o.collisionArrays[K];if(Ge){let Ae=new u.pointGeometry(0,0);if(Ge.textBox||Ge.verticalTextBox){let Xe=!0;if(I){const Pt=this.variableOffsets[_e];Pt?(Ae=z(Pt.anchor,Pt.width,Pt.height,Pt.textOffset,Pt.textBoxScale),D&&Ae._rotate(F?this.transform.angle:-this.transform.angle)):Xe=!1}Ge.textBox&&Q(o.textCollisionBox.collisionVertexArray,ge.text.placed,!Xe||Ce,Ae.x,Ae.y),Ge.verticalTextBox&&Q(o.textCollisionBox.collisionVertexArray,ge.text.placed,!Xe||Fe,Ae.x,Ae.y)}const st=Boolean(!Fe&&Ge.verticalIconBox);Ge.iconBox&&Q(o.iconCollisionBox.collisionVertexArray,ge.icon.placed,st,U?Ae.x:0,U?Ae.y:0),Ge.verticalIconBox&&Q(o.iconCollisionBox.collisionVertexArray,ge.icon.placed,!st,U?Ae.x:0,U?Ae.y:0)}}}if(o.sortFeatures(this.transform.angle),this.retainedQueryData[o.bucketInstanceId]&&(this.retainedQueryData[o.bucketInstanceId].featureSortOrder=o.featureSortOrder),o.hasTextData()&&o.text.opacityVertexBuffer&&o.text.opacityVertexBuffer.updateData(o.text.opacityVertexArray),o.hasIconData()&&o.icon.opacityVertexBuffer&&o.icon.opacityVertexBuffer.updateData(o.icon.opacityVertexArray),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexBuffer&&o.iconCollisionBox.collisionVertexBuffer.updateData(o.iconCollisionBox.collisionVertexArray),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexBuffer&&o.textCollisionBox.collisionVertexBuffer.updateData(o.textCollisionBox.collisionVertexArray),o.bucketInstanceId in this.collisionCircleArrays){const K=this.collisionCircleArrays[o.bucketInstanceId];o.placementInvProjMatrix=K.invProjMatrix,o.placementViewportMatrix=K.viewportMatrix,o.collisionCircleArray=K.circles,delete this.collisionCircleArrays[o.bucketInstanceId]}}symbolFadeChange(o){return this.fadeDuration===0?1:(o-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(o){return Math.max(0,(this.transform.zoom-o)/1.5)}hasTransitions(o){return this.stale||o-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(o,c){const p=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*p>o}setStale(){this.stale=!0}}function Q(g,o,c,p,y){g.emplaceBack(o?1:0,c?1:0,p||0,y||0),g.emplaceBack(o?1:0,c?1:0,p||0,y||0),g.emplaceBack(o?1:0,c?1:0,p||0,y||0),g.emplaceBack(o?1:0,c?1:0,p||0,y||0)}const ee=Math.pow(2,25),ce=Math.pow(2,24),ae=Math.pow(2,17),ue=Math.pow(2,16),he=Math.pow(2,9),ke=Math.pow(2,8),De=Math.pow(2,1);function Se(g){if(g.opacity===0&&!g.placed)return 0;if(g.opacity===1&&g.placed)return 4294967295;const o=g.placed?1:0,c=Math.floor(127*g.opacity);return c*ee+o*ce+c*ae+o*ue+c*he+o*ke+c*De+o}const lt=0;class et{constructor(o){this._sortAcrossTiles=o.layout.get("symbol-z-order")!=="viewport-y"&&!o.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(o,c,p,y,x){const E=this._bucketParts;for(;this._currentTileIndex<o.length;)if(c.getBucketParts(E,y,o[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((P,I)=>P.sortKey-I.sortKey));this._currentPartIndex<E.length;)if(c.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,x())return!0;return!1}}class dt{constructor(o,c,p,y,x,E,P){this.placement=new Z(o,x,E,P),this._currentPlacementIndex=c.length-1,this._forceFullPlacement=p,this._showCollisionBoxes=y,this._done=!1}isDone(){return this._done}continuePlacement(o,c,p){const y=u.exported.now(),x=()=>{const E=u.exported.now()-y;return!this._forceFullPlacement&&E>2};for(;this._currentPlacementIndex>=0;){const E=c[o[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=P)&&(!E.maxzoom||E.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new et(E)),this._inProgressLayer.continuePlacement(p[E.source],this.placement,this._showCollisionBoxes,E,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(o){return this.placement.commit(o),this.placement}}const wt=512/u.EXTENT/2;class Xt{constructor(o,c,p){this.tileID=o,this.indexedSymbolInstances={},this.bucketInstanceId=p;for(let y=0;y<c.length;y++){const x=c.get(y),E=x.key;this.indexedSymbolInstances[E]||(this.indexedSymbolInstances[E]=[]),this.indexedSymbolInstances[E].push({crossTileID:x.crossTileID,coord:this.getScaledCoordinates(x,o)})}}getScaledCoordinates(o,c){const p=wt/Math.pow(2,c.canonical.z-this.tileID.canonical.z);return{x:Math.floor((c.canonical.x*u.EXTENT+o.anchorX)*p),y:Math.floor((c.canonical.y*u.EXTENT+o.anchorY)*p)}}findMatches(o,c,p){const y=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let x=0;x<o.length;x++){const E=o.get(x);if(E.crossTileID)continue;const P=this.indexedSymbolInstances[E.key];if(!P)continue;const I=this.getScaledCoordinates(E,c);for(const D of P)if(Math.abs(D.coord.x-I.x)<=y&&Math.abs(D.coord.y-I.y)<=y&&!p[D.crossTileID]){p[D.crossTileID]=!0,E.crossTileID=D.crossTileID;break}}}}class Ut{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Bt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(o){const c=Math.round((o-this.lng)/360);if(c!==0)for(const p in this.indexes){const y=this.indexes[p],x={};for(const E in y){const P=y[E];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+c),x[P.tileID.key]=P}this.indexes[p]=x}this.lng=o}addBucket(o,c,p){if(this.indexes[o.overscaledZ]&&this.indexes[o.overscaledZ][o.key]){if(this.indexes[o.overscaledZ][o.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(o.overscaledZ,this.indexes[o.overscaledZ][o.key])}for(let x=0;x<c.symbolInstances.length;x++)c.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[o.overscaledZ]||(this.usedCrossTileIDs[o.overscaledZ]={});const y=this.usedCrossTileIDs[o.overscaledZ];for(const x in this.indexes){const E=this.indexes[x];if(Number(x)>o.overscaledZ)for(const P in E){const I=E[P];I.tileID.isChildOf(o)&&I.findMatches(c.symbolInstances,o,y)}else{const P=E[o.scaledTo(Number(x)).key];P&&P.findMatches(c.symbolInstances,o,y)}}for(let x=0;x<c.symbolInstances.length;x++){const E=c.symbolInstances.get(x);E.crossTileID||(E.crossTileID=p.generate(),y[E.crossTileID]=!0)}return this.indexes[o.overscaledZ]===void 0&&(this.indexes[o.overscaledZ]={}),this.indexes[o.overscaledZ][o.key]=new Xt(o,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(o,c){for(const p in c.indexedSymbolInstances)for(const y of c.indexedSymbolInstances[p])delete this.usedCrossTileIDs[o][y.crossTileID]}removeStaleBuckets(o){let c=!1;for(const p in this.indexes){const y=this.indexes[p];for(const x in y)o[y[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,y[x]),delete y[x],c=!0)}return c}}class Ot{constructor(){this.layerIndexes={},this.crossTileIDs=new Ut,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(o,c,p){let y=this.layerIndexes[o.id];y===void 0&&(y=this.layerIndexes[o.id]=new Bt);let x=!1;const E={};y.handleWrapJump(p);for(const P of c){const I=P.getBucket(o);I&&o.id===I.layerIds[0]&&(I.bucketInstanceId||(I.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(P.tileID,I,this.crossTileIDs)&&(x=!0),E[I.bucketInstanceId]=!0)}return y.removeStaleBuckets(E)&&(x=!0),x}pruneUnusedLayers(o){const c={};o.forEach(p=>{c[p]=!0});for(const p in this.layerIndexes)c[p]||delete this.layerIndexes[p]}}const Rt=(g,o)=>u.emitValidationErrors(g,o&&o.filter(c=>c.identifier!=="source.canvas")),Qn=u.pick($t,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),qn=u.pick($t,["setCenter","setZoom","setBearing","setPitch"]),xr=function(){const g={},o=u.spec.$version;for(const c in u.spec.$root){const p=u.spec.$root[c];if(p.required){let y=null;y=c==="version"?o:p.type==="array"?[]:{},y!=null&&(g[c]=y)}}return g}();class Tr extends u.Evented{constructor(o,c={}){super(),this.map=o,this.dispatcher=new Et(pr(),this),this.imageManager=new oe,this.imageManager.setEventedParent(this),this.glyphManager=new Be(o._requestManager,c.localIdeographFontFamily),this.lineAtlas=new Ct(256,512),this.crossTileSymbolIndex=new Ot,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new u.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",u.getReferrer());const p=this;this._rtlTextPluginCallback=Tr.registerForPluginStateChange(y=>{p.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:y.pluginStatus,pluginURL:y.pluginURL},(x,E)=>{if(u.triggerPluginCompletionEvent(x),E&&E.every(P=>P))for(const P in p.sourceCaches)p.sourceCaches[P].reload()})}),this.on("data",y=>{if(y.dataType!=="source"||y.sourceDataType!=="metadata")return;const x=this.sourceCaches[y.sourceId];if(!x)return;const E=x.getSource();if(E&&E.vectorLayerIds)for(const P in this._layers){const I=this._layers[P];I.source===E.id&&this._validateLayer(I)}})}loadURL(o,c={}){this.fire(new u.Event("dataloading",{dataType:"style"}));const p=typeof c.validate!="boolean"||c.validate,y=this.map._requestManager.transformRequest(o,u.ResourceType.Style);this._request=u.getJSON(y,(x,E)=>{this._request=null,x?this.fire(new u.ErrorEvent(x)):E&&this._load(E,p)})}loadJSON(o,c={}){this.fire(new u.Event("dataloading",{dataType:"style"})),this._request=u.exported.frame(()=>{this._request=null,this._load(o,c.validate!==!1)})}loadEmpty(){this.fire(new u.Event("dataloading",{dataType:"style"})),this._load(xr,!1)}_load(o,c){if(c&&Rt(this,u.validateStyle(o)))return;this._loaded=!0,this.stylesheet=o;for(const y in o.sources)this.addSource(y,o.sources[y],{validate:!1});o.sprite?this._loadSprite(o.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(o.glyphs);const p=jo(this.stylesheet.layers);this._order=p.map(y=>y.id),this._layers={},this._serializedLayers={};for(let y of p)y=u.createStyleLayer(y),y.setEventedParent(this,{layer:{id:y.id}}),this._layers[y.id]=y,this._serializedLayers[y.id]=y.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Tt(this.stylesheet.light),this.fire(new u.Event("data",{dataType:"style"})),this.fire(new u.Event("style.load"))}_loadSprite(o){this._spriteRequest=function(c,p,y,x){let E,P,I;const D=y>1?"@2x":"";let F=u.getJSON(p.transformRequest(p.normalizeSpriteURL(c,D,".json"),u.ResourceType.SpriteJSON),(ne,K)=>{F=null,I||(I=ne,E=K,X())}),U=u.getImage(p.transformRequest(p.normalizeSpriteURL(c,D,".png"),u.ResourceType.SpriteImage),(ne,K)=>{U=null,I||(I=ne,P=K,X())});function X(){if(I)x(I);else if(E&&P){const ne=u.exported.getImageData(P),K={};for(const te in E){const{width:fe,height:pe,x:_e,y:ge,sdf:Me,pixelRatio:Ee,stretchX:Ce,stretchY:Fe,content:Ge}=E[te],Ae=new u.RGBAImage({width:fe,height:pe});u.RGBAImage.copy(ne,Ae,{x:_e,y:ge},{x:0,y:0},{width:fe,height:pe}),K[te]={data:Ae,pixelRatio:Ee,sdf:Me,stretchX:Ce,stretchY:Fe,content:Ge}}x(null,K)}}return{cancel(){F&&(F.cancel(),F=null),U&&(U.cancel(),U=null)}}}(o,this.map._requestManager,this.map.getPixelRatio(),(c,p)=>{if(this._spriteRequest=null,c)this.fire(new u.ErrorEvent(c));else if(p)for(const y in p)this.imageManager.addImage(y,p[y]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.Event("data",{dataType:"style"}))})}_validateLayer(o){const c=this.sourceCaches[o.source];if(!c)return;const p=o.sourceLayer;if(!p)return;const y=c.getSource();(y.type==="geojson"||y.vectorLayerIds&&y.vectorLayerIds.indexOf(p)===-1)&&this.fire(new u.ErrorEvent(new Error(`Source layer "${p}" does not exist on source "${y.id}" as specified by style layer "${o.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const o in this.sourceCaches)if(!this.sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(o){const c=[];for(const p of o){const y=this._layers[p];y.type!=="custom"&&c.push(y.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const o in this.sourceCaches)if(this.sourceCaches[o].hasTransition())return!0;for(const o in this._layers)if(this._layers[o].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(o){if(!this._loaded)return;const c=this._changed;if(this._changed){const y=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(y.length||x.length)&&this._updateWorkerLayers(y,x);for(const E in this._updatedSources){const P=this._updatedSources[E];P==="reload"?this._reloadSource(E):P==="clear"&&this._clearSource(E)}this._updateTilesForChangedImages();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(o);this.light.updateTransitions(o),this._resetUpdates()}const p={};for(const y in this.sourceCaches){const x=this.sourceCaches[y];p[y]=x.used,x.used=!1}for(const y of this._order){const x=this._layers[y];x.recalculate(o,this._availableImages),!x.isHidden(o.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const y in p){const x=this.sourceCaches[y];p[y]!==x.used&&x.fire(new u.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:y}))}this.light.recalculate(o),this.z=o.zoom,c&&this.fire(new u.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const o=Object.keys(this._changedImages);if(o.length){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}}_updateWorkerLayers(o,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(o),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(o){if(this._checkLoaded(),Rt(this,u.validateStyle(o)))return!1;(o=u.clone$1(o)).layers=jo(o.layers);const c=function(y,x){if(!y)return[{command:$t.setStyle,args:[x]}];let E=[];try{if(!M(y.version,x.version))return[{command:$t.setStyle,args:[x]}];M(y.center,x.center)||E.push({command:$t.setCenter,args:[x.center]}),M(y.zoom,x.zoom)||E.push({command:$t.setZoom,args:[x.zoom]}),M(y.bearing,x.bearing)||E.push({command:$t.setBearing,args:[x.bearing]}),M(y.pitch,x.pitch)||E.push({command:$t.setPitch,args:[x.pitch]}),M(y.sprite,x.sprite)||E.push({command:$t.setSprite,args:[x.sprite]}),M(y.glyphs,x.glyphs)||E.push({command:$t.setGlyphs,args:[x.glyphs]}),M(y.transition,x.transition)||E.push({command:$t.setTransition,args:[x.transition]}),M(y.light,x.light)||E.push({command:$t.setLight,args:[x.light]});const P={},I=[];(function(F,U,X,ne){let K;for(K in U=U||{},F=F||{})Object.prototype.hasOwnProperty.call(F,K)&&(Object.prototype.hasOwnProperty.call(U,K)||xt(K,X,ne));for(K in U)Object.prototype.hasOwnProperty.call(U,K)&&(Object.prototype.hasOwnProperty.call(F,K)?M(F[K],U[K])||(F[K].type==="geojson"&&U[K].type==="geojson"&&kn(F,U,K)?X.push({command:$t.setGeoJSONSourceData,args:[K,U[K].data]}):on(K,U,X,ne)):He(K,U,X))})(y.sources,x.sources,I,P);const D=[];y.layers&&y.layers.forEach(F=>{P[F.source]?E.push({command:$t.removeLayer,args:[F.id]}):D.push(F)}),E=E.concat(I),function(F,U,X){U=U||[];const ne=(F=F||[]).map(je),K=U.map(je),te=F.reduce(Cr,{}),fe=U.reduce(Cr,{}),pe=ne.slice(),_e=Object.create(null);let ge,Me,Ee,Ce,Fe,Ge,Ae;for(ge=0,Me=0;ge<ne.length;ge++)Ee=ne[ge],Object.prototype.hasOwnProperty.call(fe,Ee)?Me++:(X.push({command:$t.removeLayer,args:[Ee]}),pe.splice(pe.indexOf(Ee,Me),1));for(ge=0,Me=0;ge<K.length;ge++)Ee=K[K.length-1-ge],pe[pe.length-1-ge]!==Ee&&(Object.prototype.hasOwnProperty.call(te,Ee)?(X.push({command:$t.removeLayer,args:[Ee]}),pe.splice(pe.lastIndexOf(Ee,pe.length-Me),1)):Me++,Ge=pe[pe.length-ge],X.push({command:$t.addLayer,args:[fe[Ee],Ge]}),pe.splice(pe.length-ge,0,Ee),_e[Ee]=!0);for(ge=0;ge<K.length;ge++)if(Ee=K[ge],Ce=te[Ee],Fe=fe[Ee],!_e[Ee]&&!M(Ce,Fe))if(M(Ce.source,Fe.source)&&M(Ce["source-layer"],Fe["source-layer"])&&M(Ce.type,Fe.type)){for(Ae in ve(Ce.layout,Fe.layout,X,Ee,null,$t.setLayoutProperty),ve(Ce.paint,Fe.paint,X,Ee,null,$t.setPaintProperty),M(Ce.filter,Fe.filter)||X.push({command:$t.setFilter,args:[Ee,Fe.filter]}),M(Ce.minzoom,Fe.minzoom)&&M(Ce.maxzoom,Fe.maxzoom)||X.push({command:$t.setLayerZoomRange,args:[Ee,Fe.minzoom,Fe.maxzoom]}),Ce)Object.prototype.hasOwnProperty.call(Ce,Ae)&&Ae!=="layout"&&Ae!=="paint"&&Ae!=="filter"&&Ae!=="metadata"&&Ae!=="minzoom"&&Ae!=="maxzoom"&&(Ae.indexOf("paint.")===0?ve(Ce[Ae],Fe[Ae],X,Ee,Ae.slice(6),$t.setPaintProperty):M(Ce[Ae],Fe[Ae])||X.push({command:$t.setLayerProperty,args:[Ee,Ae,Fe[Ae]]}));for(Ae in Fe)Object.prototype.hasOwnProperty.call(Fe,Ae)&&!Object.prototype.hasOwnProperty.call(Ce,Ae)&&Ae!=="layout"&&Ae!=="paint"&&Ae!=="filter"&&Ae!=="metadata"&&Ae!=="minzoom"&&Ae!=="maxzoom"&&(Ae.indexOf("paint.")===0?ve(Ce[Ae],Fe[Ae],X,Ee,Ae.slice(6),$t.setPaintProperty):M(Ce[Ae],Fe[Ae])||X.push({command:$t.setLayerProperty,args:[Ee,Ae,Fe[Ae]]}))}else X.push({command:$t.removeLayer,args:[Ee]}),Ge=pe[pe.lastIndexOf(Ee)+1],X.push({command:$t.addLayer,args:[Fe,Ge]})}(D,x.layers,E)}catch(P){console.warn("Unable to compute style diff:",P),E=[{command:$t.setStyle,args:[x]}]}return E}(this.serialize(),o).filter(y=>!(y.command in qn));if(c.length===0)return!1;const p=c.filter(y=>!(y.command in Qn));if(p.length>0)throw new Error(`Unimplemented: ${p.map(y=>y.command).join(", ")}.`);return c.forEach(y=>{y.command!=="setTransition"&&this[y.command].apply(this,y.args)}),this.stylesheet=o,!0}addImage(o,c){if(this.getImage(o))return this.fire(new u.ErrorEvent(new Error(`An image named "${o}" already exists.`)));this.imageManager.addImage(o,c),this._afterImageUpdated(o)}updateImage(o,c){this.imageManager.updateImage(o,c)}getImage(o){return this.imageManager.getImage(o)}removeImage(o){if(!this.getImage(o))return this.fire(new u.ErrorEvent(new Error(`An image named "${o}" does not exist.`)));this.imageManager.removeImage(o),this._afterImageUpdated(o)}_afterImageUpdated(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(o,c,p={}){if(this._checkLoaded(),this.sourceCaches[o]!==void 0)throw new Error(`Source "${o}" already exists.`);if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(u.validateStyle.source,`sources.${o}`,c,null,p))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const y=this.sourceCaches[o]=new Pn(o,c,this.dispatcher);y.style=this,y.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:y.serialize(),sourceId:o})),y.onAdd(this.map),this._changed=!0}removeSource(o){if(this._checkLoaded(),this.sourceCaches[o]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===o)return this.fire(new u.ErrorEvent(new Error(`Source "${o}" cannot be removed while layer "${p}" is using it.`)));const c=this.sourceCaches[o];delete this.sourceCaches[o],delete this._updatedSources[o],c.fire(new u.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:o})),c.setEventedParent(null),c.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(o,c){this._checkLoaded(),this.sourceCaches[o].getSource().setData(c),this._changed=!0}getSource(o){return this.sourceCaches[o]&&this.sourceCaches[o].getSource()}addLayer(o,c,p={}){this._checkLoaded();const y=o.id;if(this.getLayer(y))return void this.fire(new u.ErrorEvent(new Error(`Layer "${y}" already exists on this map.`)));let x;if(o.type==="custom"){if(Rt(this,u.validateCustomStyleLayer(o)))return;x=u.createStyleLayer(o)}else{if(typeof o.source=="object"&&(this.addSource(y,o.source),o=u.clone$1(o),o=u.extend(o,{source:y})),this._validate(u.validateStyle.layer,`layers.${y}`,o,{arrayIndex:-1},p))return;x=u.createStyleLayer(o),this._validateLayer(x),x.setEventedParent(this,{layer:{id:y}}),this._serializedLayers[x.id]=x.serialize()}const E=c?this._order.indexOf(c):this._order.length;if(c&&E===-1)this.fire(new u.ErrorEvent(new Error(`Cannot add layer "${y}" before non-existing layer "${c}".`)));else{if(this._order.splice(E,0,y),this._layerOrderChanged=!0,this._layers[y]=x,this._removedLayers[y]&&x.source&&x.type!=="custom"){const P=this._removedLayers[y];delete this._removedLayers[y],P.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(o,c){if(this._checkLoaded(),this._changed=!0,!this._layers[o])return void this.fire(new u.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be moved.`)));if(o===c)return;const p=this._order.indexOf(o);this._order.splice(p,1);const y=c?this._order.indexOf(c):this._order.length;c&&y===-1?this.fire(new u.ErrorEvent(new Error(`Cannot move layer "${o}" before non-existing layer "${c}".`))):(this._order.splice(y,0,o),this._layerOrderChanged=!0)}removeLayer(o){this._checkLoaded();const c=this._layers[o];if(!c)return void this.fire(new u.ErrorEvent(new Error(`Cannot remove non-existing layer "${o}".`)));c.setEventedParent(null);const p=this._order.indexOf(o);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=c,delete this._layers[o],delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],c.onRemove&&c.onRemove(this.map)}getLayer(o){return this._layers[o]}hasLayer(o){return o in this._layers}setLayerZoomRange(o,c,p){this._checkLoaded();const y=this.getLayer(o);y?y.minzoom===c&&y.maxzoom===p||(c!=null&&(y.minzoom=c),p!=null&&(y.maxzoom=p),this._updateLayer(y)):this.fire(new u.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${o}".`)))}setFilter(o,c,p={}){this._checkLoaded();const y=this.getLayer(o);if(y){if(!M(y.filter,c))return c==null?(y.filter=void 0,void this._updateLayer(y)):void(this._validate(u.validateStyle.filter,`layers.${y.id}.filter`,c,null,p)||(y.filter=u.clone$1(c),this._updateLayer(y)))}else this.fire(new u.ErrorEvent(new Error(`Cannot filter non-existing layer "${o}".`)))}getFilter(o){return u.clone$1(this.getLayer(o).filter)}setLayoutProperty(o,c,p,y={}){this._checkLoaded();const x=this.getLayer(o);x?M(x.getLayoutProperty(c),p)||(x.setLayoutProperty(c,p,y),this._updateLayer(x)):this.fire(new u.ErrorEvent(new Error(`Cannot style non-existing layer "${o}".`)))}getLayoutProperty(o,c){const p=this.getLayer(o);if(p)return p.getLayoutProperty(c);this.fire(new u.ErrorEvent(new Error(`Cannot get style of non-existing layer "${o}".`)))}setPaintProperty(o,c,p,y={}){this._checkLoaded();const x=this.getLayer(o);x?M(x.getPaintProperty(c),p)||(x.setPaintProperty(c,p,y)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new u.ErrorEvent(new Error(`Cannot style non-existing layer "${o}".`)))}getPaintProperty(o,c){return this.getLayer(o).getPaintProperty(c)}setFeatureState(o,c){this._checkLoaded();const p=o.source,y=o.sourceLayer,x=this.sourceCaches[p];if(x===void 0)return void this.fire(new u.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)));const E=x.getSource().type;E==="geojson"&&y?this.fire(new u.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||y?(o.id===void 0&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),x.setFeatureState(y,o.id,c)):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(o,c){this._checkLoaded();const p=o.source,y=this.sourceCaches[p];if(y===void 0)return void this.fire(new u.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)));const x=y.getSource().type,E=x==="vector"?o.sourceLayer:void 0;x!=="vector"||E?c&&typeof o.id!="string"&&typeof o.id!="number"?this.fire(new u.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(E,o.id,c):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(o){this._checkLoaded();const c=o.source,p=o.sourceLayer,y=this.sourceCaches[c];if(y!==void 0)return y.getSource().type!=="vector"||p?(o.id===void 0&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),y.getFeatureState(p,o.id)):void this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new u.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return u.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return u.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:u.mapObject(this.sourceCaches,o=>o.serialize()),layers:this._serializeLayers(this._order)},o=>o!==void 0)}_updateLayer(o){this._updatedLayers[o.id]=!0,o.source&&!this._updatedSources[o.source]&&this.sourceCaches[o.source].getSource().type!=="raster"&&(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(o){const c=E=>this._layers[E].type==="fill-extrusion",p={},y=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(c(P)){p[P]=E;for(const I of o){const D=I[P];if(D)for(const F of D)y.push(F)}}}y.sort((E,P)=>P.intersectionZ-E.intersectionZ);const x=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(c(P))for(let I=y.length-1;I>=0;I--){const D=y[I].feature;if(p[D.layer.id]<E)break;x.push(D),y.pop()}else for(const I of o){const D=I[P];if(D)for(const F of D)x.push(F.feature)}}return x}queryRenderedFeatures(o,c,p){c&&c.filter&&this._validate(u.validateStyle.filter,"queryRenderedFeatures.filter",c.filter,null,c);const y={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new u.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const E of c.layers){const P=this._layers[E];if(!P)return this.fire(new u.ErrorEvent(new Error(`The layer '${E}' does not exist in the map's style and cannot be queried for features.`))),[];y[P.source]=!0}}const x=[];c.availableImages=this._availableImages;for(const E in this.sourceCaches)c.layers&&!y[E]||x.push(kr(this.sourceCaches[E],this._layers,this._serializedLayers,o,c,p));return this.placement&&x.push(function(E,P,I,D,F,U,X){const ne={},K=U.queryRenderedSymbols(D),te=[];for(const fe of Object.keys(K).map(Number))te.push(X[fe]);te.sort(fi);for(const fe of te){const pe=fe.featureIndex.lookupSymbolFeatures(K[fe.bucketInstanceId],P,fe.bucketIndex,fe.sourceLayerIndex,F.filter,F.layers,F.availableImages,E);for(const _e in pe){const ge=ne[_e]=ne[_e]||[],Me=pe[_e];Me.sort((Ee,Ce)=>{const Fe=fe.featureSortOrder;if(Fe){const Ge=Fe.indexOf(Ee.featureIndex);return Fe.indexOf(Ce.featureIndex)-Ge}return Ce.featureIndex-Ee.featureIndex});for(const Ee of Me)ge.push(Ee)}}for(const fe in ne)ne[fe].forEach(pe=>{const _e=pe.feature,ge=I[E[fe].source].getFeatureState(_e.layer["source-layer"],_e.id);_e.source=_e.layer.source,_e.layer["source-layer"]&&(_e.sourceLayer=_e.layer["source-layer"]),_e.state=ge});return ne}(this._layers,this._serializedLayers,this.sourceCaches,o,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(o,c){c&&c.filter&&this._validate(u.validateStyle.filter,"querySourceFeatures.filter",c.filter,null,c);const p=this.sourceCaches[o];return p?function(y,x){const E=y.getRenderableIds().map(D=>y.getTileByID(D)),P=[],I={};for(let D=0;D<E.length;D++){const F=E[D],U=F.tileID.canonical.key;I[U]||(I[U]=!0,F.querySourceFeatures(P,x))}return P}(p,c):[]}addSourceType(o,c,p){return Tr.getSourceType(o)?p(new Error(`A source type called "${o}" already exists.`)):(Tr.setSourceType(o,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:o,url:c.workerSourceURL},p):p(null,null))}getLight(){return this.light.getLight()}setLight(o,c={}){this._checkLoaded();const p=this.light.getLight();let y=!1;for(const E in o)if(!M(o[E],p[E])){y=!0;break}if(!y)return;const x={now:u.exported.now(),transition:u.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(o,c),this.light.updateTransitions(x)}_validate(o,c,p,y,x={}){return(!x||x.validate!==!1)&&Rt(this,o.call(u.validateStyle,u.extend({key:c,style:this.serialize(),value:p,styleSpec:u.spec},y)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const o in this._layers)this._layers[o].setEventedParent(null);for(const o in this.sourceCaches){const c=this.sourceCaches[o];c.setEventedParent(null),c.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(o){this.sourceCaches[o].clearTiles()}_reloadSource(o){this.sourceCaches[o].resume(),this.sourceCaches[o].reload()}_updateSources(o){for(const c in this.sourceCaches)this.sourceCaches[c].update(o)}_generateCollisionBoxes(){for(const o in this.sourceCaches)this._reloadSource(o)}_updatePlacement(o,c,p,y,x=!1){let E=!1,P=!1;const I={};for(const D of this._order){const F=this._layers[D];if(F.type!=="symbol")continue;if(!I[F.source]){const X=this.sourceCaches[F.source];I[F.source]=X.getRenderableIds(!0).map(ne=>X.getTileByID(ne)).sort((ne,K)=>K.tileID.overscaledZ-ne.tileID.overscaledZ||(ne.tileID.isLessThan(K.tileID)?-1:1))}const U=this.crossTileSymbolIndex.addLayer(F,I[F.source],o.center.lng);E=E||U}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.exported.now(),o.zoom))&&(this.pauseablePlacement=new dt(o,this._order,x,c,p,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,I),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.exported.now()),P=!0),E&&this.pauseablePlacement.placement.setStale()),P||E)for(const D of this._order){const F=this._layers[D];F.type==="symbol"&&this.placement.updateLayerOpacities(F,I[F.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.exported.now())}_releaseSymbolFadeTiles(){for(const o in this.sourceCaches)this.sourceCaches[o].releaseSymbolFadeTiles()}getImages(o,c,p){this.imageManager.getImages(c.icons,p),this._updateTilesForChangedImages();const y=this.sourceCaches[c.source];y&&y.setDependencies(c.tileID.key,c.type,c.icons)}getGlyphs(o,c,p){this.glyphManager.getGlyphs(c.stacks,p)}getResource(o,c,p){return u.makeRequest(c,p)}}Tr.getSourceType=function(g){return Ht[g]},Tr.setSourceType=function(g,o){Ht[g]=o},Tr.registerForPluginStateChange=u.registerForPluginStateChange;var uh=u.createLayout([{name:"a_pos",type:"Int16",components:2}]),ch={prelude:wn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),background:wn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:wn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:wn(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:wn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:wn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:wn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:wn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:wn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:wn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fill:wn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:wn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:wn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:wn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:wn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:wn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:wn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:wn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:wn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),lineGradient:wn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),linePattern:wn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:wn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:wn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:wn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),symbolSDF:wn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:wn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`)};function wn(g,o){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=o.match(/attribute ([\w]+) ([\w]+)/g),y=g.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=o.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=x?x.concat(y):y,P={};return{fragmentSource:g=g.replace(c,(I,D,F,U,X)=>(P[X]=!0,D==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${F} ${U} ${X};
#else
uniform ${F} ${U} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${F} ${U} ${X} = u_${X};
#endif
`)),vertexSource:o=o.replace(c,(I,D,F,U,X)=>{const ne=U==="float"?"vec2":"vec4",K=X.match(/color/)?"color":ne;return P[X]?D==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${F} ${ne} a_${X};
varying ${F} ${U} ${X};
#else
uniform ${F} ${U} u_${X};
#endif
`:K==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${F} ${U} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${K}(a_${X}, u_${X}_t);
#else
    ${F} ${U} ${X} = u_${X};
#endif
`:D==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${F} ${ne} a_${X};
#else
uniform ${F} ${U} u_${X};
#endif
`:K==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${F} ${U} ${X} = a_${X};
#else
    ${F} ${U} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${F} ${U} ${X} = unpack_mix_${K}(a_${X}, u_${X}_t);
#else
    ${F} ${U} ${X} = u_${X};
#endif
`}),staticAttributes:p,staticUniforms:E}}class i0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(o,c,p,y,x,E,P,I){this.context=o;let D=this.boundPaintVertexBuffers.length!==y.length;for(let F=0;!D&&F<y.length;F++)this.boundPaintVertexBuffers[F]!==y[F]&&(D=!0);o.extVertexArrayObject&&this.vao&&this.boundProgram===c&&this.boundLayoutVertexBuffer===p&&!D&&this.boundIndexBuffer===x&&this.boundVertexOffset===E&&this.boundDynamicVertexBuffer===P&&this.boundDynamicVertexBuffer2===I?(o.bindVertexArrayOES.set(this.vao),P&&P.bind(),x&&x.dynamicDraw&&x.bind(),I&&I.bind()):this.freshBind(c,p,y,x,E,P,I)}freshBind(o,c,p,y,x,E,P){let I;const D=o.numAttributes,F=this.context,U=F.gl;if(F.extVertexArrayObject)this.vao&&this.destroy(),this.vao=F.extVertexArrayObject.createVertexArrayOES(),F.bindVertexArrayOES.set(this.vao),I=0,this.boundProgram=o,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=y,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=P;else{I=F.currentNumAttributes||0;for(let X=D;X<I;X++)U.disableVertexAttribArray(X)}c.enableAttributes(U,o);for(const X of p)X.enableAttributes(U,o);E&&E.enableAttributes(U,o),P&&P.enableAttributes(U,o),c.bind(),c.setVertexAttribPointers(U,o,x);for(const X of p)X.bind(),X.setVertexAttribPointers(U,o,x);E&&(E.bind(),E.setVertexAttribPointers(U,o,x)),y&&y.bind(),P&&(P.bind(),P.setVertexAttribPointers(U,o,x)),F.currentNumAttributes=D}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function hh(g){const o=[];for(let c=0;c<g.length;c++){if(g[c]===null)continue;const p=g[c].split(" ");o.push(p.pop())}return o}class o0{constructor(o,c,p,y,x,E){const P=o.gl;this.program=P.createProgram();const I=hh(p.staticAttributes),D=y?y.getBinderAttributes():[],F=I.concat(D),U=p.staticUniforms?hh(p.staticUniforms):[],X=y?y.getBinderUniforms():[],ne=U.concat(X),K=[];for(const Ee of ne)K.indexOf(Ee)<0&&K.push(Ee);const te=y?y.defines():[];E&&te.push("#define OVERDRAW_INSPECTOR;");const fe=te.concat(ch.prelude.fragmentSource,p.fragmentSource).join(`
`),pe=te.concat(ch.prelude.vertexSource,p.vertexSource).join(`
`),_e=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);P.shaderSource(_e,fe),P.compileShader(_e),P.attachShader(this.program,_e);const ge=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);P.shaderSource(ge,pe),P.compileShader(ge),P.attachShader(this.program,ge),this.attributes={};const Me={};this.numAttributes=F.length;for(let Ee=0;Ee<this.numAttributes;Ee++)F[Ee]&&(P.bindAttribLocation(this.program,Ee,F[Ee]),this.attributes[F[Ee]]=Ee);P.linkProgram(this.program),P.deleteShader(ge),P.deleteShader(_e);for(let Ee=0;Ee<K.length;Ee++){const Ce=K[Ee];if(Ce&&!Me[Ce]){const Fe=P.getUniformLocation(this.program,Ce);Fe&&(Me[Ce]=Fe)}}this.fixedUniforms=x(o,Me),this.binderUniforms=y?y.getUniforms(o,Me):[]}draw(o,c,p,y,x,E,P,I,D,F,U,X,ne,K,te,fe){const pe=o.gl;if(this.failedToCreate)return;o.program.set(this.program),o.setDepthMode(p),o.setStencilMode(y),o.setColorMode(x),o.setCullFace(E);for(const ge in this.fixedUniforms)this.fixedUniforms[ge].set(P[ge]);K&&K.setUniforms(o,this.binderUniforms,X,{zoom:ne});const _e={[pe.LINES]:2,[pe.TRIANGLES]:3,[pe.LINE_STRIP]:1}[c];for(const ge of U.get()){const Me=ge.vaos||(ge.vaos={});(Me[I]||(Me[I]=new i0)).bind(o,this,D,K?K.getPaintVertexBuffers():[],F,ge.vertexOffset,te,fe),pe.drawElements(c,ge.primitiveLength*_e,pe.UNSIGNED_SHORT,ge.primitiveOffset*_e*2)}}}function dh(g,o,c){const p=1/mr(c,1,o.transform.tileZoom),y=Math.pow(2,c.tileID.overscaledZ),x=c.tileSize*Math.pow(2,o.transform.tileZoom)/y,E=x*(c.tileID.canonical.x+c.tileID.wrap*y),P=x*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_scale:[p,g.fromScale,g.toScale],u_fade:g.t,u_pixel_coord_upper:[E>>16,P>>16],u_pixel_coord_lower:[65535&E,65535&P]}}const jf=(g,o,c,p)=>{const y=o.style.light,x=y.properties.get("position"),E=[x.x,x.y,x.z],P=function(){var D=new u.ARRAY_TYPE(9);return u.ARRAY_TYPE!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}();y.properties.get("anchor")==="viewport"&&function(D,F){var U=Math.sin(F),X=Math.cos(F);D[0]=X,D[1]=U,D[2]=0,D[3]=-U,D[4]=X,D[5]=0,D[6]=0,D[7]=0,D[8]=1}(P,-o.transform.angle),function(D,F,U){var X=F[0],ne=F[1],K=F[2];D[0]=X*U[0]+ne*U[3]+K*U[6],D[1]=X*U[1]+ne*U[4]+K*U[7],D[2]=X*U[2]+ne*U[5]+K*U[8]}(E,E,P);const I=y.properties.get("color");return{u_matrix:g,u_lightpos:E,u_lightintensity:y.properties.get("intensity"),u_lightcolor:[I.r,I.g,I.b],u_vertical_gradient:+c,u_opacity:p}},fh=(g,o,c,p,y,x,E)=>u.extend(jf(g,o,c,p),dh(x,o,E),{u_height_factor:-Math.pow(2,y.overscaledZ)/E.tileSize/8}),ph=g=>({u_matrix:g}),mh=(g,o,c,p)=>u.extend(ph(g),dh(c,o,p)),Uf=(g,o)=>({u_matrix:g,u_world:o}),Gf=(g,o,c,p,y)=>u.extend(mh(g,o,c,p),{u_world:y}),Ca=(g,o,c,p)=>{const y=g.transform;let x,E;if(p.paint.get("circle-pitch-alignment")==="map"){const P=mr(c,1,y.zoom);x=!0,E=[P,P]}else x=!1,E=y.pixelsToGLUnits;return{u_camera_to_center_distance:y.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:g.translatePosMatrix(o.posMatrix,c,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:g.pixelRatio,u_extrude_scale:E}},cu=(g,o,c)=>{const p=mr(c,1,o.zoom),y=Math.pow(2,o.zoom-c.tileID.overscaledZ),x=c.tileID.overscaleFactor();return{u_matrix:g,u_camera_to_center_distance:o.cameraToCenterDistance,u_pixels_to_tile_units:p,u_extrude_scale:[o.pixelsToGLUnits[0]/(p*y),o.pixelsToGLUnits[1]/(p*y)],u_overscale_factor:x}},fs=(g,o,c=1)=>({u_matrix:g,u_color:o,u_overlay:0,u_overlay_scale:c}),hl=g=>({u_matrix:g}),hu=(g,o,c,p)=>({u_matrix:g,u_extrude_scale:mr(o,1,c),u_intensity:p});function du(g,o){const c=Math.pow(2,o.canonical.z),p=o.canonical.y;return[new u.MercatorCoordinate(0,p/c).toLngLat().lat,new u.MercatorCoordinate(0,(p+1)/c).toLngLat().lat]}const dl=(g,o,c)=>{const p=g.transform;return{u_matrix:gh(g,o,c),u_ratio:1/mr(o,1,p.zoom),u_device_pixel_ratio:g.pixelRatio,u_units_to_pixels:[1/p.pixelsToGLUnits[0],1/p.pixelsToGLUnits[1]]}},fu=(g,o,c,p)=>u.extend(dl(g,o,c),{u_image:0,u_image_height:p}),fl=(g,o,c,p)=>{const y=g.transform,x=pl(o,y);return{u_matrix:gh(g,o,c),u_texsize:o.imageAtlasTexture.size,u_ratio:1/mr(o,1,y.zoom),u_device_pixel_ratio:g.pixelRatio,u_image:0,u_scale:[x,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},sr=(g,o,c,p,y)=>{const x=g.lineAtlas,E=pl(o,g.transform),P=c.layout.get("line-cap")==="round",I=x.getDash(p.from,P),D=x.getDash(p.to,P),F=I.width*y.fromScale,U=D.width*y.toScale;return u.extend(dl(g,o,c),{u_patternscale_a:[E/F,-I.height/2],u_patternscale_b:[E/U,-D.height/2],u_sdfgamma:x.width/(256*Math.min(F,U)*g.pixelRatio)/2,u_image:0,u_tex_y_a:I.y,u_tex_y_b:D.y,u_mix:y.t})};function pl(g,o){return 1/mr(g,1,o.tileZoom)}function gh(g,o,c){return g.translatePosMatrix(o.tileID.posMatrix,o,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}const Wf=(g,o,c,p,y)=>{return{u_matrix:g,u_tl_parent:o,u_scale_parent:c,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*y.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:y.paint.get("raster-brightness-min"),u_brightness_high:y.paint.get("raster-brightness-max"),u_saturation_factor:(E=y.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(x=y.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:qf(y.paint.get("raster-hue-rotate"))};var x,E};function qf(g){g*=Math.PI/180;const o=Math.sin(g),c=Math.cos(g);return[(2*c+1)/3,(-Math.sqrt(3)*o-c+1)/3,(Math.sqrt(3)*o-c+1)/3]}const pu=(g,o,c,p,y,x,E,P,I,D)=>{const F=y.transform;return{u_is_size_zoom_constant:+(g==="constant"||g==="source"),u_is_size_feature_constant:+(g==="constant"||g==="camera"),u_size_t:o?o.uSizeT:0,u_size:o?o.uSize:0,u_camera_to_center_distance:F.cameraToCenterDistance,u_pitch:F.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:F.width/F.height,u_fade_change:y.options.fadeDuration?y.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:E,u_coord_matrix:P,u_is_text:+I,u_pitch_with_map:+p,u_texsize:D,u_texture:0}},yh=(g,o,c,p,y,x,E,P,I,D,F)=>{const U=y.transform;return u.extend(pu(g,o,c,p,y,x,E,P,I,D),{u_gamma_scale:p?Math.cos(U._pitch)*U.cameraToCenterDistance:1,u_device_pixel_ratio:y.pixelRatio,u_is_halo:+F})},a0=(g,o,c,p,y,x,E,P,I,D)=>u.extend(yh(g,o,c,p,y,x,E,P,!0,I,!0),{u_texsize_icon:D,u_texture_icon:1}),s0=(g,o,c)=>({u_matrix:g,u_opacity:o,u_color:c}),_h=(g,o,c,p,y,x)=>u.extend(function(E,P,I,D){const F=I.imageManager.getPattern(E.from.toString()),U=I.imageManager.getPattern(E.to.toString()),{width:X,height:ne}=I.imageManager.getPixelSize(),K=Math.pow(2,D.tileID.overscaledZ),te=D.tileSize*Math.pow(2,I.transform.tileZoom)/K,fe=te*(D.tileID.canonical.x+D.tileID.wrap*K),pe=te*D.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:F.tl,u_pattern_br_a:F.br,u_pattern_tl_b:U.tl,u_pattern_br_b:U.br,u_texsize:[X,ne],u_mix:P.t,u_pattern_size_a:F.displaySize,u_pattern_size_b:U.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/mr(D,1,I.transform.tileZoom),u_pixel_coord_upper:[fe>>16,pe>>16],u_pixel_coord_lower:[65535&fe,65535&pe]}}(p,x,c,y),{u_matrix:g,u_opacity:o}),vh={fillExtrusion:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_lightpos:new u.Uniform3f(g,o.u_lightpos),u_lightintensity:new u.Uniform1f(g,o.u_lightintensity),u_lightcolor:new u.Uniform3f(g,o.u_lightcolor),u_vertical_gradient:new u.Uniform1f(g,o.u_vertical_gradient),u_opacity:new u.Uniform1f(g,o.u_opacity)}),fillExtrusionPattern:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_lightpos:new u.Uniform3f(g,o.u_lightpos),u_lightintensity:new u.Uniform1f(g,o.u_lightintensity),u_lightcolor:new u.Uniform3f(g,o.u_lightcolor),u_vertical_gradient:new u.Uniform1f(g,o.u_vertical_gradient),u_height_factor:new u.Uniform1f(g,o.u_height_factor),u_image:new u.Uniform1i(g,o.u_image),u_texsize:new u.Uniform2f(g,o.u_texsize),u_pixel_coord_upper:new u.Uniform2f(g,o.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(g,o.u_pixel_coord_lower),u_scale:new u.Uniform3f(g,o.u_scale),u_fade:new u.Uniform1f(g,o.u_fade),u_opacity:new u.Uniform1f(g,o.u_opacity)}),fill:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix)}),fillPattern:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_image:new u.Uniform1i(g,o.u_image),u_texsize:new u.Uniform2f(g,o.u_texsize),u_pixel_coord_upper:new u.Uniform2f(g,o.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(g,o.u_pixel_coord_lower),u_scale:new u.Uniform3f(g,o.u_scale),u_fade:new u.Uniform1f(g,o.u_fade)}),fillOutline:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_world:new u.Uniform2f(g,o.u_world)}),fillOutlinePattern:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_world:new u.Uniform2f(g,o.u_world),u_image:new u.Uniform1i(g,o.u_image),u_texsize:new u.Uniform2f(g,o.u_texsize),u_pixel_coord_upper:new u.Uniform2f(g,o.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(g,o.u_pixel_coord_lower),u_scale:new u.Uniform3f(g,o.u_scale),u_fade:new u.Uniform1f(g,o.u_fade)}),circle:(g,o)=>({u_camera_to_center_distance:new u.Uniform1f(g,o.u_camera_to_center_distance),u_scale_with_map:new u.Uniform1i(g,o.u_scale_with_map),u_pitch_with_map:new u.Uniform1i(g,o.u_pitch_with_map),u_extrude_scale:new u.Uniform2f(g,o.u_extrude_scale),u_device_pixel_ratio:new u.Uniform1f(g,o.u_device_pixel_ratio),u_matrix:new u.UniformMatrix4f(g,o.u_matrix)}),collisionBox:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_camera_to_center_distance:new u.Uniform1f(g,o.u_camera_to_center_distance),u_pixels_to_tile_units:new u.Uniform1f(g,o.u_pixels_to_tile_units),u_extrude_scale:new u.Uniform2f(g,o.u_extrude_scale),u_overscale_factor:new u.Uniform1f(g,o.u_overscale_factor)}),collisionCircle:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_inv_matrix:new u.UniformMatrix4f(g,o.u_inv_matrix),u_camera_to_center_distance:new u.Uniform1f(g,o.u_camera_to_center_distance),u_viewport_size:new u.Uniform2f(g,o.u_viewport_size)}),debug:(g,o)=>({u_color:new u.UniformColor(g,o.u_color),u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_overlay:new u.Uniform1i(g,o.u_overlay),u_overlay_scale:new u.Uniform1f(g,o.u_overlay_scale)}),clippingMask:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix)}),heatmap:(g,o)=>({u_extrude_scale:new u.Uniform1f(g,o.u_extrude_scale),u_intensity:new u.Uniform1f(g,o.u_intensity),u_matrix:new u.UniformMatrix4f(g,o.u_matrix)}),heatmapTexture:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_world:new u.Uniform2f(g,o.u_world),u_image:new u.Uniform1i(g,o.u_image),u_color_ramp:new u.Uniform1i(g,o.u_color_ramp),u_opacity:new u.Uniform1f(g,o.u_opacity)}),hillshade:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_image:new u.Uniform1i(g,o.u_image),u_latrange:new u.Uniform2f(g,o.u_latrange),u_light:new u.Uniform2f(g,o.u_light),u_shadow:new u.UniformColor(g,o.u_shadow),u_highlight:new u.UniformColor(g,o.u_highlight),u_accent:new u.UniformColor(g,o.u_accent)}),hillshadePrepare:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_image:new u.Uniform1i(g,o.u_image),u_dimension:new u.Uniform2f(g,o.u_dimension),u_zoom:new u.Uniform1f(g,o.u_zoom),u_unpack:new u.Uniform4f(g,o.u_unpack)}),line:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_ratio:new u.Uniform1f(g,o.u_ratio),u_device_pixel_ratio:new u.Uniform1f(g,o.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(g,o.u_units_to_pixels)}),lineGradient:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_ratio:new u.Uniform1f(g,o.u_ratio),u_device_pixel_ratio:new u.Uniform1f(g,o.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(g,o.u_units_to_pixels),u_image:new u.Uniform1i(g,o.u_image),u_image_height:new u.Uniform1f(g,o.u_image_height)}),linePattern:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_texsize:new u.Uniform2f(g,o.u_texsize),u_ratio:new u.Uniform1f(g,o.u_ratio),u_device_pixel_ratio:new u.Uniform1f(g,o.u_device_pixel_ratio),u_image:new u.Uniform1i(g,o.u_image),u_units_to_pixels:new u.Uniform2f(g,o.u_units_to_pixels),u_scale:new u.Uniform3f(g,o.u_scale),u_fade:new u.Uniform1f(g,o.u_fade)}),lineSDF:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_ratio:new u.Uniform1f(g,o.u_ratio),u_device_pixel_ratio:new u.Uniform1f(g,o.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(g,o.u_units_to_pixels),u_patternscale_a:new u.Uniform2f(g,o.u_patternscale_a),u_patternscale_b:new u.Uniform2f(g,o.u_patternscale_b),u_sdfgamma:new u.Uniform1f(g,o.u_sdfgamma),u_image:new u.Uniform1i(g,o.u_image),u_tex_y_a:new u.Uniform1f(g,o.u_tex_y_a),u_tex_y_b:new u.Uniform1f(g,o.u_tex_y_b),u_mix:new u.Uniform1f(g,o.u_mix)}),raster:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_tl_parent:new u.Uniform2f(g,o.u_tl_parent),u_scale_parent:new u.Uniform1f(g,o.u_scale_parent),u_buffer_scale:new u.Uniform1f(g,o.u_buffer_scale),u_fade_t:new u.Uniform1f(g,o.u_fade_t),u_opacity:new u.Uniform1f(g,o.u_opacity),u_image0:new u.Uniform1i(g,o.u_image0),u_image1:new u.Uniform1i(g,o.u_image1),u_brightness_low:new u.Uniform1f(g,o.u_brightness_low),u_brightness_high:new u.Uniform1f(g,o.u_brightness_high),u_saturation_factor:new u.Uniform1f(g,o.u_saturation_factor),u_contrast_factor:new u.Uniform1f(g,o.u_contrast_factor),u_spin_weights:new u.Uniform3f(g,o.u_spin_weights)}),symbolIcon:(g,o)=>({u_is_size_zoom_constant:new u.Uniform1i(g,o.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(g,o.u_is_size_feature_constant),u_size_t:new u.Uniform1f(g,o.u_size_t),u_size:new u.Uniform1f(g,o.u_size),u_camera_to_center_distance:new u.Uniform1f(g,o.u_camera_to_center_distance),u_pitch:new u.Uniform1f(g,o.u_pitch),u_rotate_symbol:new u.Uniform1i(g,o.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(g,o.u_aspect_ratio),u_fade_change:new u.Uniform1f(g,o.u_fade_change),u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(g,o.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(g,o.u_coord_matrix),u_is_text:new u.Uniform1i(g,o.u_is_text),u_pitch_with_map:new u.Uniform1i(g,o.u_pitch_with_map),u_texsize:new u.Uniform2f(g,o.u_texsize),u_texture:new u.Uniform1i(g,o.u_texture)}),symbolSDF:(g,o)=>({u_is_size_zoom_constant:new u.Uniform1i(g,o.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(g,o.u_is_size_feature_constant),u_size_t:new u.Uniform1f(g,o.u_size_t),u_size:new u.Uniform1f(g,o.u_size),u_camera_to_center_distance:new u.Uniform1f(g,o.u_camera_to_center_distance),u_pitch:new u.Uniform1f(g,o.u_pitch),u_rotate_symbol:new u.Uniform1i(g,o.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(g,o.u_aspect_ratio),u_fade_change:new u.Uniform1f(g,o.u_fade_change),u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(g,o.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(g,o.u_coord_matrix),u_is_text:new u.Uniform1i(g,o.u_is_text),u_pitch_with_map:new u.Uniform1i(g,o.u_pitch_with_map),u_texsize:new u.Uniform2f(g,o.u_texsize),u_texture:new u.Uniform1i(g,o.u_texture),u_gamma_scale:new u.Uniform1f(g,o.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(g,o.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(g,o.u_is_halo)}),symbolTextAndIcon:(g,o)=>({u_is_size_zoom_constant:new u.Uniform1i(g,o.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(g,o.u_is_size_feature_constant),u_size_t:new u.Uniform1f(g,o.u_size_t),u_size:new u.Uniform1f(g,o.u_size),u_camera_to_center_distance:new u.Uniform1f(g,o.u_camera_to_center_distance),u_pitch:new u.Uniform1f(g,o.u_pitch),u_rotate_symbol:new u.Uniform1i(g,o.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(g,o.u_aspect_ratio),u_fade_change:new u.Uniform1f(g,o.u_fade_change),u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(g,o.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(g,o.u_coord_matrix),u_is_text:new u.Uniform1i(g,o.u_is_text),u_pitch_with_map:new u.Uniform1i(g,o.u_pitch_with_map),u_texsize:new u.Uniform2f(g,o.u_texsize),u_texsize_icon:new u.Uniform2f(g,o.u_texsize_icon),u_texture:new u.Uniform1i(g,o.u_texture),u_texture_icon:new u.Uniform1i(g,o.u_texture_icon),u_gamma_scale:new u.Uniform1f(g,o.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(g,o.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(g,o.u_is_halo)}),background:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_opacity:new u.Uniform1f(g,o.u_opacity),u_color:new u.UniformColor(g,o.u_color)}),backgroundPattern:(g,o)=>({u_matrix:new u.UniformMatrix4f(g,o.u_matrix),u_opacity:new u.Uniform1f(g,o.u_opacity),u_image:new u.Uniform1i(g,o.u_image),u_pattern_tl_a:new u.Uniform2f(g,o.u_pattern_tl_a),u_pattern_br_a:new u.Uniform2f(g,o.u_pattern_br_a),u_pattern_tl_b:new u.Uniform2f(g,o.u_pattern_tl_b),u_pattern_br_b:new u.Uniform2f(g,o.u_pattern_br_b),u_texsize:new u.Uniform2f(g,o.u_texsize),u_mix:new u.Uniform1f(g,o.u_mix),u_pattern_size_a:new u.Uniform2f(g,o.u_pattern_size_a),u_pattern_size_b:new u.Uniform2f(g,o.u_pattern_size_b),u_scale_a:new u.Uniform1f(g,o.u_scale_a),u_scale_b:new u.Uniform1f(g,o.u_scale_b),u_pixel_coord_upper:new u.Uniform2f(g,o.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(g,o.u_pixel_coord_lower),u_tile_units_to_pixels:new u.Uniform1f(g,o.u_tile_units_to_pixels)})};class xh{constructor(o,c,p){this.context=o;const y=o.gl;this.buffer=y.createBuffer(),this.dynamicDraw=Boolean(p),this.context.unbindVAO(),o.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(o){const c=this.context.gl;this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,o.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const wh={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Zf{constructor(o,c,p,y){this.length=c.length,this.attributes=p,this.itemSize=c.bytesPerElement,this.dynamicDraw=y,this.context=o;const x=o.gl;this.buffer=x.createBuffer(),o.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(o){const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,o.arrayBuffer)}enableAttributes(o,c){for(let p=0;p<this.attributes.length;p++){const y=c.attributes[this.attributes[p].name];y!==void 0&&o.enableVertexAttribArray(y)}}setVertexAttribPointers(o,c,p){for(let y=0;y<this.attributes.length;y++){const x=this.attributes[y],E=c.attributes[x.name];E!==void 0&&o.vertexAttribPointer(E,x.components,o[wh[x.type]],!1,this.itemSize,x.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class en{constructor(o){this.gl=o.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(o){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class l0 extends en{getDefault(){return u.Color.transparent}set(o){const c=this.current;(o.r!==c.r||o.g!==c.g||o.b!==c.b||o.a!==c.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class ml extends en{getDefault(){return 1}set(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)}}class gl extends en{getDefault(){return 0}set(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)}}class Hf extends en{getDefault(){return[!0,!0,!0,!0]}set(o){const c=this.current;(o[0]!==c[0]||o[1]!==c[1]||o[2]!==c[2]||o[3]!==c[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class gi extends en{getDefault(){return!0}set(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)}}class bh extends en{getDefault(){return 255}set(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)}}class mu extends en{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(o){const c=this.current;(o.func!==c.func||o.ref!==c.ref||o.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)}}class gu extends en{getDefault(){const o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]}set(o){const c=this.current;(o[0]!==c[0]||o[1]!==c[1]||o[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)}}class Sh extends en{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;o?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=o,this.dirty=!1}}class Eh extends en{getDefault(){return[0,1]}set(o){const c=this.current;(o[0]!==c[0]||o[1]!==c[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)}}class yu extends en{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;o?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=o,this.dirty=!1}}class kh extends en{getDefault(){return this.gl.LESS}set(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)}}class Ch extends en{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;o?c.enable(c.BLEND):c.disable(c.BLEND),this.current=o,this.dirty=!1}}class _u extends en{getDefault(){const o=this.gl;return[o.ONE,o.ZERO]}set(o){const c=this.current;(o[0]!==c[0]||o[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)}}class Xf extends en{getDefault(){return u.Color.transparent}set(o){const c=this.current;(o.r!==c.r||o.g!==c.g||o.b!==c.b||o.a!==c.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class Kf extends en{getDefault(){return this.gl.FUNC_ADD}set(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)}}class ps extends en{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;o?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=o,this.dirty=!1}}class u0 extends en{getDefault(){return this.gl.BACK}set(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)}}class c0 extends en{getDefault(){return this.gl.CCW}set(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)}}class h0 extends en{getDefault(){return null}set(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)}}class d0 extends en{getDefault(){return this.gl.TEXTURE0}set(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)}}class f0 extends en{getDefault(){const o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]}set(o){const c=this.current;(o[0]!==c[0]||o[1]!==c[1]||o[2]!==c[2]||o[3]!==c[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class p0 extends en{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,o),this.current=o,this.dirty=!1}}class Th extends en{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class Ph extends en{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,o),this.current=o,this.dirty=!1}}class ms extends en{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class Yf extends en{getDefault(){return null}set(o){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class Jf extends en{constructor(o){super(o),this.vao=o.extVertexArrayObject}getDefault(){return null}set(o){this.vao&&(o!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(o),this.current=o,this.dirty=!1)}}class Ih extends en{getDefault(){return 4}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}}class Ta extends en{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}}class Qf extends en{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}}class Pa extends en{constructor(o,c){super(o),this.context=o,this.parent=c}getDefault(){return null}}class gs extends Pa{setDirty(){this.dirty=!0}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}}class ep extends Pa{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class Ah{constructor(o,c,p,y){this.context=o,this.width=c,this.height=p;const x=this.framebuffer=o.gl.createFramebuffer();this.colorAttachment=new gs(o,x),y&&(this.depthAttachment=new ep(o,x))}destroy(){const o=this.context.gl,c=this.colorAttachment.get();if(c&&o.deleteTexture(c),this.depthAttachment){const p=this.depthAttachment.get();p&&o.deleteRenderbuffer(p)}o.deleteFramebuffer(this.framebuffer)}}class Mt{constructor(o,c,p){this.blendFunction=o,this.blendColor=c,this.mask=p}}Mt.Replace=[1,0],Mt.disabled=new Mt(Mt.Replace,u.Color.transparent,[!1,!1,!1,!1]),Mt.unblended=new Mt(Mt.Replace,u.Color.transparent,[!0,!0,!0,!0]),Mt.alphaBlended=new Mt([1,771],u.Color.transparent,[!0,!0,!0,!0]);class vu{constructor(o){this.gl=o,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new l0(this),this.clearDepth=new ml(this),this.clearStencil=new gl(this),this.colorMask=new Hf(this),this.depthMask=new gi(this),this.stencilMask=new bh(this),this.stencilFunc=new mu(this),this.stencilOp=new gu(this),this.stencilTest=new Sh(this),this.depthRange=new Eh(this),this.depthTest=new yu(this),this.depthFunc=new kh(this),this.blend=new Ch(this),this.blendFunc=new _u(this),this.blendColor=new Xf(this),this.blendEquation=new Kf(this),this.cullFace=new ps(this),this.cullFaceSide=new u0(this),this.frontFace=new c0(this),this.program=new h0(this),this.activeTexture=new d0(this),this.viewport=new f0(this),this.bindFramebuffer=new p0(this),this.bindRenderbuffer=new Th(this),this.bindTexture=new Ph(this),this.bindVertexBuffer=new ms(this),this.bindElementBuffer=new Yf(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Jf(this),this.pixelStoreUnpack=new Ih(this),this.pixelStoreUnpackPremultiplyAlpha=new Ta(this),this.pixelStoreUnpackFlipY=new Qf(this),this.extTextureFilterAnisotropic=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=o.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=o.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(o.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=o.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=o.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(o,c){return new xh(this,o,c)}createVertexBuffer(o,c,p){return new Zf(this,o,c,p)}createRenderbuffer(o,c,p){const y=this.gl,x=y.createRenderbuffer();return this.bindRenderbuffer.set(x),y.renderbufferStorage(y.RENDERBUFFER,o,c,p),this.bindRenderbuffer.set(null),x}createFramebuffer(o,c,p){return new Ah(this,o,c,p)}clear({color:o,depth:c}){const p=this.gl;let y=0;o&&(y|=p.COLOR_BUFFER_BIT,this.clearColor.set(o),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(y|=p.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),p.clear(y)}setCullFace(o){o.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(o.mode),this.frontFace.set(o.frontFace))}setDepthMode(o){o.func!==this.gl.ALWAYS||o.mask?(this.depthTest.set(!0),this.depthFunc.set(o.func),this.depthMask.set(o.mask),this.depthRange.set(o.range)):this.depthTest.set(!1)}setStencilMode(o){o.test.func!==this.gl.ALWAYS||o.mask?(this.stencilTest.set(!0),this.stencilMask.set(o.mask),this.stencilOp.set([o.fail,o.depthFail,o.pass]),this.stencilFunc.set({func:o.test.func,ref:o.ref,mask:o.test.mask})):this.stencilTest.set(!1)}setColorMode(o){M(o.blendFunction,Mt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(o.blendFunction),this.blendColor.set(o.blendColor)),this.colorMask.set(o.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class cn{constructor(o,c,p){this.func=o,this.mask=c,this.range=p}}cn.ReadOnly=!1,cn.ReadWrite=!0,cn.disabled=new cn(519,cn.ReadOnly,[0,1]);const xu=7680;class In{constructor(o,c,p,y,x,E){this.test=o,this.ref=c,this.mask=p,this.fail=y,this.depthFail=x,this.pass=E}}In.disabled=new In({func:519,mask:0},0,0,xu,xu,xu);class Zn{constructor(o,c,p){this.enable=o,this.mode=c,this.frontFace=p}}let wu;function Mh(g,o,c,p,y,x,E){const P=g.context,I=P.gl,D=g.useProgram("collisionBox"),F=[];let U=0,X=0;for(let ge=0;ge<p.length;ge++){const Me=p[ge],Ee=o.getTile(Me),Ce=Ee.getBucket(c);if(!Ce)continue;let Fe=Me.posMatrix;y[0]===0&&y[1]===0||(Fe=g.translatePosMatrix(Me.posMatrix,Ee,y,x));const Ge=E?Ce.textCollisionBox:Ce.iconCollisionBox,Ae=Ce.collisionCircleArray;if(Ae.length>0){const st=u.create(),Xe=Fe;u.mul(st,Ce.placementInvProjMatrix,g.transform.glCoordMatrix),u.mul(st,st,Ce.placementViewportMatrix),F.push({circleArray:Ae,circleOffset:X,transform:Xe,invTransform:st}),U+=Ae.length/4,X=U}Ge&&D.draw(P,I.LINES,cn.disabled,In.disabled,g.colorModeForRenderPass(),Zn.disabled,cu(Fe,g.transform,Ee),c.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,null,g.transform.zoom,null,null,Ge.collisionVertexBuffer)}if(!E||!F.length)return;const ne=g.useProgram("collisionCircle"),K=new u.CollisionCircleLayoutArray;K.resize(4*U),K._trim();let te=0;for(const ge of F)for(let Me=0;Me<ge.circleArray.length/4;Me++){const Ee=4*Me,Ce=ge.circleArray[Ee+0],Fe=ge.circleArray[Ee+1],Ge=ge.circleArray[Ee+2],Ae=ge.circleArray[Ee+3];K.emplace(te++,Ce,Fe,Ge,Ae,0),K.emplace(te++,Ce,Fe,Ge,Ae,1),K.emplace(te++,Ce,Fe,Ge,Ae,2),K.emplace(te++,Ce,Fe,Ge,Ae,3)}(!wu||wu.length<2*U)&&(wu=function(ge){const Me=2*ge,Ee=new u.QuadTriangleArray;Ee.resize(Me),Ee._trim();for(let Ce=0;Ce<Me;Ce++){const Fe=6*Ce;Ee.uint16[Fe+0]=4*Ce+0,Ee.uint16[Fe+1]=4*Ce+1,Ee.uint16[Fe+2]=4*Ce+2,Ee.uint16[Fe+3]=4*Ce+2,Ee.uint16[Fe+4]=4*Ce+3,Ee.uint16[Fe+5]=4*Ce+0}return Ee}(U));const fe=P.createIndexBuffer(wu,!0),pe=P.createVertexBuffer(K,u.collisionCircleLayout.members,!0);for(const ge of F){const Me={u_matrix:ge.transform,u_inv_matrix:ge.invTransform,u_camera_to_center_distance:(_e=g.transform).cameraToCenterDistance,u_viewport_size:[_e.width,_e.height]};ne.draw(P,I.TRIANGLES,cn.disabled,In.disabled,g.colorModeForRenderPass(),Zn.disabled,Me,c.id,pe,fe,u.SegmentVector.simpleSegment(0,2*ge.circleOffset,ge.circleArray.length,ge.circleArray.length/2),null,g.transform.zoom,null,null,null)}var _e;pe.destroy(),fe.destroy()}Zn.disabled=new Zn(!1,1029,2305),Zn.backCCW=new Zn(!0,1029,2305);const m0=u.identity(new Float32Array(16));function zh(g,o,c,p,y,x){const{horizontalAlign:E,verticalAlign:P}=u.getAnchorAlignment(g),I=-(E-.5)*o,D=-(P-.5)*c,F=u.evaluateVariableOffset(g,p);return new u.pointGeometry((I/y+F[0])*x,(D/y+F[1])*x)}function bu(g,o,c,p,y,x,E,P,I,D){const F=g.text.placedSymbolArray,U=g.text.dynamicLayoutVertexArray,X=g.icon.dynamicLayoutVertexArray,ne={};U.clear();for(let K=0;K<F.length;K++){const te=F.get(K),fe=g.allowVerticalPlacement&&!te.placedOrientation,pe=te.hidden||!te.crossTileID||fe?null:p[te.crossTileID];if(pe){const _e=new u.pointGeometry(te.anchorX,te.anchorY),ge=pn(_e,c?E:x),Me=Ue(y.cameraToCenterDistance,ge.signedDistanceFromCamera);let Ee=u.evaluateSizeForFeature(g.textSizeData,I,te)*Me/u.ONE_EM;c&&(Ee*=g.tilePixelRatio/P);const{width:Ce,height:Fe,anchor:Ge,textOffset:Ae,textBoxScale:st}=pe,Xe=zh(Ge,Ce,Fe,Ae,st,Ee),Pt=c?pn(_e.add(Xe),x).point:ge.point.add(o?Xe.rotate(-y.angle):Xe),Zt=g.allowVerticalPlacement&&te.placedOrientation===u.WritingMode.vertical?Math.PI/2:0;for(let Vt=0;Vt<te.numGlyphs;Vt++)u.addDynamicAttributes(U,Pt,Zt);D&&te.associatedIconIndex>=0&&(ne[te.associatedIconIndex]={shiftedAnchor:Pt,angle:Zt})}else ar(te.numGlyphs,U)}if(D){X.clear();const K=g.icon.placedSymbolArray;for(let te=0;te<K.length;te++){const fe=K.get(te);if(fe.hidden)ar(fe.numGlyphs,X);else{const pe=ne[te];if(pe)for(let _e=0;_e<fe.numGlyphs;_e++)u.addDynamicAttributes(X,pe.shiftedAnchor,pe.angle);else ar(fe.numGlyphs,X)}}g.icon.dynamicLayoutVertexBuffer.updateData(X)}g.text.dynamicLayoutVertexBuffer.updateData(U)}function Su(g,o,c){return c.iconsInText&&o?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function Eu(g,o,c,p,y,x,E,P,I,D,F,U){const X=g.context,ne=X.gl,K=g.transform,te=P==="map",fe=I==="map",pe=P!=="viewport"&&c.layout.get("symbol-placement")!=="point",_e=te&&!fe&&!pe,ge=!c.layout.get("symbol-sort-key").isConstant();let Me=!1;const Ee=g.depthModeForSublayer(0,cn.ReadOnly),Ce=c.layout.get("text-variable-anchor"),Fe=[];for(const Ge of p){const Ae=o.getTile(Ge),st=Ae.getBucket(c);if(!st)continue;const Xe=y?st.text:st.icon;if(!Xe||!Xe.segments.get().length)continue;const Pt=Xe.programConfigurations.get(c.id),Zt=y||st.sdfIcons,Vt=y?st.textSizeData:st.iconSizeData,Gt=fe||K.pitch!==0,Vn=g.useProgram(Su(Zt,y,st),Pt),It=u.evaluateSizeForZoom(Vt,K.zoom);let Yt,gn,Pr,_i,Bi=[0,0],Vi=null;if(y){if(gn=Ae.glyphAtlasTexture,Pr=ne.LINEAR,Yt=Ae.glyphAtlasTexture.size,st.iconsInText){Bi=Ae.imageAtlasTexture.size,Vi=Ae.imageAtlasTexture;const Co=Vt.kind==="composite"||Vt.kind==="camera";_i=Gt||g.options.rotating||g.options.zooming||Co?ne.LINEAR:ne.NEAREST}}else{const Co=c.layout.get("icon-size").constantOr(0)!==1||st.iconsNeedLinear;gn=Ae.imageAtlasTexture,Pr=Zt||g.options.rotating||g.options.zooming||Co||Gt?ne.LINEAR:ne.NEAREST,Yt=Ae.imageAtlasTexture.size}const la=mr(Ae,1,g.transform.zoom),oi=or(Ge.posMatrix,fe,te,g.transform,la),ko=Ki(Ge.posMatrix,fe,te,g.transform,la),Ra=Ce&&st.hasTextData(),vi=c.layout.get("icon-text-fit")!=="none"&&Ra&&st.hasIconData();if(pe){const Co=c.layout.get("text-rotation-alignment")==="map";At(st,Ge.posMatrix,g,y,oi,ko,fe,D,Co)}const Jt=g.translatePosMatrix(Ge.posMatrix,Ae,x,E),sn=pe||y&&Ce||vi?m0:oi,lr=g.translatePosMatrix(ko,Ae,x,E,!0),Gr=Zt&&c.paint.get(y?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Mn;Mn=Zt?st.iconsInText?a0(Vt.kind,It,_e,fe,g,Jt,sn,lr,Yt,Bi):yh(Vt.kind,It,_e,fe,g,Jt,sn,lr,y,Yt,!0):pu(Vt.kind,It,_e,fe,g,Jt,sn,lr,y,Yt);const La={program:Vn,buffers:Xe,uniformValues:Mn,atlasTexture:gn,atlasTextureIcon:Vi,atlasInterpolation:Pr,atlasInterpolationIcon:_i,isSDF:Zt,hasHalo:Gr};if(ge&&st.canOverlap){Me=!0;const Co=Xe.segments.get();for(const Fu of Co)Fe.push({segments:new u.SegmentVector([Fu]),sortKey:Fu.sortKey,state:La})}else Fe.push({segments:Xe.segments,sortKey:0,state:La})}Me&&Fe.sort((Ge,Ae)=>Ge.sortKey-Ae.sortKey);for(const Ge of Fe){const Ae=Ge.state;if(X.activeTexture.set(ne.TEXTURE0),Ae.atlasTexture.bind(Ae.atlasInterpolation,ne.CLAMP_TO_EDGE),Ae.atlasTextureIcon&&(X.activeTexture.set(ne.TEXTURE1),Ae.atlasTextureIcon&&Ae.atlasTextureIcon.bind(Ae.atlasInterpolationIcon,ne.CLAMP_TO_EDGE)),Ae.isSDF){const st=Ae.uniformValues;Ae.hasHalo&&(st.u_is_halo=1,ku(Ae.buffers,Ge.segments,c,g,Ae.program,Ee,F,U,st)),st.u_is_halo=0}ku(Ae.buffers,Ge.segments,c,g,Ae.program,Ee,F,U,Ae.uniformValues)}}function ku(g,o,c,p,y,x,E,P,I){const D=p.context;y.draw(D,D.gl.TRIANGLES,x,E,P,Zn.disabled,I,c.id,g.layoutVertexBuffer,g.indexBuffer,o,c.paint,p.transform.zoom,g.programConfigurations.get(c.id),g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer)}function Dh(g,o,c,p,y,x,E){const P=g.context.gl,I=c.paint.get("fill-pattern"),D=I&&I.constantOr(1),F=c.getCrossfadeParameters();let U,X,ne,K,te;E?(X=D&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",U=P.LINES):(X=D?"fillPattern":"fill",U=P.TRIANGLES);for(const fe of p){const pe=o.getTile(fe);if(D&&!pe.patternsLoaded())continue;const _e=pe.getBucket(c);if(!_e)continue;const ge=_e.programConfigurations.get(c.id),Me=g.useProgram(X,ge);D&&(g.context.activeTexture.set(P.TEXTURE0),pe.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),ge.updatePaintBuffers(F));const Ee=I.constantOr(null);if(Ee&&pe.imageAtlas){const Fe=pe.imageAtlas,Ge=Fe.patternPositions[Ee.to.toString()],Ae=Fe.patternPositions[Ee.from.toString()];Ge&&Ae&&ge.setConstantPatternPositions(Ge,Ae)}const Ce=g.translatePosMatrix(fe.posMatrix,pe,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(E){K=_e.indexBuffer2,te=_e.segments2;const Fe=[P.drawingBufferWidth,P.drawingBufferHeight];ne=X==="fillOutlinePattern"&&D?Gf(Ce,g,F,pe,Fe):Uf(Ce,Fe)}else K=_e.indexBuffer,te=_e.segments,ne=D?mh(Ce,g,F,pe):ph(Ce);Me.draw(g.context,U,y,g.stencilModeForClipping(fe),x,Zn.disabled,ne,c.id,_e.layoutVertexBuffer,K,te,c.paint,g.transform.zoom,ge)}}function ys(g,o,c,p,y,x,E){const P=g.context,I=P.gl,D=c.paint.get("fill-extrusion-pattern"),F=D.constantOr(1),U=c.getCrossfadeParameters(),X=c.paint.get("fill-extrusion-opacity");for(const ne of p){const K=o.getTile(ne),te=K.getBucket(c);if(!te)continue;const fe=te.programConfigurations.get(c.id),pe=g.useProgram(F?"fillExtrusionPattern":"fillExtrusion",fe);F&&(g.context.activeTexture.set(I.TEXTURE0),K.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),fe.updatePaintBuffers(U));const _e=D.constantOr(null);if(_e&&K.imageAtlas){const Ce=K.imageAtlas,Fe=Ce.patternPositions[_e.to.toString()],Ge=Ce.patternPositions[_e.from.toString()];Fe&&Ge&&fe.setConstantPatternPositions(Fe,Ge)}const ge=g.translatePosMatrix(ne.posMatrix,K,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Me=c.paint.get("fill-extrusion-vertical-gradient"),Ee=F?fh(ge,g,Me,X,ne,U,K):jf(ge,g,Me,X);pe.draw(P,P.gl.TRIANGLES,y,x,E,Zn.backCCW,Ee,c.id,te.layoutVertexBuffer,te.indexBuffer,te.segments,c.paint,g.transform.zoom,fe)}}function Cu(g,o,c,p,y,x){const E=g.context,P=E.gl,I=o.fbo;if(!I)return;const D=g.useProgram("hillshade");E.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,I.colorAttachment.get());const F=((U,X,ne)=>{const K=ne.paint.get("hillshade-shadow-color"),te=ne.paint.get("hillshade-highlight-color"),fe=ne.paint.get("hillshade-accent-color");let pe=ne.paint.get("hillshade-illumination-direction")*(Math.PI/180);ne.paint.get("hillshade-illumination-anchor")==="viewport"&&(pe-=U.transform.angle);const _e=!U.options.moving;return{u_matrix:U.transform.calculatePosMatrix(X.tileID.toUnwrapped(),_e),u_image:0,u_latrange:du(0,X.tileID),u_light:[ne.paint.get("hillshade-exaggeration"),pe],u_shadow:K,u_highlight:te,u_accent:fe}})(g,o,c);D.draw(E,P.TRIANGLES,p,y,x,Zn.disabled,F,c.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}function to(g,o,c,p,y,x){const E=g.context,P=E.gl,I=o.dem;if(I&&I.data){const D=I.dim,F=I.stride,U=I.getPixels();if(E.activeTexture.set(P.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||g.getTileTexture(F),o.demTexture){const ne=o.demTexture;ne.update(U,{premultiply:!1}),ne.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else o.demTexture=new Y(E,U,P.RGBA,{premultiply:!1}),o.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);E.activeTexture.set(P.TEXTURE0);let X=o.fbo;if(!X){const ne=new Y(E,{width:D,height:D,data:null},P.RGBA);ne.bind(P.LINEAR,P.CLAMP_TO_EDGE),X=o.fbo=E.createFramebuffer(D,D,!0),X.colorAttachment.set(ne.texture)}E.bindFramebuffer.set(X.framebuffer),E.viewport.set([0,0,D,D]),g.useProgram("hillshadePrepare").draw(E,P.TRIANGLES,p,y,x,Zn.disabled,((ne,K)=>{const te=K.stride,fe=u.create();return u.ortho(fe,0,u.EXTENT,-u.EXTENT,0,0,1),u.translate(fe,fe,[0,-u.EXTENT,0]),{u_matrix:fe,u_image:1,u_dimension:[te,te],u_zoom:ne.overscaledZ,u_unpack:K.getUnpackVector()}})(o.tileID,I),c.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments),o.needsHillshadePrepare=!1}}function tp(g,o,c,p,y){const x=p.paint.get("raster-fade-duration");if(x>0){const E=u.exported.now(),P=(E-g.timeAdded)/x,I=o?(E-o.timeAdded)/x:-1,D=c.getSource(),F=y.coveringZoomLevel({tileSize:D.tileSize,roundZoom:D.roundZoom}),U=!o||Math.abs(o.tileID.overscaledZ-F)>Math.abs(g.tileID.overscaledZ-F),X=U&&g.refreshedUponExpiration?1:u.clamp(U?P:1-I,0,1);return g.refreshedUponExpiration&&P>=1&&(g.refreshedUponExpiration=!1),o?{opacity:1,mix:1-X}:{opacity:X,mix:0}}return{opacity:1,mix:0}}const np=new u.Color(1,0,0,1),rp=new u.Color(0,1,0,1),_s=new u.Color(0,0,1,1),Tu=new u.Color(1,0,1,1),Rh=new u.Color(0,1,1,1);function ip(g,o,c,p){Iu(g,0,o+c/2,g.transform.width,c,p)}function Pu(g,o,c,p){Iu(g,o-c/2,0,c,g.transform.height,p)}function Iu(g,o,c,p,y,x){const E=g.context,P=E.gl;P.enable(P.SCISSOR_TEST),P.scissor(o*g.pixelRatio,c*g.pixelRatio,p*g.pixelRatio,y*g.pixelRatio),E.clear({color:x}),P.disable(P.SCISSOR_TEST)}function op(g,o,c){const p=g.context,y=p.gl,x=c.posMatrix,E=g.useProgram("debug"),P=cn.disabled,I=In.disabled,D=g.colorModeForRenderPass(),F="$debug";p.activeTexture.set(y.TEXTURE0),g.emptyTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),E.draw(p,y.LINE_STRIP,P,I,D,Zn.disabled,fs(x,u.Color.red),F,g.debugBuffer,g.tileBorderIndexBuffer,g.debugSegments);const U=o.getTileByID(c.key).latestRawTileData,X=Math.floor((U&&U.byteLength||0)/1024),ne=o.getTile(c).tileSize,K=512/Math.min(ne,512)*(c.overscaledZ/g.transform.zoom)*.5;let te=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(te+=` => ${c.overscaledZ}`),function(fe,pe){fe.initDebugOverlayCanvas();const _e=fe.debugOverlayCanvas,ge=fe.context.gl,Me=fe.debugOverlayCanvas.getContext("2d");Me.clearRect(0,0,_e.width,_e.height),Me.shadowColor="white",Me.shadowBlur=2,Me.lineWidth=1.5,Me.strokeStyle="white",Me.textBaseline="top",Me.font="bold 36px Open Sans, sans-serif",Me.fillText(pe,5,5),Me.strokeText(pe,5,5),fe.debugOverlayTexture.update(_e),fe.debugOverlayTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)}(g,`${te} ${X}kb`),E.draw(p,y.TRIANGLES,P,I,Mt.alphaBlended,Zn.disabled,fs(x,u.Color.transparent,K),F,g.debugBuffer,g.quadTriangleIndexBuffer,g.debugSegments)}const yl={symbol:function(g,o,c,p,y){if(g.renderPass!=="translucent")return;const x=In.disabled,E=g.colorModeForRenderPass();c.layout.get("text-variable-anchor")&&function(P,I,D,F,U,X,ne){const K=I.transform,te=U==="map",fe=X==="map";for(const pe of P){const _e=F.getTile(pe),ge=_e.getBucket(D);if(!ge||!ge.text||!ge.text.segments.get().length)continue;const Me=u.evaluateSizeForZoom(ge.textSizeData,K.zoom),Ee=mr(_e,1,I.transform.zoom),Ce=or(pe.posMatrix,fe,te,I.transform,Ee),Fe=D.layout.get("icon-text-fit")!=="none"&&ge.hasIconData();if(Me){const Ge=Math.pow(2,K.zoom-_e.tileID.overscaledZ);bu(ge,te,fe,ne,K,Ce,pe.posMatrix,Ge,Me,Fe)}}}(p,g,c,o,c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),y),c.paint.get("icon-opacity").constantOr(1)!==0&&Eu(g,o,c,p,!1,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),c.layout.get("icon-rotation-alignment"),c.layout.get("icon-pitch-alignment"),c.layout.get("icon-keep-upright"),x,E),c.paint.get("text-opacity").constantOr(1)!==0&&Eu(g,o,c,p,!0,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),c.layout.get("text-keep-upright"),x,E),o.map.showCollisionBoxes&&(Mh(g,o,c,p,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),!0),Mh(g,o,c,p,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),!1))},circle:function(g,o,c,p){if(g.renderPass!=="translucent")return;const y=c.paint.get("circle-opacity"),x=c.paint.get("circle-stroke-width"),E=c.paint.get("circle-stroke-opacity"),P=!c.layout.get("circle-sort-key").isConstant();if(y.constantOr(1)===0&&(x.constantOr(1)===0||E.constantOr(1)===0))return;const I=g.context,D=I.gl,F=g.depthModeForSublayer(0,cn.ReadOnly),U=In.disabled,X=g.colorModeForRenderPass(),ne=[];for(let K=0;K<p.length;K++){const te=p[K],fe=o.getTile(te),pe=fe.getBucket(c);if(!pe)continue;const _e=pe.programConfigurations.get(c.id),ge={programConfiguration:_e,program:g.useProgram("circle",_e),layoutVertexBuffer:pe.layoutVertexBuffer,indexBuffer:pe.indexBuffer,uniformValues:Ca(g,te,fe,c)};if(P){const Me=pe.segments.get();for(const Ee of Me)ne.push({segments:new u.SegmentVector([Ee]),sortKey:Ee.sortKey,state:ge})}else ne.push({segments:pe.segments,sortKey:0,state:ge})}P&&ne.sort((K,te)=>K.sortKey-te.sortKey);for(const K of ne){const{programConfiguration:te,program:fe,layoutVertexBuffer:pe,indexBuffer:_e,uniformValues:ge}=K.state;fe.draw(I,D.TRIANGLES,F,U,X,Zn.disabled,ge,c.id,pe,_e,K.segments,c.paint,g.transform.zoom,te)}},heatmap:function(g,o,c,p){if(c.paint.get("heatmap-opacity")!==0)if(g.renderPass==="offscreen"){const y=g.context,x=y.gl,E=In.disabled,P=new Mt([x.ONE,x.ONE],u.Color.transparent,[!0,!0,!0,!0]);(function(I,D,F){const U=I.gl;I.activeTexture.set(U.TEXTURE1),I.viewport.set([0,0,D.width/4,D.height/4]);let X=F.heatmapFbo;if(X)U.bindTexture(U.TEXTURE_2D,X.colorAttachment.get()),I.bindFramebuffer.set(X.framebuffer);else{const ne=U.createTexture();U.bindTexture(U.TEXTURE_2D,ne),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.LINEAR),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.LINEAR),X=F.heatmapFbo=I.createFramebuffer(D.width/4,D.height/4,!1),function(K,te,fe,pe){const _e=K.gl;_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,te.width/4,te.height/4,0,_e.RGBA,K.extRenderToTextureHalfFloat?K.extTextureHalfFloat.HALF_FLOAT_OES:_e.UNSIGNED_BYTE,null),pe.colorAttachment.set(fe)}(I,D,ne,X)}})(y,g,c),y.clear({color:u.Color.transparent});for(let I=0;I<p.length;I++){const D=p[I];if(o.hasRenderableParent(D))continue;const F=o.getTile(D),U=F.getBucket(c);if(!U)continue;const X=U.programConfigurations.get(c.id),ne=g.useProgram("heatmap",X),{zoom:K}=g.transform;ne.draw(y,x.TRIANGLES,cn.disabled,E,P,Zn.disabled,hu(D.posMatrix,F,K,c.paint.get("heatmap-intensity")),c.id,U.layoutVertexBuffer,U.indexBuffer,U.segments,c.paint,g.transform.zoom,X)}y.viewport.set([0,0,g.width,g.height])}else g.renderPass==="translucent"&&(g.context.setColorMode(g.colorModeForRenderPass()),function(y,x){const E=y.context,P=E.gl,I=x.heatmapFbo;if(!I)return;E.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,I.colorAttachment.get()),E.activeTexture.set(P.TEXTURE1);let D=x.colorRampTexture;D||(D=x.colorRampTexture=new Y(E,x.colorRamp,P.RGBA)),D.bind(P.LINEAR,P.CLAMP_TO_EDGE),y.useProgram("heatmapTexture").draw(E,P.TRIANGLES,cn.disabled,In.disabled,y.colorModeForRenderPass(),Zn.disabled,((F,U,X,ne)=>{const K=u.create();u.ortho(K,0,F.width,F.height,0,0,1);const te=F.context.gl;return{u_matrix:K,u_world:[te.drawingBufferWidth,te.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:U.paint.get("heatmap-opacity")}})(y,x),x.id,y.viewportBuffer,y.quadTriangleIndexBuffer,y.viewportSegments,x.paint,y.transform.zoom)}(g,c))},line:function(g,o,c,p){if(g.renderPass!=="translucent")return;const y=c.paint.get("line-opacity"),x=c.paint.get("line-width");if(y.constantOr(1)===0||x.constantOr(1)===0)return;const E=g.depthModeForSublayer(0,cn.ReadOnly),P=g.colorModeForRenderPass(),I=c.paint.get("line-dasharray"),D=c.paint.get("line-pattern"),F=D.constantOr(1),U=c.paint.get("line-gradient"),X=c.getCrossfadeParameters(),ne=F?"linePattern":I?"lineSDF":U?"lineGradient":"line",K=g.context,te=K.gl;let fe=!0;for(const pe of p){const _e=o.getTile(pe);if(F&&!_e.patternsLoaded())continue;const ge=_e.getBucket(c);if(!ge)continue;const Me=ge.programConfigurations.get(c.id),Ee=g.context.program.get(),Ce=g.useProgram(ne,Me),Fe=fe||Ce.program!==Ee,Ge=D.constantOr(null);if(Ge&&_e.imageAtlas){const st=_e.imageAtlas,Xe=st.patternPositions[Ge.to.toString()],Pt=st.patternPositions[Ge.from.toString()];Xe&&Pt&&Me.setConstantPatternPositions(Xe,Pt)}const Ae=F?fl(g,_e,c,X):I?sr(g,_e,c,I,X):U?fu(g,_e,c,ge.lineClipsArray.length):dl(g,_e,c);if(F)K.activeTexture.set(te.TEXTURE0),_e.imageAtlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE),Me.updatePaintBuffers(X);else if(I&&(Fe||g.lineAtlas.dirty))K.activeTexture.set(te.TEXTURE0),g.lineAtlas.bind(K);else if(U){const st=ge.gradients[c.id];let Xe=st.texture;if(c.gradientVersion!==st.version){let Pt=256;if(c.stepInterpolant){const Zt=o.getSource().maxzoom,Vt=pe.canonical.z===Zt?Math.ceil(1<<g.transform.maxZoom-pe.canonical.z):1;Pt=u.clamp(u.nextPowerOfTwo(ge.maxLineLength/u.EXTENT*1024*Vt),256,K.maxTextureSize)}st.gradient=u.renderColorRamp({expression:c.gradientExpression(),evaluationKey:"lineProgress",resolution:Pt,image:st.gradient||void 0,clips:ge.lineClipsArray}),st.texture?st.texture.update(st.gradient):st.texture=new Y(K,st.gradient,te.RGBA),st.version=c.gradientVersion,Xe=st.texture}K.activeTexture.set(te.TEXTURE0),Xe.bind(c.stepInterpolant?te.NEAREST:te.LINEAR,te.CLAMP_TO_EDGE)}Ce.draw(K,te.TRIANGLES,E,g.stencilModeForClipping(pe),P,Zn.disabled,Ae,c.id,ge.layoutVertexBuffer,ge.indexBuffer,ge.segments,c.paint,g.transform.zoom,Me,ge.layoutVertexBuffer2),fe=!1}},fill:function(g,o,c,p){const y=c.paint.get("fill-color"),x=c.paint.get("fill-opacity");if(x.constantOr(1)===0)return;const E=g.colorModeForRenderPass(),P=c.paint.get("fill-pattern"),I=g.opaquePassEnabledForLayer()&&!P.constantOr(1)&&y.constantOr(u.Color.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(g.renderPass===I){const D=g.depthModeForSublayer(1,g.renderPass==="opaque"?cn.ReadWrite:cn.ReadOnly);Dh(g,o,c,p,D,E,!1)}if(g.renderPass==="translucent"&&c.paint.get("fill-antialias")){const D=g.depthModeForSublayer(c.getPaintProperty("fill-outline-color")?2:0,cn.ReadOnly);Dh(g,o,c,p,D,E,!0)}},"fill-extrusion":function(g,o,c,p){const y=c.paint.get("fill-extrusion-opacity");if(y!==0&&g.renderPass==="translucent"){const x=new cn(g.context.gl.LEQUAL,cn.ReadWrite,g.depthRangeFor3D);if(y!==1||c.paint.get("fill-extrusion-pattern").constantOr(1))ys(g,o,c,p,x,In.disabled,Mt.disabled),ys(g,o,c,p,x,g.stencilModeFor3D(),g.colorModeForRenderPass());else{const E=g.colorModeForRenderPass();ys(g,o,c,p,x,In.disabled,E)}}},hillshade:function(g,o,c,p){if(g.renderPass!=="offscreen"&&g.renderPass!=="translucent")return;const y=g.context,x=g.depthModeForSublayer(0,cn.ReadOnly),E=g.colorModeForRenderPass(),[P,I]=g.renderPass==="translucent"?g.stencilConfigForOverlap(p):[{},p];for(const D of I){const F=o.getTile(D);F.needsHillshadePrepare&&g.renderPass==="offscreen"?to(g,F,c,x,In.disabled,E):g.renderPass==="translucent"&&Cu(g,F,c,x,P[D.overscaledZ],E)}y.viewport.set([0,0,g.width,g.height])},raster:function(g,o,c,p){if(g.renderPass!=="translucent"||c.paint.get("raster-opacity")===0||!p.length)return;const y=g.context,x=y.gl,E=o.getSource(),P=g.useProgram("raster"),I=g.colorModeForRenderPass(),[D,F]=E instanceof mn?[{},p]:g.stencilConfigForOverlap(p),U=F[F.length-1].overscaledZ,X=!g.options.moving;for(const ne of F){const K=g.depthModeForSublayer(ne.overscaledZ-U,c.paint.get("raster-opacity")===1?cn.ReadWrite:cn.ReadOnly,x.LESS),te=o.getTile(ne),fe=g.transform.calculatePosMatrix(ne.toUnwrapped(),X);te.registerFadeDuration(c.paint.get("raster-fade-duration"));const pe=o.findLoadedParent(ne,0),_e=tp(te,pe,o,c,g.transform);let ge,Me;const Ee=c.paint.get("raster-resampling")==="nearest"?x.NEAREST:x.LINEAR;y.activeTexture.set(x.TEXTURE0),te.texture.bind(Ee,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),y.activeTexture.set(x.TEXTURE1),pe?(pe.texture.bind(Ee,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),ge=Math.pow(2,pe.tileID.overscaledZ-te.tileID.overscaledZ),Me=[te.tileID.canonical.x*ge%1,te.tileID.canonical.y*ge%1]):te.texture.bind(Ee,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST);const Ce=Wf(fe,Me||[0,0],ge||1,_e,c);E instanceof mn?P.draw(y,x.TRIANGLES,K,In.disabled,I,Zn.disabled,Ce,c.id,E.boundsBuffer,g.quadTriangleIndexBuffer,E.boundsSegments):P.draw(y,x.TRIANGLES,K,D[ne.overscaledZ],I,Zn.disabled,Ce,c.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}},background:function(g,o,c){const p=c.paint.get("background-color"),y=c.paint.get("background-opacity");if(y===0)return;const x=g.context,E=x.gl,P=g.transform,I=P.tileSize,D=c.paint.get("background-pattern");if(g.isPatternMissing(D))return;const F=!D&&p.a===1&&y===1&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass!==F)return;const U=In.disabled,X=g.depthModeForSublayer(0,F==="opaque"?cn.ReadWrite:cn.ReadOnly),ne=g.colorModeForRenderPass(),K=g.useProgram(D?"backgroundPattern":"background"),te=P.coveringTiles({tileSize:I});D&&(x.activeTexture.set(E.TEXTURE0),g.imageManager.bind(g.context));const fe=c.getCrossfadeParameters();for(const pe of te){const _e=g.transform.calculatePosMatrix(pe.toUnwrapped()),ge=D?_h(_e,y,g,D,{tileID:pe,tileSize:I},fe):s0(_e,y,p);K.draw(x,E.TRIANGLES,X,U,ne,Zn.disabled,ge,c.id,g.tileExtentBuffer,g.quadTriangleIndexBuffer,g.tileExtentSegments)}},debug:function(g,o,c){for(let p=0;p<c.length;p++)op(g,o,c[p])},custom:function(g,o,c){const p=g.context,y=c.implementation;if(g.renderPass==="offscreen"){const x=y.prerender;x&&(g.setCustomLayerDefaults(),p.setColorMode(g.colorModeForRenderPass()),x.call(y,p.gl,g.transform.customLayerMatrix()),p.setDirty(),g.setBaseState())}else if(g.renderPass==="translucent"){g.setCustomLayerDefaults(),p.setColorMode(g.colorModeForRenderPass()),p.setStencilMode(In.disabled);const x=y.renderingMode==="3d"?new cn(g.context.gl.LEQUAL,cn.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,cn.ReadOnly);p.setDepthMode(x),y.render(p.gl,g.transform.customLayerMatrix()),p.setDirty(),g.setBaseState(),p.bindFramebuffer.set(null)}}};class Lh{constructor(o,c){this.context=new vu(o),this.transform=c,this._tileTextures={},this.setup(),this.numSublayers=Pn.maxUnderzooming+Pn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ot,this.gpuTimers={}}resize(o,c,p){if(this.width=o*p,this.height=c*p,this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const y of this.style._order)this.style._layers[y].resize()}setup(){const o=this.context,c=new u.PosArray;c.emplaceBack(0,0),c.emplaceBack(u.EXTENT,0),c.emplaceBack(0,u.EXTENT),c.emplaceBack(u.EXTENT,u.EXTENT),this.tileExtentBuffer=o.createVertexBuffer(c,uh.members),this.tileExtentSegments=u.SegmentVector.simpleSegment(0,0,4,2);const p=new u.PosArray;p.emplaceBack(0,0),p.emplaceBack(u.EXTENT,0),p.emplaceBack(0,u.EXTENT),p.emplaceBack(u.EXTENT,u.EXTENT),this.debugBuffer=o.createVertexBuffer(p,uh.members),this.debugSegments=u.SegmentVector.simpleSegment(0,0,4,5);const y=new u.RasterBoundsArray;y.emplaceBack(0,0,0,0),y.emplaceBack(u.EXTENT,0,u.EXTENT,0),y.emplaceBack(0,u.EXTENT,0,u.EXTENT),y.emplaceBack(u.EXTENT,u.EXTENT,u.EXTENT,u.EXTENT),this.rasterBoundsBuffer=o.createVertexBuffer(y,ct.members),this.rasterBoundsSegments=u.SegmentVector.simpleSegment(0,0,4,2);const x=new u.PosArray;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=o.createVertexBuffer(x,uh.members),this.viewportSegments=u.SegmentVector.simpleSegment(0,0,4,2);const E=new u.LineStripIndexArray;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=o.createIndexBuffer(E);const P=new u.TriangleIndexArray;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=o.createIndexBuffer(P),this.emptyTexture=new Y(o,{width:1,height:1,data:new Uint8Array([0,0,0,0])},o.gl.RGBA);const I=this.context.gl;this.stencilClearMode=new In({func:I.ALWAYS,mask:0},0,255,I.ZERO,I.ZERO,I.ZERO)}clearStencil(){const o=this.context,c=o.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=u.create();u.ortho(p,0,this.width,this.height,0,0,1),u.scale(p,p,[c.drawingBufferWidth,c.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(o,c.TRIANGLES,cn.disabled,this.stencilClearMode,Mt.disabled,Zn.disabled,hl(p),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(o,c){if(this.currentStencilSource===o.source||!o.isTileClipped()||!c||!c.length)return;this.currentStencilSource=o.source;const p=this.context,y=p.gl;this.nextStencilID+c.length>256&&this.clearStencil(),p.setColorMode(Mt.disabled),p.setDepthMode(cn.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of c){const P=this._tileClippingMaskIDs[E.key]=this.nextStencilID++;x.draw(p,y.TRIANGLES,cn.disabled,new In({func:y.ALWAYS,mask:0},P,255,y.KEEP,y.KEEP,y.REPLACE),Mt.disabled,Zn.disabled,hl(E.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const o=this.nextStencilID++,c=this.context.gl;return new In({func:c.NOTEQUAL,mask:255},o,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(o){const c=this.context.gl;return new In({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[o.key],0,c.KEEP,c.KEEP,c.REPLACE)}stencilConfigForOverlap(o){const c=this.context.gl,p=o.sort((E,P)=>P.overscaledZ-E.overscaledZ),y=p[p.length-1].overscaledZ,x=p[0].overscaledZ-y+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const E={};for(let P=0;P<x;P++)E[P+y]=new In({func:c.GEQUAL,mask:255},P+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=x,[E,p]}return[{[y]:In.disabled},p]}colorModeForRenderPass(){const o=this.context.gl;return this._showOverdrawInspector?new Mt([o.CONSTANT_COLOR,o.ONE],new u.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Mt.unblended:Mt.alphaBlended}depthModeForSublayer(o,c,p){if(!this.opaquePassEnabledForLayer())return cn.disabled;const y=1-((1+this.currentLayer)*this.numSublayers+o)*this.depthEpsilon;return new cn(p||this.context.gl.LEQUAL,c,[y,y])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(o,c){this.style=o,this.options=c,this.lineAtlas=o.lineAtlas,this.imageManager=o.imageManager,this.glyphManager=o.glyphManager,this.symbolFadeChange=o.placement.symbolFadeChange(u.exported.now()),this.imageManager.beginFrame();const p=this.style._order,y=this.style.sourceCaches;for(const I in y){const D=y[I];D.used&&D.prepare(this.context)}const x={},E={},P={};for(const I in y){const D=y[I];x[I]=D.getVisibleCoordinates(),E[I]=x[I].slice().reverse(),P[I]=D.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let I=0;I<p.length;I++)if(this.style._layers[p[I]].is3D()){this.opaquePassCutoff=I;break}this.renderPass="offscreen";for(const I of p){const D=this.style._layers[I];if(!D.hasOffscreenPass()||D.isHidden(this.transform.zoom))continue;const F=E[D.source];(D.type==="custom"||F.length)&&this.renderLayer(this,y[D.source],D,F)}for(this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?u.Color.black:u.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(o._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const I=this.style._layers[p[this.currentLayer]],D=y[I.source],F=x[I.source];this._renderTileClippingMasks(I,F),this.renderLayer(this,D,I,F)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const I=this.style._layers[p[this.currentLayer]],D=y[I.source],F=(I.type==="symbol"?P:E)[I.source];this._renderTileClippingMasks(I,x[I.source]),this.renderLayer(this,D,I,F)}if(this.options.showTileBoundaries){let I,D;Object.values(this.style._layers).forEach(F=>{F.source&&!F.isHidden(this.transform.zoom)&&(F.source!==(D&&D.id)&&(D=this.style.sourceCaches[F.source]),(!I||I.getSource().maxzoom<D.getSource().maxzoom)&&(I=D))}),I&&yl.debug(this,I,I.getVisibleCoordinates())}this.options.showPadding&&function(I){const D=I.transform.padding;ip(I,I.transform.height-(D.top||0),3,np),ip(I,D.bottom||0,3,rp),Pu(I,D.left||0,3,_s),Pu(I,I.transform.width-(D.right||0),3,Tu);const F=I.transform.centerPoint;(function(U,X,ne,K){Iu(U,X-1,ne-10,2,20,K),Iu(U,X-10,ne-1,20,2,K)})(I,F.x,I.transform.height-F.y,Rh)}(this),this.context.setDefault()}renderLayer(o,c,p,y){p.isHidden(this.transform.zoom)||(p.type==="background"||p.type==="custom"||y.length)&&(this.id=p.id,this.gpuTimingStart(p),yl[p.type](o,c,p,y,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(o){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;let p=this.gpuTimers[o.id];p||(p=this.gpuTimers[o.id]={calls:0,cpuTime:0,query:c.createQueryEXT()}),p.calls++,c.beginQueryEXT(c.TIME_ELAPSED_EXT,p.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const o=this.context.extTimerQuery;o.endQueryEXT(o.TIME_ELAPSED_EXT)}collectGpuTimers(){const o=this.gpuTimers;return this.gpuTimers={},o}queryGpuTimers(o){const c={};for(const p in o){const y=o[p],x=this.context.extTimerQuery,E=x.getQueryObjectEXT(y.query,x.QUERY_RESULT_EXT)/1e6;x.deleteQueryEXT(y.query),c[p]=E}return c}translatePosMatrix(o,c,p,y,x){if(!p[0]&&!p[1])return o;const E=x?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(E){const D=Math.sin(E),F=Math.cos(E);p=[p[0]*F-p[1]*D,p[0]*D+p[1]*F]}const P=[x?p[0]:mr(c,p[0],this.transform.zoom),x?p[1]:mr(c,p[1],this.transform.zoom),0],I=new Float32Array(16);return u.translate(I,o,P),I}saveTileTexture(o){const c=this._tileTextures[o.size[0]];c?c.push(o):this._tileTextures[o.size[0]]=[o]}getTileTexture(o){const c=this._tileTextures[o];return c&&c.length>0?c.pop():null}isPatternMissing(o){if(!o)return!1;if(!o.from||!o.to)return!0;const c=this.imageManager.getPattern(o.from.toString()),p=this.imageManager.getPattern(o.to.toString());return!c||!p}useProgram(o,c){this.cache=this.cache||{};const p=`${o}${c?c.cacheKey:""}${this._showOverdrawInspector?"/overdraw":""}`;return this.cache[p]||(this.cache[p]=new o0(this.context,o,ch[o],c,vh[o],this._showOverdrawInspector)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const o=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(o.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Y(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Au{constructor(o,c){this.points=o,this.planes=c}static fromInvProjectionMatrix(o,c,p){const y=Math.pow(2,p),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>u.transformMat4([],P,o)).map(P=>u.scale$1([],P,1/P[3]/c*y)),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const I=function(X,ne){var K=ne[0],te=ne[1],fe=ne[2],pe=K*K+te*te+fe*fe;return pe>0&&(pe=1/Math.sqrt(pe)),X[0]=ne[0]*pe,X[1]=ne[1]*pe,X[2]=ne[2]*pe,X}([],function(X,ne,K){var te=ne[0],fe=ne[1],pe=ne[2],_e=K[0],ge=K[1],Me=K[2];return X[0]=fe*Me-pe*ge,X[1]=pe*_e-te*Me,X[2]=te*ge-fe*_e,X}([],V([],x[P[0]],x[P[1]]),V([],x[P[2]],x[P[1]]))),D=-((F=I)[0]*(U=x[P[1]])[0]+F[1]*U[1]+F[2]*U[2]);var F,U;return I.concat(D)});return new Au(x,E)}}class Mu{constructor(o,c){this.min=o,this.max=c,this.center=function(p,y,x){return p[0]=.5*y[0],p[1]=.5*y[1],p[2]=.5*y[2],p}([],function(p,y,x){return p[0]=y[0]+x[0],p[1]=y[1]+x[1],p[2]=y[2]+x[2],p}([],this.min,this.max))}quadrant(o){const c=[o%2==0,o<2],p=H(this.min),y=H(this.max);for(let x=0;x<c.length;x++)p[x]=c[x]?this.min[x]:this.center[x],y[x]=c[x]?this.center[x]:this.max[x];return y[2]=this.max[2],new Mu(p,y)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}intersects(o){const c=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]];let p=!0;for(let y=0;y<o.planes.length;y++){const x=o.planes[y];let E=0;for(let P=0;P<c.length;P++)u.dot(x,c[P])>=0&&E++;if(E===0)return 0;E!==c.length&&(p=!1)}if(p)return 2;for(let y=0;y<3;y++){let x=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let P=0;P<o.points.length;P++){const I=o.points[P][y]-this.min[y];x=Math.min(x,I),E=Math.max(E,I)}if(E<0||x>this.max[y]-this.min[y])return 0}return 1}}class vs{constructor(o=0,c=0,p=0,y=0){if(isNaN(o)||o<0||isNaN(c)||c<0||isNaN(p)||p<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=o,this.bottom=c,this.left=p,this.right=y}interpolate(o,c,p){return c.top!=null&&o.top!=null&&(this.top=u.number(o.top,c.top,p)),c.bottom!=null&&o.bottom!=null&&(this.bottom=u.number(o.bottom,c.bottom,p)),c.left!=null&&o.left!=null&&(this.left=u.number(o.left,c.left,p)),c.right!=null&&o.right!=null&&(this.right=u.number(o.right,c.right,p)),this}getCenter(o,c){const p=u.clamp((this.left+o-this.right)/2,0,o),y=u.clamp((this.top+c-this.bottom)/2,0,c);return new u.pointGeometry(p,y)}equals(o){return this.top===o.top&&this.bottom===o.bottom&&this.left===o.left&&this.right===o.right}clone(){return new vs(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class _l{constructor(o,c,p,y,x){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=x===void 0||!!x,this._minZoom=o||0,this._maxZoom=c||22,this._minPitch=p==null?0:p,this._maxPitch=y==null?60:y,this.setMaxBounds(),this.width=0,this.height=0,this._center=new u.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new vs,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const o=new _l(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return o.tileSize=this.tileSize,o.latRange=this.latRange,o.width=this.width,o.height=this.height,o._center=this._center,o.zoom=this.zoom,o.angle=this.angle,o._fov=this._fov,o._pitch=this._pitch,o._unmodified=this._unmodified,o._edgeInsets=this._edgeInsets.clone(),o._calcMatrices(),o}get minZoom(){return this._minZoom}set minZoom(o){this._minZoom!==o&&(this._minZoom=o,this.zoom=Math.max(this.zoom,o))}get maxZoom(){return this._maxZoom}set maxZoom(o){this._maxZoom!==o&&(this._maxZoom=o,this.zoom=Math.min(this.zoom,o))}get minPitch(){return this._minPitch}set minPitch(o){this._minPitch!==o&&(this._minPitch=o,this.pitch=Math.max(this.pitch,o))}get maxPitch(){return this._maxPitch}set maxPitch(o){this._maxPitch!==o&&(this._maxPitch=o,this.pitch=Math.min(this.pitch,o))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(o){o===void 0?o=!0:o===null&&(o=!1),this._renderWorldCopies=o}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new u.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(o){const c=-u.wrap(o,-180,180)*Math.PI/180;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=function(){var p=new u.ARRAY_TYPE(4);return u.ARRAY_TYPE!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}(),function(p,y,x){var E=y[0],P=y[1],I=y[2],D=y[3],F=Math.sin(x),U=Math.cos(x);p[0]=E*U+I*F,p[1]=P*U+D*F,p[2]=E*-F+I*U,p[3]=P*-F+D*U}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(o){const c=u.clamp(o,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(o){o=Math.max(.01,Math.min(60,o)),this._fov!==o&&(this._unmodified=!1,this._fov=o/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(o){const c=Math.min(Math.max(o,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(o){o.lat===this._center.lat&&o.lng===this._center.lng||(this._unmodified=!1,this._center=o,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(o){this._edgeInsets.equals(o)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,o,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(o){return this._edgeInsets.equals(o)}interpolatePadding(o,c,p){this._unmodified=!1,this._edgeInsets.interpolate(o,c,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(o){const c=(o.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/o.tileSize));return Math.max(0,c)}getVisibleUnwrappedCoordinates(o){const c=[new u.UnwrappedTileID(0,o)];if(this._renderWorldCopies){const p=this.pointCoordinate(new u.pointGeometry(0,0)),y=this.pointCoordinate(new u.pointGeometry(this.width,0)),x=this.pointCoordinate(new u.pointGeometry(this.width,this.height)),E=this.pointCoordinate(new u.pointGeometry(0,this.height)),P=Math.floor(Math.min(p.x,y.x,x.x,E.x)),I=Math.floor(Math.max(p.x,y.x,x.x,E.x)),D=1;for(let F=P-D;F<=I+D;F++)F!==0&&c.push(new u.UnwrappedTileID(F,o))}return c}coveringTiles(o){let c=this.coveringZoomLevel(o);const p=c;if(o.minzoom!==void 0&&c<o.minzoom)return[];o.maxzoom!==void 0&&c>o.maxzoom&&(c=o.maxzoom);const y=u.MercatorCoordinate.fromLngLat(this.center),x=Math.pow(2,c),E=[x*y.x,x*y.y,0],P=Au.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,c);let I=o.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(I=c);const D=K=>({aabb:new Mu([K*x,0,0],[(K+1)*x,x,0]),zoom:0,x:0,y:0,wrap:K,fullyVisible:!1}),F=[],U=[],X=c,ne=o.reparseOverscaled?p:c;if(this._renderWorldCopies)for(let K=1;K<=3;K++)F.push(D(-K)),F.push(D(K));for(F.push(D(0));F.length>0;){const K=F.pop(),te=K.x,fe=K.y;let pe=K.fullyVisible;if(!pe){const Ce=K.aabb.intersects(P);if(Ce===0)continue;pe=Ce===2}const _e=K.aabb.distanceX(E),ge=K.aabb.distanceY(E),Me=Math.max(Math.abs(_e),Math.abs(ge)),Ee=3+(1<<X-K.zoom)-2;if(K.zoom===X||Me>Ee&&K.zoom>=I)U.push({tileID:new u.OverscaledTileID(K.zoom===X?ne:K.zoom,K.wrap,K.zoom,te,fe),distanceSq:B([E[0]-.5-te,E[1]-.5-fe])});else for(let Ce=0;Ce<4;Ce++){const Fe=(te<<1)+Ce%2,Ge=(fe<<1)+(Ce>>1);F.push({aabb:K.aabb.quadrant(Ce),zoom:K.zoom+1,x:Fe,y:Ge,wrap:K.wrap,fullyVisible:pe})}}return U.sort((K,te)=>K.distanceSq-te.distanceSq).map(K=>K.tileID)}resize(o,c){this.width=o,this.height=c,this.pixelsToGLUnits=[2/o,-2/c],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(o){return Math.pow(2,o)}scaleZoom(o){return Math.log(o)/Math.LN2}project(o){const c=u.clamp(o.lat,-this.maxValidLatitude,this.maxValidLatitude);return new u.pointGeometry(u.mercatorXfromLng(o.lng)*this.worldSize,u.mercatorYfromLat(c)*this.worldSize)}unproject(o){return new u.MercatorCoordinate(o.x/this.worldSize,o.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(o,c){const p=this.pointCoordinate(c),y=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(o),E=new u.MercatorCoordinate(x.x-(p.x-y.x),x.y-(p.y-y.y));this.center=this.coordinateLocation(E),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(o){return this.coordinatePoint(this.locationCoordinate(o))}pointLocation(o){return this.coordinateLocation(this.pointCoordinate(o))}locationCoordinate(o){return u.MercatorCoordinate.fromLngLat(o)}coordinateLocation(o){return o.toLngLat()}pointCoordinate(o){const c=[o.x,o.y,0,1],p=[o.x,o.y,1,1];u.transformMat4(c,c,this.pixelMatrixInverse),u.transformMat4(p,p,this.pixelMatrixInverse);const y=c[3],x=p[3],E=c[1]/y,P=p[1]/x,I=c[2]/y,D=p[2]/x,F=I===D?0:(0-I)/(D-I);return new u.MercatorCoordinate(u.number(c[0]/y,p[0]/x,F)/this.worldSize,u.number(E,P,F)/this.worldSize)}coordinatePoint(o){const c=[o.x*this.worldSize,o.y*this.worldSize,0,1];return u.transformMat4(c,c,this.pixelMatrix),new u.pointGeometry(c[0]/c[3],c[1]/c[3])}getBounds(){return new u.LngLatBounds().extend(this.pointLocation(new u.pointGeometry(0,0))).extend(this.pointLocation(new u.pointGeometry(this.width,0))).extend(this.pointLocation(new u.pointGeometry(this.width,this.height))).extend(this.pointLocation(new u.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new u.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(o){o?(this.lngRange=[o.getWest(),o.getEast()],this.latRange=[o.getSouth(),o.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(o,c=!1){const p=o.key,y=c?this._alignedPosMatrixCache:this._posMatrixCache;if(y[p])return y[p];const x=o.canonical,E=this.worldSize/this.zoomScale(x.z),P=x.x+Math.pow(2,x.z)*o.wrap,I=u.identity(new Float64Array(16));return u.translate(I,I,[P*E,x.y*E,0]),u.scale(I,I,[E/u.EXTENT,E/u.EXTENT,1]),u.multiply(I,c?this.alignedProjMatrix:this.projMatrix,I),y[p]=new Float32Array(I),y[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let o,c,p,y,x=-90,E=90,P=-180,I=180;const D=this.size,F=this._unmodified;if(this.latRange){const ne=this.latRange;x=u.mercatorYfromLat(ne[1])*this.worldSize,E=u.mercatorYfromLat(ne[0])*this.worldSize,o=E-x<D.y?D.y/(E-x):0}if(this.lngRange){const ne=this.lngRange;P=u.mercatorXfromLng(ne[0])*this.worldSize,I=u.mercatorXfromLng(ne[1])*this.worldSize,c=I-P<D.x?D.x/(I-P):0}const U=this.point,X=Math.max(c||0,o||0);if(X)return this.center=this.unproject(new u.pointGeometry(c?(I+P)/2:U.x,o?(E+x)/2:U.y)),this.zoom+=this.scaleZoom(X),this._unmodified=F,void(this._constraining=!1);if(this.latRange){const ne=U.y,K=D.y/2;ne-K<x&&(y=x+K),ne+K>E&&(y=E-K)}if(this.lngRange){const ne=U.x,K=D.x/2;ne-K<P&&(p=P+K),ne+K>I&&(p=I-K)}p===void 0&&y===void 0||(this.center=this.unproject(new u.pointGeometry(p!==void 0?p:U.x,y!==void 0?y:U.y))),this._unmodified=F,this._constraining=!1}_calcMatrices(){if(!this.height)return;const o=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const c=Math.PI/2+this._pitch,p=this._fov*(.5+o.y/this.height),y=Math.sin(p)*this.cameraToCenterDistance/Math.sin(u.clamp(Math.PI-c-p,.01,Math.PI-.01)),x=this.point,E=x.x,P=x.y,I=1.01*(Math.cos(Math.PI/2-this._pitch)*y+this.cameraToCenterDistance),D=this.height/50;let F=new Float64Array(16);u.perspective(F,this._fov,this.width/this.height,D,I),F[8]=2*-o.x/this.width,F[9]=2*o.y/this.height,u.scale(F,F,[1,-1,1]),u.translate(F,F,[0,0,-this.cameraToCenterDistance]),u.rotateX(F,F,this._pitch),u.rotateZ(F,F,this.angle),u.translate(F,F,[-E,-P,0]),this.mercatorMatrix=u.scale([],F,[this.worldSize,this.worldSize,this.worldSize]),u.scale(F,F,[1,1,u.mercatorZfromAltitude(1,this.center.lat)*this.worldSize]),this.projMatrix=F,this.invProjMatrix=u.invert([],this.projMatrix);const U=this.width%2/2,X=this.height%2/2,ne=Math.cos(this.angle),K=Math.sin(this.angle),te=E-Math.round(E)+ne*U+K*X,fe=P-Math.round(P)+ne*X+K*U,pe=new Float64Array(F);if(u.translate(pe,pe,[te>.5?te-1:te,fe>.5?fe-1:fe,0]),this.alignedProjMatrix=pe,F=u.create(),u.scale(F,F,[this.width/2,-this.height/2,1]),u.translate(F,F,[1,-1,0]),this.labelPlaneMatrix=F,F=u.create(),u.scale(F,F,[1,-1,1]),u.translate(F,F,[-1,-1,0]),u.scale(F,F,[2/this.width,2/this.height,1]),this.glCoordMatrix=F,this.pixelMatrix=u.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),F=u.invert(new Float64Array(16),this.pixelMatrix),!F)throw new Error("failed to invert matrix");this.pixelMatrixInverse=F,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const o=this.pointCoordinate(new u.pointGeometry(0,0)),c=[o.x*this.worldSize,o.y*this.worldSize,0,1];return u.transformMat4(c,c,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const o=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.pointGeometry(0,o))}getCameraQueryGeometry(o){const c=this.getCameraPoint();if(o.length===1)return[o[0],c];{let p=c.x,y=c.y,x=c.x,E=c.y;for(const P of o)p=Math.min(p,P.x),y=Math.min(y,P.y),x=Math.max(x,P.x),E=Math.max(E,P.y);return[new u.pointGeometry(p,y),new u.pointGeometry(x,y),new u.pointGeometry(x,E),new u.pointGeometry(p,E),new u.pointGeometry(p,y)]}}}class ap{constructor(o){this._hashName=o&&encodeURIComponent(o),u.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(c,p){let y=!1,x=null;const E=()=>{x=null,y&&(c(),x=setTimeout(E,300),y=!1)};return()=>(y=!0,x||E(),x)}(this._updateHashUnthrottled.bind(this))}addTo(o){return this._map=o,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(o){const c=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,y=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,y),E=Math.round(c.lng*x)/x,P=Math.round(c.lat*x)/x,I=this._map.getBearing(),D=this._map.getPitch();let F="";if(F+=o?`/${E}/${P}/${p}`:`${p}/${P}/${E}`,(I||D)&&(F+="/"+Math.round(10*I)/10),D&&(F+=`/${Math.round(D)}`),this._hashName){const U=this._hashName;let X=!1;const ne=window.location.hash.slice(1).split("&").map(K=>{const te=K.split("=")[0];return te===U?(X=!0,`${te}=${F}`):K}).filter(K=>K);return X||ne.push(`${U}=${F}`),`#${ne.join("&")}`}return`#${F}`}_getCurrentHash(){const o=window.location.hash.replace("#","");if(this._hashName){let c;return o.split("&").map(p=>p.split("=")).forEach(p=>{p[0]===this._hashName&&(c=p)}),(c&&c[1]||"").split("/")}return o.split("/")}_onHashChange(){const o=this._getCurrentHash();if(o.length>=3&&!o.some(c=>isNaN(c))){const c=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(o[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+o[2],+o[1]],zoom:+o[0],bearing:c,pitch:+(o[4]||0)}),!0}return!1}_updateHashUnthrottled(){const o=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,o)}catch{}}}const vl={linearity:.3,easing:u.bezier(0,0,.3,1)},sp=u.extend({deceleration:2500,maxSpeed:1400},vl),lp=u.extend({deceleration:20,maxSpeed:1400},vl),up=u.extend({deceleration:1e3,maxSpeed:360},vl),xs=u.extend({deceleration:1e3,maxSpeed:90},vl);class cp{constructor(o){this._map=o,this.clear()}clear(){this._inertiaBuffer=[]}record(o){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.exported.now(),settings:o})}_drainInertiaBuffer(){const o=this._inertiaBuffer,c=u.exported.now();for(;o.length>0&&c-o[0].time>160;)o.shift()}_onMoveEnd(o){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const c={zoom:0,bearing:0,pitch:0,pan:new u.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)c.zoom+=x.zoomDelta||0,c.bearing+=x.bearingDelta||0,c.pitch+=x.pitchDelta||0,x.panDelta&&c.pan._add(x.panDelta),x.around&&(c.around=x.around),x.pinchAround&&(c.pinchAround=x.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,y={};if(c.pan.mag()){const x=wl(c.pan.mag(),p,u.extend({},sp,o||{}));y.offset=c.pan.mult(x.amount/c.pan.mag()),y.center=this._map.transform.center,xl(y,x)}if(c.zoom){const x=wl(c.zoom,p,lp);y.zoom=this._map.transform.zoom+x.amount,xl(y,x)}if(c.bearing){const x=wl(c.bearing,p,up);y.bearing=this._map.transform.bearing+u.clamp(x.amount,-179,179),xl(y,x)}if(c.pitch){const x=wl(c.pitch,p,xs);y.pitch=this._map.transform.pitch+x.amount,xl(y,x)}if(y.zoom||y.bearing){const x=c.pinchAround===void 0?c.around:c.pinchAround;y.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),u.extend(y,{noMoveStart:!0})}}function xl(g,o){(!g.duration||g.duration<o.duration)&&(g.duration=o.duration,g.easing=o.easing)}function wl(g,o,c){const{maxSpeed:p,linearity:y,deceleration:x}=c,E=u.clamp(g*y/(o/1e3),-p,p),P=Math.abs(E)/(x*y);return{easing:c.easing,duration:1e3*P,amount:E*(P/2)}}class yi extends u.Event{constructor(o,c,p,y={}){const x=T.mousePos(c.getCanvasContainer(),p),E=c.unproject(x);super(o,u.extend({point:x,lngLat:E,originalEvent:p},y)),this._defaultPrevented=!1,this.target=c}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class ni extends u.Event{constructor(o,c,p){const y=o==="touchend"?p.changedTouches:p.touches,x=T.touchPos(c.getCanvasContainer(),y),E=x.map(I=>c.unproject(I)),P=x.reduce((I,D,F,U)=>I.add(D.div(U.length)),new u.pointGeometry(0,0));super(o,{points:x,point:P,lngLats:E,lngLat:c.unproject(P),originalEvent:p}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class g0 extends u.Event{constructor(o,c,p){super(o,{originalEvent:p}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Ia{constructor(o,c){this._map=o,this._clickTolerance=c.clickTolerance}reset(){delete this._mousedownPos}wheel(o){return this._firePreventable(new g0(o.type,this._map,o))}mousedown(o,c){return this._mousedownPos=c,this._firePreventable(new yi(o.type,this._map,o))}mouseup(o){this._map.fire(new yi(o.type,this._map,o))}click(o,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new yi(o.type,this._map,o))}dblclick(o){return this._firePreventable(new yi(o.type,this._map,o))}mouseover(o){this._map.fire(new yi(o.type,this._map,o))}mouseout(o){this._map.fire(new yi(o.type,this._map,o))}touchstart(o){return this._firePreventable(new ni(o.type,this._map,o))}touchmove(o){this._map.fire(new ni(o.type,this._map,o))}touchend(o){this._map.fire(new ni(o.type,this._map,o))}touchcancel(o){this._map.fire(new ni(o.type,this._map,o))}_firePreventable(o){if(this._map.fire(o),o.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hp{constructor(o){this._map=o}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(o){this._map.fire(new yi(o.type,this._map,o))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new yi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(o){this._delayContextMenu?this._contextMenuEvent=o:this._map.fire(new yi(o.type,this._map,o)),this._map.listens("contextmenu")&&o.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ws{constructor(o,c){this._map=o,this._el=o.getCanvasContainer(),this._container=o.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(o,c){this.isEnabled()&&o.shiftKey&&o.button===0&&(T.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(o,c){if(!this._active)return;const p=c;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const y=this._startPos;this._lastPos=p,this._box||(this._box=T.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",o));const x=Math.min(y.x,p.x),E=Math.max(y.x,p.x),P=Math.min(y.y,p.y),I=Math.max(y.y,p.y);T.setTransform(this._box,`translate(${x}px,${P}px)`),this._box.style.width=E-x+"px",this._box.style.height=I-P+"px"}mouseupWindow(o,c){if(!this._active||o.button!==0)return;const p=this._startPos,y=c;if(this.reset(),T.suppressClick(),p.x!==y.x||p.y!==y.y)return this._map.fire(new u.Event("boxzoomend",{originalEvent:o})),{cameraAnimation:x=>x.fitScreenCoordinates(p,y,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",o)}keydown(o){this._active&&o.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",o))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(o,c){return this._map.fire(new u.Event(o,{originalEvent:c}))}}function Aa(g,o){const c={};for(let p=0;p<g.length;p++)c[g[p].identifier]=o[p];return c}class y0{constructor(o){this.reset(),this.numTouches=o.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(o,c,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=o.timeStamp),p.length===this.numTouches&&(this.centroid=function(y){const x=new u.pointGeometry(0,0);for(const E of y)x._add(E);return x.div(y.length)}(c),this.touches=Aa(p,c)))}touchmove(o,c,p){if(this.aborted||!this.centroid)return;const y=Aa(p,c);for(const x in this.touches){const E=this.touches[x],P=y[x];(!P||P.dist(E)>30)&&(this.aborted=!0)}}touchend(o,c,p){if((!this.centroid||o.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const y=!this.aborted&&this.centroid;if(this.reset(),y)return y}}}class Oh{constructor(o){this.singleTap=new y0(o),this.numTaps=o.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(o,c,p){this.singleTap.touchstart(o,c,p)}touchmove(o,c,p){this.singleTap.touchmove(o,c,p)}touchend(o,c,p){const y=this.singleTap.touchend(o,c,p);if(y){const x=o.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(y)<30;if(x&&E||this.reset(),this.count++,this.lastTime=o.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}}}class _0{constructor(){this._zoomIn=new Oh({numTouches:1,numTaps:2}),this._zoomOut=new Oh({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(o,c,p){this._zoomIn.touchstart(o,c,p),this._zoomOut.touchstart(o,c,p)}touchmove(o,c,p){this._zoomIn.touchmove(o,c,p),this._zoomOut.touchmove(o,c,p)}touchend(o,c,p){const y=this._zoomIn.touchend(o,c,p),x=this._zoomOut.touchend(o,c,p);return y?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(y)},{originalEvent:o})}):x?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(x)},{originalEvent:o})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const dp={0:1,2:2};class Ma{constructor(o){this.reset(),this._clickTolerance=o.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(o,c){return!1}_move(o,c){return{}}mousedown(o,c){if(this._lastPoint)return;const p=T.mouseButton(o);this._correctButton(o,p)&&(this._lastPoint=c,this._eventButton=p)}mousemoveWindow(o,c){const p=this._lastPoint;if(p){if(o.preventDefault(),function(y,x){const E=dp[x];return y.buttons===void 0||(y.buttons&E)!==E}(o,this._eventButton))this.reset();else if(this._moved||!(c.dist(p)<this._clickTolerance))return this._moved=!0,this._lastPoint=c,this._move(p,c)}}mouseupWindow(o){this._lastPoint&&T.mouseButton(o)===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bs extends Ma{mousedown(o,c){super.mousedown(o,c),this._lastPoint&&(this._active=!0)}_correctButton(o,c){return c===0&&!o.ctrlKey}_move(o,c){return{around:c,panDelta:c.sub(o)}}}class it extends Ma{_correctButton(o,c){return c===0&&o.ctrlKey||c===2}_move(o,c){const p=.8*(c.x-o.x);if(p)return this._active=!0,{bearingDelta:p}}contextmenu(o){o.preventDefault()}}class Fh extends Ma{_correctButton(o,c){return c===0&&o.ctrlKey||c===2}_move(o,c){const p=-.5*(c.y-o.y);if(p)return this._active=!0,{pitchDelta:p}}contextmenu(o){o.preventDefault()}}class bl{constructor(o){this._minTouches=1,this._clickTolerance=o.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new u.pointGeometry(0,0)}touchstart(o,c,p){return this._calculateTransform(o,c,p)}touchmove(o,c,p){if(this._active&&!(p.length<this._minTouches))return o.preventDefault(),this._calculateTransform(o,c,p)}touchend(o,c,p){this._calculateTransform(o,c,p),this._active&&p.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(o,c,p){p.length>0&&(this._active=!0);const y=Aa(p,c),x=new u.pointGeometry(0,0),E=new u.pointGeometry(0,0);let P=0;for(const D in y){const F=y[D],U=this._touches[D];U&&(x._add(F),E._add(F.sub(U)),P++,y[D]=F)}if(this._touches=y,P<this._minTouches||!E.mag())return;const I=E.div(P);return this._sum._add(I),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(P),panDelta:I}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class za{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(o){}_move(o,c,p){return{}}touchstart(o,c,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([c[0],c[1]]))}touchmove(o,c,p){if(!this._firstTwoTouches)return;o.preventDefault();const[y,x]=this._firstTwoTouches,E=Sl(p,c,y),P=Sl(p,c,x);if(!E||!P)return;const I=this._aroundCenter?null:E.add(P).div(2);return this._move([E,P],I,o)}touchend(o,c,p){if(!this._firstTwoTouches)return;const[y,x]=this._firstTwoTouches,E=Sl(p,c,y),P=Sl(p,c,x);E&&P||(this._active&&T.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(o){this._enabled=!0,this._aroundCenter=!!o&&o.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Sl(g,o,c){for(let p=0;p<g.length;p++)if(g[p].identifier===c)return o[p]}function Ze(g,o){return Math.log(g/o)/Math.LN2}class $h extends za{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(o){this._startDistance=this._distance=o[0].dist(o[1])}_move(o,c){const p=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(Ze(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ze(this._distance,p),pinchAround:c}}}function fp(g,o){return 180*g.angleWith(o)/Math.PI}class v0 extends za{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])}_move(o,c){const p=this._vector;if(this._vector=o[0].sub(o[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:fp(this._vector,p),pinchAround:c}}_isBelowThreshold(o){this._minDiameter=Math.min(this._minDiameter,o.mag());const c=25/(Math.PI*this._minDiameter)*360,p=fp(o,this._startVector);return Math.abs(p)<c}}function El(g){return Math.abs(g.y)>Math.abs(g.x)}class pp extends za{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(o){this._lastPoints=o,El(o[0].sub(o[1]))&&(this._valid=!1)}_move(o,c,p){const y=o[0].sub(this._lastPoints[0]),x=o[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(y,x,p.timeStamp),this._valid)return this._lastPoints=o,this._active=!0,{pitchDelta:(y.y+x.y)/2*-.5}}gestureBeginsVertically(o,c,p){if(this._valid!==void 0)return this._valid;const y=o.mag()>=2,x=c.mag()>=2;if(!y&&!x)return;if(!y||!x)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const E=o.y>0==c.y>0;return El(o)&&El(c)&&E}}const mp={panStep:100,bearingStep:15,pitchStep:10};class x0{constructor(){const o=mp;this._panStep=o.panStep,this._bearingStep=o.bearingStep,this._pitchStep=o.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(o){if(o.altKey||o.ctrlKey||o.metaKey)return;let c=0,p=0,y=0,x=0,E=0;switch(o.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:o.shiftKey?p=-1:(o.preventDefault(),x=-1);break;case 39:o.shiftKey?p=1:(o.preventDefault(),x=1);break;case 38:o.shiftKey?y=1:(o.preventDefault(),E=-1);break;case 40:o.shiftKey?y=-1:(o.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(p=0,y=0),{cameraAnimation:P=>{const I=P.getZoom();P.easeTo({duration:300,easeId:"keyboardHandler",easing:w0,zoom:c?Math.round(I)+c*(o.shiftKey?2:1):I,bearing:P.getBearing()+p*this._bearingStep,pitch:P.getPitch()+y*this._pitchStep,offset:[-x*this._panStep,-E*this._panStep],center:P.getCenter()},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function w0(g){return g*(2-g)}const zu=4.000244140625;class Bh{constructor(o,c){this._map=o,this._el=o.getCanvasContainer(),this._handler=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,u.bindAll(["_onTimeout"],this)}setZoomRate(o){this._defaultZoomRate=o}setWheelZoomRate(o){this._wheelZoomRate=o}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(o){this.isEnabled()||(this._enabled=!0,this._aroundCenter=o&&o.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(o){if(!this.isEnabled())return;let c=o.deltaMode===WheelEvent.DOM_DELTA_LINE?40*o.deltaY:o.deltaY;const p=u.exported.now(),y=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,c!==0&&c%zu==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,o)):this._type||(this._type=Math.abs(y*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),o.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=o,this._delta-=c,this._active||this._start(o)),o.preventDefault()}_onTimeout(o){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(o)}_start(o){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=T.mousePos(this._el,o);this._around=u.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(c)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const o=this._map.transform;if(this._delta!==0){const P=this._type==="wheel"&&Math.abs(this._delta)>zu?this._wheelZoomRate:this._defaultZoomRate;let I=2/(1+Math.exp(-Math.abs(this._delta*P)));this._delta<0&&I!==0&&(I=1/I);const D=typeof this._targetZoom=="number"?o.zoomScale(this._targetZoom):o.scale;this._targetZoom=Math.min(o.maxZoom,Math.max(o.minZoom,o.scaleZoom(D*I))),this._type==="wheel"&&(this._startZoom=o.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const c=typeof this._targetZoom=="number"?this._targetZoom:o.zoom,p=this._startZoom,y=this._easing;let x,E=!1;if(this._type==="wheel"&&p&&y){const P=Math.min((u.exported.now()-this._lastWheelEventTime)/200,1),I=y(P);x=u.number(p,c,I),P<1?this._frameId||(this._frameId=!0):E=!0}else x=c,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:x-o.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(o){let c=u.ease;if(this._prevEase){const p=this._prevEase,y=(u.exported.now()-p.start)/p.duration,x=p.easing(y+.01)-p.easing(y),E=.27/Math.sqrt(x*x+1e-4)*.01,P=Math.sqrt(.0729-E*E);c=u.bezier(E,P,.25,1)}return this._prevEase={start:u.exported.now(),duration:o,easing:c},c}reset(){this._active=!1}}class Vh{constructor(o,c){this._clickZoom=o,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Nh{constructor(){this.reset()}reset(){this._active=!1}dblclick(o,c){return o.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:p.getZoom()+(o.shiftKey?-1:1),around:p.unproject(c)},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ri{constructor(){this._tap=new Oh({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(o,c,p){this._swipePoint||(this._tapTime&&o.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?p.length>0&&(this._swipePoint=c[0],this._swipeTouch=p[0].identifier):this._tap.touchstart(o,c,p))}touchmove(o,c,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const y=c[0],x=y.y-this._swipePoint.y;return this._swipePoint=y,o.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(o,c,p)}touchend(o,c,p){this._tapTime?this._swipePoint&&p.length===0&&this.reset():this._tap.touchend(o,c,p)&&(this._tapTime=o.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sa{constructor(o,c,p){this._el=o,this._mousePan=c,this._touchPan=p}enable(o){this._inertiaOptions=o||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class gp{constructor(o,c,p){this._pitchWithRotate=o.pitchWithRotate,this._mouseRotate=c,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class jh{constructor(o,c,p,y){this._el=o,this._touchZoom=c,this._touchRotate=p,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0}enable(o){this._touchZoom.enable(o),this._rotationDisabled||this._touchRotate.enable(o),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ss=g=>g.zoom||g.drag||g.pitch||g.rotate;class Uh extends u.Event{}function Du(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class $i{constructor(o,c){this._map=o,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new cp(o),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(c),u.bindAll(["handleEvent","handleWindowEvent"],this);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[y,x,E]of this._listeners)T.addEventListener(y,x,y===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[o,c,p]of this._listeners)T.removeEventListener(o,c,o===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(o){const c=this._map,p=c.getCanvasContainer();this._add("mapEvent",new Ia(c,o));const y=c.boxZoom=new ws(c,o);this._add("boxZoom",y);const x=new _0,E=new Nh;c.doubleClickZoom=new Vh(E,x),this._add("tapZoom",x),this._add("clickZoom",E);const P=new ri;this._add("tapDragZoom",P);const I=c.touchPitch=new pp;this._add("touchPitch",I);const D=new it(o),F=new Fh(o);c.dragRotate=new gp(o,D,F),this._add("mouseRotate",D,["mousePitch"]),this._add("mousePitch",F,["mouseRotate"]);const U=new bs(o),X=new bl(o);c.dragPan=new sa(p,U,X),this._add("mousePan",U),this._add("touchPan",X,["touchZoom","touchRotate"]);const ne=new v0,K=new $h;c.touchZoomRotate=new jh(p,K,ne,P),this._add("touchRotate",ne,["touchPan","touchZoom"]),this._add("touchZoom",K,["touchPan","touchRotate"]);const te=c.scrollZoom=new Bh(c,this);this._add("scrollZoom",te,["mousePan"]);const fe=c.keyboard=new x0;this._add("keyboard",fe),this._add("blockableMapEvent",new hp(c));for(const pe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])o.interactive&&o[pe]&&c[pe].enable(o[pe])}_add(o,c,p){this._handlers.push({handlerName:o,handler:c,allowed:p}),this._handlersById[o]=c}stop(o){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},o),this._changes=[]}}isActive(){for(const{handler:o}of this._handlers)if(o.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Ss(this._eventsInProgress))||this.isZooming()}_blockedByActive(o,c,p){for(const y in o)if(y!==p&&(!c||c.indexOf(y)<0))return!0;return!1}handleWindowEvent(o){this.handleEvent(o,`${o.type}Window`)}_getMapTouches(o){const c=[];for(const p of o)this._el.contains(p.target)&&c.push(p);return c}handleEvent(o,c){if(o.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const p=o.type==="renderFrame"?void 0:o,y={needsRenderFrame:!1},x={},E={},P=o.touches,I=P?this._getMapTouches(P):void 0,D=I?T.touchPos(this._el,I):T.mousePos(this._el,o);for(const{handlerName:X,handler:ne,allowed:K}of this._handlers){if(!ne.isEnabled())continue;let te;this._blockedByActive(E,K,X)?ne.reset():ne[c||o.type]&&(te=ne[c||o.type](o,D,I),this.mergeHandlerResult(y,x,te,X,p),te&&te.needsRenderFrame&&this._triggerRenderFrame()),(te||ne.isActive())&&(E[X]=ne)}const F={};for(const X in this._previousActiveHandlers)E[X]||(F[X]=p);this._previousActiveHandlers=E,(Object.keys(F).length||Du(y))&&(this._changes.push([y,x,F]),this._triggerRenderFrame()),(Object.keys(E).length||Du(y))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:U}=y;U&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],U(this._map))}mergeHandlerResult(o,c,p,y,x){if(!p)return;u.extend(o,p);const E={handlerName:y,originalEvent:p.originalEvent||x};p.zoomDelta!==void 0&&(c.zoom=E),p.panDelta!==void 0&&(c.drag=E),p.pitchDelta!==void 0&&(c.pitch=E),p.bearingDelta!==void 0&&(c.rotate=E)}_applyChanges(){const o={},c={},p={};for(const[y,x,E]of this._changes)y.panDelta&&(o.panDelta=(o.panDelta||new u.pointGeometry(0,0))._add(y.panDelta)),y.zoomDelta&&(o.zoomDelta=(o.zoomDelta||0)+y.zoomDelta),y.bearingDelta&&(o.bearingDelta=(o.bearingDelta||0)+y.bearingDelta),y.pitchDelta&&(o.pitchDelta=(o.pitchDelta||0)+y.pitchDelta),y.around!==void 0&&(o.around=y.around),y.pinchAround!==void 0&&(o.pinchAround=y.pinchAround),y.noInertia&&(o.noInertia=y.noInertia),u.extend(c,x),u.extend(p,E);this._updateMapTransform(o,c,p),this._changes=[]}_updateMapTransform(o,c,p){const y=this._map,x=y.transform;if(!Du(o))return this._fireEvents(c,p,!0);let{panDelta:E,zoomDelta:P,bearingDelta:I,pitchDelta:D,around:F,pinchAround:U}=o;U!==void 0&&(F=U),y._stop(!0),F=F||y.transform.centerPoint;const X=x.pointLocation(E?F.sub(E):F);I&&(x.bearing+=I),D&&(x.pitch+=D),P&&(x.zoom+=P),x.setLocationAtPoint(X,F),this._map._update(),o.noInertia||this._inertia.record(o),this._fireEvents(c,p,!0)}_fireEvents(o,c,p){const y=Ss(this._eventsInProgress),x=Ss(o),E={};for(const F in o){const{originalEvent:U}=o[F];this._eventsInProgress[F]||(E[`${F}start`]=U),this._eventsInProgress[F]=o[F]}!y&&x&&this._fireEvent("movestart",x.originalEvent);for(const F in E)this._fireEvent(F,E[F]);x&&this._fireEvent("move",x.originalEvent);for(const F in o){const{originalEvent:U}=o[F];this._fireEvent(F,U)}const P={};let I;for(const F in this._eventsInProgress){const{handlerName:U,originalEvent:X}=this._eventsInProgress[F];this._handlersById[U].isActive()||(delete this._eventsInProgress[F],I=c[U]||X,P[`${F}end`]=I)}for(const F in P)this._fireEvent(F,P[F]);const D=Ss(this._eventsInProgress);if(p&&(y||x)&&!D){this._updatingCamera=!0;const F=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),U=X=>X!==0&&-this._bearingSnap<X&&X<this._bearingSnap;F?(U(F.bearing||this._map.getBearing())&&(F.bearing=0),this._map.easeTo(F,{originalEvent:I})):(this._map.fire(new u.Event("moveend",{originalEvent:I})),U(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(o,c){this._map.fire(new u.Event(o,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(o=>{delete this._frameId,this.handleEvent(new Uh("renderFrame",{timeStamp:o})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const An={extend:(g,...o)=>u.extend(g,...o),run(g){g()},logToElement(g,o=!1,c="log"){const p=window.document.getElementById(c);p&&(o&&(p.innerHTML=""),p.innerHTML+=`<br>${g}`)}};class Ru extends u.Evented{constructor(o,c){super(),this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=c.bearingSnap,u.bindAll(["_renderFrameCallback"],this)}getCenter(){return new u.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(o,c){return this.jumpTo({center:o},c)}panBy(o,c,p){return o=u.pointGeometry.convert(o).mult(-1),this.panTo(this.transform.center,u.extend({offset:o},c),p)}panTo(o,c,p){return this.easeTo(u.extend({center:o},c),p)}getZoom(){return this.transform.zoom}setZoom(o,c){return this.jumpTo({zoom:o},c),this}zoomTo(o,c,p){return this.easeTo(u.extend({zoom:o},c),p)}zoomIn(o,c){return this.zoomTo(this.getZoom()+1,o,c),this}zoomOut(o,c){return this.zoomTo(this.getZoom()-1,o,c),this}getBearing(){return this.transform.bearing}setBearing(o,c){return this.jumpTo({bearing:o},c),this}getPadding(){return this.transform.padding}setPadding(o,c){return this.jumpTo({padding:o},c),this}rotateTo(o,c,p){return this.easeTo(u.extend({bearing:o},c),p)}resetNorth(o,c){return this.rotateTo(0,u.extend({duration:1e3},o),c),this}resetNorthPitch(o,c){return this.easeTo(u.extend({bearing:0,pitch:0,duration:1e3},o),c),this}snapToNorth(o,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,c):this}getPitch(){return this.transform.pitch}setPitch(o,c){return this.jumpTo({pitch:o},c),this}cameraForBounds(o,c){o=u.LngLatBounds.convert(o);const p=c&&c.bearing||0;return this._cameraForBoxAndBearing(o.getNorthWest(),o.getSouthEast(),p,c)}_cameraForBoxAndBearing(o,c,p,y){const x={top:0,bottom:0,right:0,left:0};if(typeof(y=u.extend({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding=="number"){const Ee=y.padding;y.padding={top:Ee,bottom:Ee,right:Ee,left:Ee}}y.padding=u.extend(x,y.padding);const E=this.transform,P=E.padding,I=E.project(u.LngLat.convert(o)),D=E.project(u.LngLat.convert(c)),F=I.rotate(-p*Math.PI/180),U=D.rotate(-p*Math.PI/180),X=new u.pointGeometry(Math.max(F.x,U.x),Math.max(F.y,U.y)),ne=new u.pointGeometry(Math.min(F.x,U.x),Math.min(F.y,U.y)),K=X.sub(ne),te=(E.width-(P.left+P.right+y.padding.left+y.padding.right))/K.x,fe=(E.height-(P.top+P.bottom+y.padding.top+y.padding.bottom))/K.y;if(fe<0||te<0)return void u.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const pe=Math.min(E.scaleZoom(E.scale*Math.min(te,fe)),y.maxZoom),_e=u.pointGeometry.convert(y.offset),ge=new u.pointGeometry((y.padding.left-y.padding.right)/2,(y.padding.top-y.padding.bottom)/2).rotate(p*Math.PI/180),Me=_e.add(ge).mult(E.scale/E.zoomScale(pe));return{center:E.unproject(I.add(D).div(2).sub(Me)),zoom:pe,bearing:p}}fitBounds(o,c,p){return this._fitInternal(this.cameraForBounds(o,c),c,p)}fitScreenCoordinates(o,c,p,y,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(u.pointGeometry.convert(o)),this.transform.pointLocation(u.pointGeometry.convert(c)),p,y),y,x)}_fitInternal(o,c,p){return o?(delete(c=u.extend(o,c)).padding,c.linear?this.easeTo(c,p):this.flyTo(c,p)):this}jumpTo(o,c){this.stop();const p=this.transform;let y=!1,x=!1,E=!1;return"zoom"in o&&p.zoom!==+o.zoom&&(y=!0,p.zoom=+o.zoom),o.center!==void 0&&(p.center=u.LngLat.convert(o.center)),"bearing"in o&&p.bearing!==+o.bearing&&(x=!0,p.bearing=+o.bearing),"pitch"in o&&p.pitch!==+o.pitch&&(E=!0,p.pitch=+o.pitch),o.padding==null||p.isPaddingEqual(o.padding)||(p.padding=o.padding),this.fire(new u.Event("movestart",c)).fire(new u.Event("move",c)),y&&this.fire(new u.Event("zoomstart",c)).fire(new u.Event("zoom",c)).fire(new u.Event("zoomend",c)),x&&this.fire(new u.Event("rotatestart",c)).fire(new u.Event("rotate",c)).fire(new u.Event("rotateend",c)),E&&this.fire(new u.Event("pitchstart",c)).fire(new u.Event("pitch",c)).fire(new u.Event("pitchend",c)),this.fire(new u.Event("moveend",c))}easeTo(o,c){this._stop(!1,o.easeId),((o=u.extend({offset:[0,0],duration:500,easing:u.ease},o)).animate===!1||!o.essential&&u.exported.prefersReducedMotion)&&(o.duration=0);const p=this.transform,y=this.getZoom(),x=this.getBearing(),E=this.getPitch(),P=this.getPadding(),I="zoom"in o?+o.zoom:y,D="bearing"in o?this._normalizeBearing(o.bearing,x):x,F="pitch"in o?+o.pitch:E,U="padding"in o?o.padding:p.padding,X=u.pointGeometry.convert(o.offset);let ne=p.centerPoint.add(X);const K=p.pointLocation(ne),te=u.LngLat.convert(o.center||K);this._normalizeCenter(te);const fe=p.project(K),pe=p.project(te).sub(fe),_e=p.zoomScale(I-y);let ge,Me;o.around&&(ge=u.LngLat.convert(o.around),Me=p.locationPoint(ge));const Ee={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||I!==y,this._rotating=this._rotating||x!==D,this._pitching=this._pitching||F!==E,this._padding=!p.isPaddingEqual(U),this._easeId=o.easeId,this._prepareEase(c,o.noMoveStart,Ee),this._ease(Ce=>{if(this._zooming&&(p.zoom=u.number(y,I,Ce)),this._rotating&&(p.bearing=u.number(x,D,Ce)),this._pitching&&(p.pitch=u.number(E,F,Ce)),this._padding&&(p.interpolatePadding(P,U,Ce),ne=p.centerPoint.add(X)),ge)p.setLocationAtPoint(ge,Me);else{const Fe=p.zoomScale(p.zoom-y),Ge=I>y?Math.min(2,_e):Math.max(.5,_e),Ae=Math.pow(Ge,1-Ce),st=p.unproject(fe.add(pe.mult(Ce*Ae)).mult(Fe));p.setLocationAtPoint(p.renderWorldCopies?st.wrap():st,ne)}this._fireMoveEvents(c)},Ce=>{this._afterEase(c,Ce)},o),this}_prepareEase(o,c,p={}){this._moving=!0,c||p.moving||this.fire(new u.Event("movestart",o)),this._zooming&&!p.zooming&&this.fire(new u.Event("zoomstart",o)),this._rotating&&!p.rotating&&this.fire(new u.Event("rotatestart",o)),this._pitching&&!p.pitching&&this.fire(new u.Event("pitchstart",o))}_fireMoveEvents(o){this.fire(new u.Event("move",o)),this._zooming&&this.fire(new u.Event("zoom",o)),this._rotating&&this.fire(new u.Event("rotate",o)),this._pitching&&this.fire(new u.Event("pitch",o))}_afterEase(o,c){if(this._easeId&&c&&this._easeId===c)return;delete this._easeId;const p=this._zooming,y=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new u.Event("zoomend",o)),y&&this.fire(new u.Event("rotateend",o)),x&&this.fire(new u.Event("pitchend",o)),this.fire(new u.Event("moveend",o))}flyTo(o,c){if(!o.essential&&u.exported.prefersReducedMotion){const Gt=u.pick(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Gt,c)}this.stop(),o=u.extend({offset:[0,0],speed:1.2,curve:1.42,easing:u.ease},o);const p=this.transform,y=this.getZoom(),x=this.getBearing(),E=this.getPitch(),P=this.getPadding(),I="zoom"in o?u.clamp(+o.zoom,p.minZoom,p.maxZoom):y,D="bearing"in o?this._normalizeBearing(o.bearing,x):x,F="pitch"in o?+o.pitch:E,U="padding"in o?o.padding:p.padding,X=p.zoomScale(I-y),ne=u.pointGeometry.convert(o.offset);let K=p.centerPoint.add(ne);const te=p.pointLocation(K),fe=u.LngLat.convert(o.center||te);this._normalizeCenter(fe);const pe=p.project(te),_e=p.project(fe).sub(pe);let ge=o.curve;const Me=Math.max(p.width,p.height),Ee=Me/X,Ce=_e.mag();if("minZoom"in o){const Gt=u.clamp(Math.min(o.minZoom,y,I),p.minZoom,p.maxZoom),Vn=Me/p.zoomScale(Gt-y);ge=Math.sqrt(Vn/Ce*2)}const Fe=ge*ge;function Ge(Gt){const Vn=(Ee*Ee-Me*Me+(Gt?-1:1)*Fe*Fe*Ce*Ce)/(2*(Gt?Ee:Me)*Fe*Ce);return Math.log(Math.sqrt(Vn*Vn+1)-Vn)}function Ae(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function st(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}const Xe=Ge(0);let Pt=function(Gt){return st(Xe)/st(Xe+ge*Gt)},Zt=function(Gt){return Me*((st(Xe)*(Ae(Vn=Xe+ge*Gt)/st(Vn))-Ae(Xe))/Fe)/Ce;var Vn},Vt=(Ge(1)-Xe)/ge;if(Math.abs(Ce)<1e-6||!isFinite(Vt)){if(Math.abs(Me-Ee)<1e-6)return this.easeTo(o,c);const Gt=Ee<Me?-1:1;Vt=Math.abs(Math.log(Ee/Me))/ge,Zt=function(){return 0},Pt=function(Vn){return Math.exp(Gt*ge*Vn)}}return o.duration="duration"in o?+o.duration:1e3*Vt/("screenSpeed"in o?+o.screenSpeed/ge:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0),this._zooming=!0,this._rotating=x!==D,this._pitching=F!==E,this._padding=!p.isPaddingEqual(U),this._prepareEase(c,!1),this._ease(Gt=>{const Vn=Gt*Vt,It=1/Pt(Vn);p.zoom=Gt===1?I:y+p.scaleZoom(It),this._rotating&&(p.bearing=u.number(x,D,Gt)),this._pitching&&(p.pitch=u.number(E,F,Gt)),this._padding&&(p.interpolatePadding(P,U,Gt),K=p.centerPoint.add(ne));const Yt=Gt===1?fe:p.unproject(pe.add(_e.mult(Zt(Vn))).mult(It));p.setLocationAtPoint(p.renderWorldCopies?Yt.wrap():Yt,K),this._fireMoveEvents(c)},()=>this._afterEase(c),o),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(o,c){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const p=this._onEaseEnd;delete this._onEaseEnd,p.call(this,c)}if(!o){const p=this.handlers;p&&p.stop(!1)}return this}_ease(o,c,p){p.animate===!1||p.duration===0?(o(1),c()):(this._easeStart=u.exported.now(),this._easeOptions=p,this._onEaseFrame=o,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const o=Math.min((u.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(o)),o<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(o,c){o=u.wrap(o,-180,180);const p=Math.abs(o-c);return Math.abs(o-360-c)<p&&(o-=360),Math.abs(o+360-c)<p&&(o+=360),o}_normalizeCenter(o){const c=this.transform;if(!c.renderWorldCopies||c.lngRange)return;const p=o.lng-c.center.lng;o.lng+=p>180?-360:p<-180?360:0}}class Lu{constructor(o={}){this.options=o,u.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(o){return this._map=o,this._compact=this.options&&this.options.compact,this._container=T.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=T.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=T.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(o,c){const p=this._map._getUIString(`AttributionControl.${c}`);o.title=p,o.setAttribute("aria-label",p)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(o){!o||o.sourceDataType!=="metadata"&&o.sourceDataType!=="visibility"&&o.dataType!=="style"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let o=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?o=o.concat(this.options.customAttribution.map(y=>typeof y!="string"?"":y)):typeof this.options.customAttribution=="string"&&o.push(this.options.customAttribution)),this._map.style.stylesheet){const y=this._map.style.stylesheet;this.styleOwner=y.owner,this.styleId=y.id}const c=this._map.style.sourceCaches;for(const y in c){const x=c[y];if(x.used){const E=x.getSource();E.attribution&&o.indexOf(E.attribution)<0&&o.push(E.attribution)}}o=o.filter(y=>String(y).trim()),o.sort((y,x)=>y.length-x.length),o=o.filter((y,x)=>{for(let E=x+1;E<o.length;E++)if(o[E].indexOf(y)>=0)return!1;return!0});const p=o.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,o.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Gh{constructor(o={}){this.options=o,u.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(o){this._map=o,this._compact=this.options&&this.options.compact,this._container=T.create("div","maplibregl-ctrl mapboxgl-ctrl");const c=T.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://maplibre.org/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){T.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const o=this._container.children;if(o.length){const c=o[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&c.classList.add("maplibregl-compact","mapboxgl-compact"):c.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class yp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(o){const c=++this._id;return this._queue.push({callback:o,id:c,cancelled:!1}),c}remove(o){const c=this._currentlyRunning,p=c?this._queue.concat(c):this._queue;for(const y of p)if(y.id===o)return void(y.cancelled=!0)}run(o=0){const c=this._currentlyRunning=this._queue;this._queue=[];for(const p of c)if(!p.cancelled&&(p.callback(o),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const _p={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},b0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Eo={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ou{constructor(o,c,p=!1){this._clickTolerance=10,this.element=c,this.mouseRotate=new it({clickTolerance:o.dragRotate._mouseRotate._clickTolerance}),this.map=o,p&&(this.mousePitch=new Fh({clickTolerance:o.dragRotate._mousePitch._clickTolerance})),u.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(c,"mousedown",this.mousedown),T.addEventListener(c,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(c,"touchmove",this.touchmove),T.addEventListener(c,"touchend",this.touchend),T.addEventListener(c,"touchcancel",this.reset)}down(o,c){this.mouseRotate.mousedown(o,c),this.mousePitch&&this.mousePitch.mousedown(o,c),T.disableDrag()}move(o,c){const p=this.map,y=this.mouseRotate.mousemoveWindow(o,c);if(y&&y.bearingDelta&&p.setBearing(p.getBearing()+y.bearingDelta),this.mousePitch){const x=this.mousePitch.mousemoveWindow(o,c);x&&x.pitchDelta&&p.setPitch(p.getPitch()+x.pitchDelta)}}off(){const o=this.element;T.removeEventListener(o,"mousedown",this.mousedown),T.removeEventListener(o,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(o,"touchmove",this.touchmove),T.removeEventListener(o,"touchend",this.touchend),T.removeEventListener(o,"touchcancel",this.reset),this.offTemp()}offTemp(){T.enableDrag(),T.removeEventListener(window,"mousemove",this.mousemove),T.removeEventListener(window,"mouseup",this.mouseup)}mousedown(o){this.down(u.extend({},o,{ctrlKey:!0,preventDefault:()=>o.preventDefault()}),T.mousePos(this.element,o)),T.addEventListener(window,"mousemove",this.mousemove),T.addEventListener(window,"mouseup",this.mouseup)}mousemove(o){this.move(o,T.mousePos(this.element,o))}mouseup(o){this.mouseRotate.mouseupWindow(o),this.mousePitch&&this.mousePitch.mouseupWindow(o),this.offTemp()}touchstart(o){o.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,o.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>o.preventDefault()},this._startPos))}touchmove(o){o.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,o.targetTouches)[0],this.move({preventDefault:()=>o.preventDefault()},this._lastPos))}touchend(o){o.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function ht(g,o,c){if(g=new u.LngLat(g.lng,g.lat),o){const p=new u.LngLat(g.lng-360,g.lat),y=new u.LngLat(g.lng+360,g.lat),x=c.locationPoint(g).distSqr(o);c.locationPoint(p).distSqr(o)<x?g=p:c.locationPoint(y).distSqr(o)<x&&(g=y)}for(;Math.abs(g.lng-c.center.lng)>180;){const p=c.locationPoint(g);if(p.x>=0&&p.y>=0&&p.x<=c.width&&p.y<=c.height)break;g.lng>c.center.lng?g.lng-=360:g.lng+=360}return g}const bt={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function kl(g,o,c){const p=g.classList;for(const y in bt)p.remove(`maplibregl-${c}-anchor-${y}`,`mapboxgl-${c}-anchor-${y}`);p.add(`maplibregl-${c}-anchor-${o}`,`mapboxgl-${c}-anchor-${o}`)}class Cl extends u.Evented{constructor(o,c){if(super(),(o instanceof HTMLElement||c)&&(o=u.extend({element:o},c)),u.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&o.pitchAlignment!=="auto"?o.pitchAlignment:this._rotationAlignment,o&&o.element)this._element=o.element,this._offset=u.pointGeometry.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");const p=T.createNS("http://www.w3.org/2000/svg","svg"),y=41,x=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${y}px`),p.setAttributeNS(null,"width",`${x}px`),p.setAttributeNS(null,"viewBox",`0 0 ${x} ${y}`);const E=T.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"stroke","none"),E.setAttributeNS(null,"stroke-width","1"),E.setAttributeNS(null,"fill","none"),E.setAttributeNS(null,"fill-rule","evenodd");const P=T.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"fill-rule","nonzero");const I=T.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"transform","translate(3.0, 29.0)"),I.setAttributeNS(null,"fill","#000000");const D=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const _e of D){const ge=T.createNS("http://www.w3.org/2000/svg","ellipse");ge.setAttributeNS(null,"opacity","0.04"),ge.setAttributeNS(null,"cx","10.5"),ge.setAttributeNS(null,"cy","5.80029008"),ge.setAttributeNS(null,"rx",_e.rx),ge.setAttributeNS(null,"ry",_e.ry),I.appendChild(ge)}const F=T.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"fill",this._color);const U=T.createNS("http://www.w3.org/2000/svg","path");U.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),F.appendChild(U);const X=T.createNS("http://www.w3.org/2000/svg","g");X.setAttributeNS(null,"opacity","0.25"),X.setAttributeNS(null,"fill","#000000");const ne=T.createNS("http://www.w3.org/2000/svg","path");ne.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),X.appendChild(ne);const K=T.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"transform","translate(6.0, 7.0)"),K.setAttributeNS(null,"fill","#FFFFFF");const te=T.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(8.0, 8.0)");const fe=T.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#000000"),fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962");const pe=T.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),te.appendChild(fe),te.appendChild(pe),P.appendChild(I),P.appendChild(F),P.appendChild(X),P.appendChild(K),P.appendChild(te),p.appendChild(P),p.setAttributeNS(null,"height",y*this._scale+"px"),p.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(p),this._offset=u.pointGeometry.convert(o&&o.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),kl(this._element,this._anchor,"marker"),this._popup=null}addTo(o){return this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._update),o.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(o){return this._lngLat=u.LngLat.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){const y=Math.sqrt(Math.pow(13.5,2)/2);o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(38.1-13.5+y)],"bottom-right":[-y,-1*(38.1-13.5+y)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=o,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(o){const c=o.code,p=o.charCode||o.keyCode;c!=="Space"&&c!=="Enter"&&p!==32&&p!==13||this.togglePopup()}_onMapClick(o){const c=o.originalEvent.target,p=this._element;this._popup&&(c===p||p.contains(c))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const o=this._popup;return o?(o.isOpen()?o.remove():o.addTo(this._map),this):this}_update(o){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=ht(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let c="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?c=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(c=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let p="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?p="rotateX(0deg)":this._pitchAlignment==="map"&&(p=`rotateX(${this._map.getPitch()}deg)`),o&&o.type!=="moveend"||(this._pos=this._pos.round()),T.setTransform(this._element,`${bt[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${p} ${c}`)}getOffset(){return this._offset}setOffset(o){return this._offset=u.pointGeometry.convert(o),this._update(),this}_onMove(o){if(!this._isDragging){const c=this._clickTolerance||this._map._clickTolerance;this._isDragging=o.point.dist(this._pointerdownPos)>=c}this._isDragging&&(this._pos=o.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new u.Event("dragstart"))),this.fire(new u.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new u.Event("dragend")),this._state="inactive"}_addDragHandler(o){this._element.contains(o.originalEvent.target)&&(o.preventDefault(),this._positionDelta=o.point.sub(this._pos).add(this._offset),this._pointerdownPos=o.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(o){return this._draggable=!!o,this._map&&(o?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(o){return this._rotation=o||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(o){return this._rotationAlignment=o||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(o){return this._pitchAlignment=o&&o!=="auto"?o:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Wh={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let gr,Da=0,ii=!1;const S0={maxWidth:100,unit:"metric"};function Tl(g,o,c){const p=c&&c.maxWidth||100,y=g._container.clientHeight/2,x=g.unproject([0,y]),E=g.unproject([p,y]),P=x.distanceTo(E);if(c&&c.unit==="imperial"){const I=3.2808*P;I>5280?Cn(o,p,I/5280,g._getUIString("ScaleControl.Miles")):Cn(o,p,I,g._getUIString("ScaleControl.Feet"))}else c&&c.unit==="nautical"?Cn(o,p,P/1852,g._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Cn(o,p,P/1e3,g._getUIString("ScaleControl.Kilometers")):Cn(o,p,P,g._getUIString("ScaleControl.Meters"))}function Cn(g,o,c,p){const y=function(x){const E=Math.pow(10,`${Math.floor(x)}`.length-1);let P=x/E;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(I){const D=Math.pow(10,Math.ceil(-Math.log(I)/Math.LN10));return Math.round(I*D)/D}(P),E*P}(c);g.style.width=o*(y/c)+"px",g.innerHTML=`${y}&nbsp;${p}`}const yr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},vp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Es(g){if(g){if(typeof g=="number"){const o=Math.round(Math.sqrt(.5*Math.pow(g,2)));return{center:new u.pointGeometry(0,0),top:new u.pointGeometry(0,g),"top-left":new u.pointGeometry(o,o),"top-right":new u.pointGeometry(-o,o),bottom:new u.pointGeometry(0,-g),"bottom-left":new u.pointGeometry(o,-o),"bottom-right":new u.pointGeometry(-o,-o),left:new u.pointGeometry(g,0),right:new u.pointGeometry(-g,0)}}if(g instanceof u.pointGeometry||Array.isArray(g)){const o=u.pointGeometry.convert(g);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:u.pointGeometry.convert(g.center||[0,0]),top:u.pointGeometry.convert(g.top||[0,0]),"top-left":u.pointGeometry.convert(g["top-left"]||[0,0]),"top-right":u.pointGeometry.convert(g["top-right"]||[0,0]),bottom:u.pointGeometry.convert(g.bottom||[0,0]),"bottom-left":u.pointGeometry.convert(g["bottom-left"]||[0,0]),"bottom-right":u.pointGeometry.convert(g["bottom-right"]||[0,0]),left:u.pointGeometry.convert(g.left||[0,0]),right:u.pointGeometry.convert(g.right||[0,0])}}return Es(new u.pointGeometry(0,0))}const Pl={supported:w,setRTLTextPlugin:u.setRTLTextPlugin,getRTLTextPluginStatus:u.getRTLTextPluginStatus,Map:class extends Ru{constructor(g){var o;if(u.PerformanceUtils.mark(u.PerformanceMarkers.create),(g=u.extend({},b0,g)).minZoom!=null&&g.maxZoom!=null&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(g.minPitch!=null&&g.maxPitch!=null&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(g.minPitch!=null&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(g.maxPitch!=null&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new _l(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),{bearingSnap:g.bearingSnap}),this._interactive=g.interactive,this._maxTileCacheSize=g.maxTileCacheSize,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._crossSourceCollisions=g.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=g.collectResourceTiming,this._renderTaskQueue=new yp,this._controls=[],this._mapId=u.uniqueId(),this._locale=u.extend({},_p,g.locale),this._clickTolerance=g.clickTolerance,this._pixelRatio=(o=g.pixelRatio)!==null&&o!==void 0?o:devicePixelRatio,this._requestManager=new N(g.transformRequest),typeof g.container=="string"){if(this._container=document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(g.maxBounds&&this.setMaxBounds(g.maxBounds),u.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),typeof window!="undefined"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new $i(this,g),this._hash=g.hash&&new ap(typeof g.hash=="string"&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,u.extend({},g.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=g.localIdeographFontFamily,g.style&&this.setStyle(g.style,{localIdeographFontFamily:g.localIdeographFontFamily}),g.attributionControl&&this.addControl(new Lu({customAttribution:g.customAttribution})),g.maplibreLogo&&this.addControl(new Gh,g.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new u.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new u.Event(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new u.Event("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(g,o){if(o===void 0&&(o=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=g.onAdd(this);this._controls.push(g);const p=this._controlPositions[o];return o.indexOf("bottom")!==-1?p.insertBefore(c,p.firstChild):p.appendChild(c),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(g);return o>-1&&this._controls.splice(o,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}resize(g){const o=this._containerDimensions(),c=o[0],p=o[1];this._resizeCanvas(c,p,this.getPixelRatio()),this.transform.resize(c,p),this.painter.resize(c,p,this.getPixelRatio());const y=!this._moving;return y&&(this.stop(),this.fire(new u.Event("movestart",g)).fire(new u.Event("move",g))),this.fire(new u.Event("resize",g)),y&&this.fire(new u.Event("moveend",g)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(g){const[o,c]=this._containerDimensions();this._pixelRatio=g,this._resizeCanvas(o,c,g),this.painter.resize(o,c,g)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(g){return this.transform.setMaxBounds(u.LngLatBounds.convert(g)),this._update()}setMinZoom(g){if((g=g==null?-2:g)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g&&this.setZoom(g),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g==null?22:g)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g&&this.setZoom(g),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g==null?0:g)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g&&this.setPitch(g),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g==null?60:g)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g&&this.setPitch(g),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this._update()}project(g){return this.transform.locationPoint(u.LngLat.convert(g))}unproject(g){return this.transform.pointLocation(u.pointGeometry.convert(g))}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(g,o,c){if(g==="mouseenter"||g==="mouseover"){let p=!1;return{layer:o,listener:c,delegates:{mousemove:x=>{const E=this.getLayer(o)?this.queryRenderedFeatures(x.point,{layers:[o]}):[];E.length?p||(p=!0,c.call(this,new yi(g,this,x.originalEvent,{features:E}))):p=!1},mouseout:()=>{p=!1}}}}if(g==="mouseleave"||g==="mouseout"){let p=!1;return{layer:o,listener:c,delegates:{mousemove:E=>{(this.getLayer(o)?this.queryRenderedFeatures(E.point,{layers:[o]}):[]).length?p=!0:p&&(p=!1,c.call(this,new yi(g,this,E.originalEvent)))},mouseout:E=>{p&&(p=!1,c.call(this,new yi(g,this,E.originalEvent)))}}}}{const p=y=>{const x=this.getLayer(o)?this.queryRenderedFeatures(y.point,{layers:[o]}):[];x.length&&(y.features=x,c.call(this,y),delete y.features)};return{layer:o,listener:c,delegates:{[g]:p}}}}on(g,o,c){if(c===void 0)return super.on(g,o);const p=this._createDelegatedListener(g,o,c);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(p);for(const y in p.delegates)this.on(y,p.delegates[y]);return this}once(g,o,c){if(c===void 0)return super.once(g,o);const p=this._createDelegatedListener(g,o,c);for(const y in p.delegates)this.once(y,p.delegates[y]);return this}off(g,o,c){return c===void 0?super.off(g,o):(this._delegatedListeners&&this._delegatedListeners[g]&&(p=>{const y=this._delegatedListeners[g];for(let x=0;x<y.length;x++){const E=y[x];if(E.layer===o&&E.listener===c){for(const P in E.delegates)this.off(P,E.delegates[P]);return y.splice(x,1),this}}})(),this)}queryRenderedFeatures(g,o){if(!this.style)return[];let c;if(o!==void 0||g===void 0||g instanceof u.pointGeometry||Array.isArray(g)||(o=g,g=void 0),o=o||{},(g=g||[[0,0],[this.transform.width,this.transform.height]])instanceof u.pointGeometry||typeof g[0]=="number")c=[u.pointGeometry.convert(g)];else{const p=u.pointGeometry.convert(g[0]),y=u.pointGeometry.convert(g[1]);c=[p,new u.pointGeometry(y.x,p.y),y,new u.pointGeometry(p.x,y.y),p]}return this.style.queryRenderedFeatures(c,o,this.transform)}querySourceFeatures(g,o){return this.style.querySourceFeatures(g,o)}setStyle(g,o){return(o=u.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},o)).diff!==!1&&o.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&g?(this._diffStyle(g,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._updateStyle(g,o))}setTransformRequest(g){return this._requestManager.setTransformRequest(g),this}_getUIString(g){const o=this._locale[g];if(o==null)throw new Error(`Missing UI string '${g}'`);return o}_updateStyle(g,o){return this.style&&(this.style.setEventedParent(null),this.style._remove()),g?(this.style=new Tr(this,o||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g):this.style.loadJSON(g),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Tr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,o){if(typeof g=="string"){const c=this._requestManager.transformRequest(g,u.ResourceType.Style);u.getJSON(c,(p,y)=>{p?this.fire(new u.ErrorEvent(p)):y&&this._updateDiff(y,o)})}else typeof g=="object"&&this._updateDiff(g,o)}_updateDiff(g,o){try{this.style.setState(g)&&this._update(!0)}catch(c){u.warnOnce(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(g,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():u.warnOnce("There is no style added to the map.")}addSource(g,o){return this._lazyInitEmptyStyle(),this.style.addSource(g,o),this._update(!0)}isSourceLoaded(g){const o=this.style&&this.style.sourceCaches[g];if(o!==void 0)return o.loaded();this.fire(new u.ErrorEvent(new Error(`There is no source with ID '${g}'`)))}areTilesLoaded(){const g=this.style&&this.style.sourceCaches;for(const o in g){const c=g[o]._tiles;for(const p in c){const y=c[p];if(y.state!=="loaded"&&y.state!=="errored")return!1}}return!0}addSourceType(g,o,c){return this._lazyInitEmptyStyle(),this.style.addSourceType(g,o,c)}removeSource(g){return this.style.removeSource(g),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,o,{pixelRatio:c=1,sdf:p=!1,stretchX:y,stretchY:x,content:E}={}){if(this._lazyInitEmptyStyle(),o instanceof HTMLImageElement||u.isImageBitmap(o)){const{width:P,height:I,data:D}=u.exported.getImageData(o);this.style.addImage(g,{data:new u.RGBAImage({width:P,height:I},D),pixelRatio:c,stretchX:y,stretchY:x,content:E,sdf:p,version:0})}else{if(o.width===void 0||o.height===void 0)return this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:P,height:I,data:D}=o,F=o;this.style.addImage(g,{data:new u.RGBAImage({width:P,height:I},new Uint8Array(D)),pixelRatio:c,stretchX:y,stretchY:x,content:E,sdf:p,version:0,userImage:F}),F.onAdd&&F.onAdd(this,g)}}}updateImage(g,o){const c=this.style.getImage(g);if(!c)return this.fire(new u.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=o instanceof HTMLImageElement||u.isImageBitmap(o)?u.exported.getImageData(o):o,{width:y,height:x,data:E}=p;if(y===void 0||x===void 0)return this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(y!==c.data.width||x!==c.data.height)return this.fire(new u.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const P=!(o instanceof HTMLImageElement||u.isImageBitmap(o));c.data.replace(E,P),this.style.updateImage(g,c)}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new u.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,o){u.getImage(this._requestManager.transformRequest(g,u.ResourceType.Image),o)}listImages(){return this.style.listImages()}addLayer(g,o){return this._lazyInitEmptyStyle(),this.style.addLayer(g,o),this._update(!0)}moveLayer(g,o){return this.style.moveLayer(g,o),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}setLayerZoomRange(g,o,c){return this.style.setLayerZoomRange(g,o,c),this._update(!0)}setFilter(g,o,c={}){return this.style.setFilter(g,o,c),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,o,c,p={}){return this.style.setPaintProperty(g,o,c,p),this._update(!0)}getPaintProperty(g,o){return this.style.getPaintProperty(g,o)}setLayoutProperty(g,o,c,p={}){return this.style.setLayoutProperty(g,o,c,p),this._update(!0)}getLayoutProperty(g,o){return this.style.getLayoutProperty(g,o)}setLight(g,o={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,o),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(g,o){return this.style.setFeatureState(g,o),this._update()}removeFeatureState(g,o){return this.style.removeFeatureState(g,o),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let g=0,o=0;return this._container&&(g=this._container.clientWidth||400,o=this._container.clientHeight||300),[g,o]}_setupContainer(){const g=this._container;g.classList.add("maplibregl-map","mapboxgl-map");const o=this._canvasContainer=T.create("div","maplibregl-canvas-container mapboxgl-canvas-container",g);this._interactive&&o.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=T.create("canvas","maplibregl-canvas mapboxgl-canvas",o),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const c=this._containerDimensions();this._resizeCanvas(c[0],c[1],this.getPixelRatio());const p=this._controlContainer=T.create("div","maplibregl-control-container mapboxgl-control-container",g),y=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{y[x]=T.create("div",`maplibregl-ctrl-${x} mapboxgl-ctrl-${x}`,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(g,o,c){this._canvas.width=c*g,this._canvas.height=c*o,this._canvas.style.width=`${g}px`,this._canvas.style.height=`${o}px`}_setupPainter(){const g=u.extend({},w.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._canvas.getContext("webgl",g)||this._canvas.getContext("experimental-webgl",g);o?(this.painter=new Lh(o,this.transform),u.exported$1.testSupport(o)):this.fire(new u.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(g){g.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.Event("webglcontextlost",{originalEvent:g}))}_contextRestored(g){this._setupPainter(),this.resize(),this._update(),this.fire(new u.Event("webglcontextrestored",{originalEvent:g}))}_onMapScroll(g){if(g.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_render(g){let o,c=0;const p=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(o=p.createQueryEXT(),p.beginQueryEXT(p.TIME_ELAPSED_EXT,o),c=u.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(g),this._removed)return;let y=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const E=this.transform.zoom,P=u.exported.now();this.style.zoomHistory.update(E,P);const I=new u.EvaluationParameters(E,{now:P,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),D=I.crossFadingFactor();D===1&&D===this._crossFadingFactor||(y=!0,this._crossFadingFactor=D),this.style.update(I)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new u.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,u.PerformanceUtils.mark(u.PerformanceMarkers.load),this.fire(new u.Event("load"))),this.style&&(this.style.hasTransitions()||y)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const E=u.exported.now()-c;p.endQueryEXT(p.TIME_ELAPSED_EXT,o),setTimeout(()=>{const P=p.getQueryObjectEXT(o,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(o),this.fire(new u.Event("gpu-timing-frame",{cpuTime:E,gpuTime:P}))},50)}if(this.listens("gpu-timing-layer")){const E=this.painter.collectGpuTimers();setTimeout(()=>{const P=this.painter.queryGpuTimers(E);this.fire(new u.Event("gpu-timing-layer",{layerTimes:P}))},50)}const x=this._sourcesDirty||this._styleDirty||this._placementDirty;return x||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new u.Event("idle")),!this._loaded||this._fullyLoaded||x||(this._fullyLoaded=!0,u.PerformanceUtils.mark(u.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const o of this._controls)o.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const g=this.painter.context.gl.getExtension("WEBGL_lose_context");g&&g.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),T.remove(this._canvasContainer),T.remove(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),u.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new u.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=u.exported.frame(g=>{u.PerformanceUtils.frame(g),this._frame=null,this._render(g)}))}_onWindowOnline(){this._update()}_onWindowResize(g){this._trackResize&&this.resize({originalEvent:g})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}_setCacheLimits(g,o){u.setCacheLimits(g,o)}},NavigationControl:class{constructor(g){this.options=u.extend({},Eo,g),this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",o=>o.preventDefault()),this.options.showZoom&&(u.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",o=>this._map.zoomIn({},{originalEvent:o})),T.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",o=>this._map.zoomOut({},{originalEvent:o})),T.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(u.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",o=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:o}):this._map.resetNorth({},{originalEvent:o})}),this._compassIcon=T.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const g=this._map.getZoom(),o=g===this._map.getMaxZoom(),c=g===this._map.getMinZoom();this._zoomInButton.disabled=o,this._zoomOutButton.disabled=c,this._zoomInButton.setAttribute("aria-disabled",o.toString()),this._zoomOutButton.setAttribute("aria-disabled",c.toString())}_rotateCompassArrow(){const g=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=g}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ou(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(g,o){const c=T.create("button",g,this._container);return c.type="button",c.addEventListener("click",o),c}_setButtonTitle(g,o){const c=this._map._getUIString(`NavigationControl.${o}`);g.title=c,g.setAttribute("aria-label",c)}},GeolocateControl:class extends u.Evented{constructor(g){super(),this.options=u.extend({},Wh,g),u.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(g){var o;return this._map=g,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),o=this._setupUI,gr!==void 0?o(gr):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(c=>{gr=c.state!=="denied",o(gr)}):(gr=!!window.navigator.geolocation,o(gr)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Da=0,ii=!1}_isOutOfMapMaxBounds(g){const o=this._map.getMaxBounds(),c=g.coords;return o&&(c.longitude<o.getWest()||c.longitude>o.getEast()||c.latitude<o.getSouth()||c.latitude>o.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(g){if(this._map){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new u.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(g),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new u.Event("geolocate",g)),this._finish()}}_updateCamera(g){const o=new u.LngLat(g.coords.longitude,g.coords.latitude),c=g.coords.accuracy,p=this._map.getBearing(),y=u.extend({bearing:p},this.options.fitBoundsOptions);this._map.fitBounds(o.toBounds(c),y,{geolocateSource:!0})}_updateMarker(g){if(g){const o=new u.LngLat(g.coords.longitude,g.coords.latitude);this._accuracyCircleMarker.setLngLat(o).addTo(this._map),this._userLocationDotMarker.setLngLat(o).addTo(this._map),this._accuracy=g.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const g=this._map._container.clientHeight/2,o=this._map.unproject([0,g]),c=this._map.unproject([1,g]),p=o.distanceTo(c),y=Math.ceil(2*this._accuracy/p);this._circleElement.style.width=`${y}px`,this._circleElement.style.height=`${y}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(g){if(this._map){if(this.options.trackUserLocation)if(g.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(g.code===3&&ii)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new u.Event("error",g)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(g){if(this._container.addEventListener("contextmenu",o=>o.preventDefault()),this._geolocateButton=T.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),T.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",g===!1){u.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}else{const o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new Cl(this._dotElement),this._circleElement=T.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Cl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",o=>{o.geolocateSource||this._watchState!=="ACTIVE_LOCK"||o.originalEvent&&o.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new u.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return u.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Da--,ii=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new u.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let g;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Da++,Da>1?(g={maximumAge:6e5,timeout:0},ii=!0):(g=this.options.positionOptions,ii=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,g)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Lu,LogoControl:Gh,ScaleControl:class{constructor(g){this.options=u.extend({},S0,g),u.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Tl(this._map,this._container,this.options)}onAdd(g){return this._map=g,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(g){this.options.unit=g,Tl(this._map,this._container,this.options)}},FullscreenControl:class{constructor(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof HTMLElement?this._container=g.container:u.warnOnce("Full screen control 'container' must be a DOM element.")),u.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",u.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){T.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const g=this._fullscreenButton=T.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.title=g}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends u.Evented{constructor(g){super(),this.options=u.extend(Object.create(yr),g),u.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new u.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new u.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(g){return this._lngLat=u.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(document.createTextNode(g))}setHTML(g){const o=document.createDocumentFragment(),c=document.createElement("body");let p;for(c.innerHTML=g;p=c.firstChild,p;)o.appendChild(p);return this.setDOMContent(o)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=T.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(g),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(g){this._container&&this._container.classList.add(g)}removeClassName(g){this._container&&this._container.classList.remove(g)}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){if(this._container)return this._container.classList.toggle(g)}_createCloseButton(){this.options.closeButton&&(this._closeButton=T.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(g){this._update(g.point)}_onMouseMove(g){this._update(g.point)}_onDrag(g){this._update(g.point)}_update(g){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=T.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(x=>this._container.classList.add(x)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ht(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!g))return;const o=this._pos=this._trackPointer&&g?g:this._map.project(this._lngLat);let c=this.options.anchor;const p=Es(this.options.offset);if(!c){const x=this._container.offsetWidth,E=this._container.offsetHeight;let P;P=o.y+p.bottom.y<E?["top"]:o.y>this._map.transform.height-E?["bottom"]:[],o.x<x/2?P.push("left"):o.x>this._map.transform.width-x/2&&P.push("right"),c=P.length===0?"bottom":P.join("-")}const y=o.add(p[c]).round();T.setTransform(this._container,`${bt[c]} translate(${y.x}px,${y.y}px)`),kl(this._container,c,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(vp);g&&g.focus()}_onClose(){this.remove()}},Marker:Cl,Style:Tr,LngLat:u.LngLat,LngLatBounds:u.LngLatBounds,Point:u.pointGeometry,MercatorCoordinate:u.MercatorCoordinate,Evented:u.Evented,AJAXError:u.AJAXError,config:u.config,CanvasSource:Jn,GeoJSONSource:Ft,ImageSource:mn,RasterDEMTileSource:ut,RasterTileSource:Ne,VectorTileSource:dn,VideoSource:rn,prewarm:function(){pr().acquire(Oi)},clearPrewarmedResources:function(){const g=Rr;g&&(g.isPreloaded()&&g.numActive()===1?(g.release(Oi),Rr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get workerCount(){return fr.workerCount},set workerCount(g){fr.workerCount=g},get maxParallelImageRequests(){return u.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){u.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage(g){u.clearTileCache(g)},workerUrl:"",addProtocol(g,o){u.config.REGISTERED_PROTOCOLS[g]=o},removeProtocol(g){delete u.config.REGISTERED_PROTOCOLS[g]}};return An.extend(Pl,{isSafari:u.isSafari,getPerformanceMetrics:u.PerformanceUtils.getPerformanceMetrics}),Pl});var f=s;return f})})(J3);var Rd=J3.exports;function IV(e){return[{id:"background",type:"background",paint:{"background-color":"black"}},{id:"natural",type:"fill",source:e,"source-layer":"natural",paint:{"fill-color":"#19A974","fill-opacity":.5}},{id:"landuse",type:"fill",source:e,"source-layer":"landuse",paint:{"fill-color":"white","fill-opacity":.25}},{id:"water",type:"fill",source:e,"source-layer":"water",paint:{"fill-color":"#268bd2","fill-opacity":.5}},{id:"physical",type:"line",source:e,"source-layer":"physical",paint:{"line-color":"#357EDD","line-opacity":.5}},{id:"buildings",type:"fill",source:e,"source-layer":"buildings",paint:{"fill-color":"#6c71c4","fill-opacity":.8}},{id:"roads",type:"line",source:e,"source-layer":"roads",paint:{"line-color":"white","line-opacity":.5}},{id:"boundaries",type:"line",source:e,"source-layer":"boundaries",paint:{"line-color":"#5E2CA5","line-opacity":.5}},{id:"transit",type:"line",source:e,"source-layer":"transit",paint:{"line-color":"#dc322f","line-opacity":.5}},{id:"pois",type:"circle",source:e,"source-layer":"pois",paint:{"circle-radius":2,"circle-color":"#268bd2","circle-opacity":.9}},{id:"places",type:"circle",source:e,"source-layer":"places",paint:{"circle-radius":5,"circle-color":"#b58900","circle-opacity":.9}},{id:"mask",type:"fill",source:e,"source-layer":"mask",paint:{"fill-color":"#000000","fill-opacity":.5}}]}function AV(e,t){const n=t.hasCasings?"visible":"none";return[{id:"background",type:"background",paint:{"background-color":t.background}},{id:"earth",type:"fill",source:e,"source-layer":"earth",paint:{"fill-color":t.earth}},{id:"landuse_park",type:"fill",source:e,"source-layer":"landuse",filter:["any",["==","pmap:kind","park"],["==","landuse","cemetery"]],paint:{"fill-color":t.park}},{id:"landuse_hospital",type:"fill",source:e,"source-layer":"landuse",filter:["any",["==","pmap:kind","hospital"]],paint:{"fill-color":t.hospital}},{id:"landuse_industrial",type:"fill",source:e,"source-layer":"landuse",filter:["any",["==","pmap:kind","industrial"]],paint:{"fill-color":t.industrial}},{id:"landuse_school",type:"fill",source:e,"source-layer":"landuse",filter:["any",["==","pmap:kind","school"]],paint:{"fill-color":t.school}},{id:"natural_wood",type:"fill",source:e,"source-layer":"natural",filter:["any",["==","natural","wood"],["==","leisure","nature_reserve"],["==","landuse","forest"]],paint:{"fill-color":t.wood}},{id:"landuse_pedestrian",type:"fill",source:e,"source-layer":"landuse",filter:["any",["==","highway","footway"]],paint:{"fill-color":t.pedestrian}},{id:"natural_scrub",type:"fill",source:e,"source-layer":"natural",filter:["in","natural","scrub","grassland"],paint:{"fill-color":t.scrub}},{id:"natural_glacier",type:"fill",source:e,"source-layer":"natural",filter:["==","natural","glacier"],paint:{"fill-color":t.glacier}},{id:"natural_sand",type:"fill",source:e,"source-layer":"natural",filter:["==","natural","sand"],paint:{"fill-color":t.sand}},{id:"landuse_aerodrome",type:"fill",source:e,"source-layer":"landuse",filter:["==","aeroway","aerodrome"],paint:{"fill-color":t.aerodrome}},{id:"transit_runway",type:"line",source:e,"source-layer":"transit",filter:["has","aeroway"],paint:{"line-color":t.runway,"line-width":6}},{id:"landuse_runway",type:"fill",source:e,"source-layer":"landuse",filter:["any",["==","aeroway","runway"],["==","area:aeroway","runway"],["==","area:aeroway","taxiway"]],paint:{"fill-color":t.runway}},{id:"water",type:"fill",source:e,"source-layer":"water",paint:{"fill-color":t.water}},{id:"roads_tunnels_other_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","other"]],paint:{"line-color":t.tunnel_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,14.5,.5,20,12]},layout:{visibility:n}},{id:"roads_tunnels_other",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","other"]],paint:{"line-color":t.tunnel_other,"line-dasharray":[1,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,14.5,.5,20,12]}},{id:"roads_tunnels_minor_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":t.tunnel_minor_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,32],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]},layout:{visibility:n}},{id:"roads_tunnels_minor",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":t.tunnel_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,32]}},{id:"roads_tunnels_medium_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":t.tunnel_medium_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,20,32],"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,10.5,1]},layout:{visibility:n}},{id:"roads_tunnels_medium",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":t.tunnel_medium,"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,20,32]}},{id:"roads_tunnels_major_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":t.tunnel_major_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,19,32],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]},layout:{visibility:n}},{id:"roads_tunnels_major",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":t.tunnel_major,"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,19,32]}},{id:"roads_tunnels_highway_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","highway"]],paint:{"line-color":t.tunnel_highway_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,32],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1]},layout:{visibility:n}},{id:"roads_tunnels_highway",type:"line",source:e,"source-layer":"roads",filter:["all",["<","pmap:level",0],["==","pmap:kind","highway"]],paint:{"line-color":t.tunnel_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,32]}},{id:"physical_line_waterway",type:"line",source:e,"source-layer":"physical_line",filter:["==",["get","pmap:kind"],"waterway"],paint:{"line-color":t.water,"line-width":.5}},{id:"buildings",type:"fill-extrusion",source:e,"source-layer":"buildings",paint:{"fill-extrusion-color":t.buildings,"fill-extrusion-height":["to-number",["get","height"]],"fill-extrusion-opacity":.5}},{id:"roads_other",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","other"]],paint:{"line-color":t.other,"line-dasharray":[2,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,14.5,.5,20,12]}},{id:"roads_minor_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":t.minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,32],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]},layout:{visibility:n}},{id:"roads_minor",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":t.minor,"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,32]}},{id:"roads_medium_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":t.medium_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,20,32],"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,10.5,1]},layout:{visibility:n}},{id:"roads_medium",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":t.medium,"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,20,32]}},{id:"roads_major_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":t.major_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,19,32],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]},layout:{visibility:n}},{id:"roads_major",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":t.major,"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,19,32]}},{id:"roads_highway_casing",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","highway"]],paint:{"line-color":t.highway_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,32],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1]},layout:{visibility:n}},{id:"roads_highway",type:"line",source:e,"source-layer":"roads",filter:["all",["==","pmap:level",0],["==","pmap:kind","highway"]],paint:{"line-color":t.highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,32]}},{id:"transit_railway",type:"line",source:e,"source-layer":"transit",filter:["all",["==","pmap:kind","railway"]],paint:{"line-color":t.railway,"line-width":2}},{id:"transit_railway_tracks",type:"line",source:e,"source-layer":"transit",filter:["all",["==","pmap:kind","railway"]],paint:{"line-color":t.railway_tracks,"line-width":.8,"line-dasharray":[6,10]}},{id:"boundaries",type:"line",source:e,"source-layer":"boundaries",paint:{"line-color":t.boundaries,"line-width":.5,"line-dasharray":[3,2]}},{id:"physical_line_waterway_label",type:"symbol",source:e,"source-layer":"physical_line",minzoom:14,layout:{"symbol-placement":"line","text-font":["NotoSans-Regular"],"text-field":["get","name"],"text-size":14,"text-letter-spacing":.3},paint:{"text-color":t.waterway_label,"text-halo-color":t.waterway_label_halo,"text-halo-width":2}},{id:"roads_bridges_other_casing",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","other"]],paint:{"line-color":t.bridges_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,14.5,.5,20,12]},layout:{visibility:n}},{id:"roads_bridges_other",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","other"]],paint:{"line-color":t.bridges_other,"line-dasharray":[2,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,14.5,.5,20,12]}},{id:"roads_bridges_minor_casing",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":t.bridges_minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,32],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]},layout:{visibility:n}},{id:"roads_bridges_minor",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","minor_road"]],paint:{"line-color":t.bridges_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,32]}},{id:"roads_bridges_medium_casing",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":t.bridges_medium_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,20,32],"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,10.5,1]},layout:{visibility:n}},{id:"roads_bridges_medium",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","medium_road"]],paint:{"line-color":t.bridges_medium,"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,20,32]}},{id:"roads_bridges_major_casing",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":t.bridges_major_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,19,32],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]},layout:{visibility:n}},{id:"roads_bridges_major",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","major_road"]],paint:{"line-color":t.bridges_major,"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,19,32]}},{id:"roads_bridges_highway_casing",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","highway"]],paint:{"line-color":t.bridges_highway_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,32],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1]},layout:{visibility:n}},{id:"roads_bridges_highway",type:"line",source:e,"source-layer":"roads",filter:["all",[">","pmap:level",0],["==","pmap:kind","highway"]],paint:{"line-color":t.bridges_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,32]}},{id:"roads_labels",type:"symbol",source:e,"source-layer":"roads",layout:{"symbol-placement":"line","text-font":["NotoSans-Regular"],"text-field":["get","name"],"text-size":12},paint:{"text-color":t.roads_label,"text-halo-color":t.roads_label_halo,"text-halo-width":2}},{id:"mask",type:"fill",source:e,"source-layer":"mask",paint:{"fill-color":t.background}},{id:"physical_point_ocean",type:"symbol",source:e,"source-layer":"physical_point",filter:["any",["==","place","sea"],["==","place","ocean"]],layout:{"text-font":["NotoSans-Regular"],"text-field":["get","name"],"text-size":13,"text-letter-spacing":.1},paint:{"text-color":t.ocean_label,"text-halo-color":t.ocean_label_halo,"text-halo-width":1}},{id:"physical_point_peak",type:"symbol",source:e,"source-layer":"physical_point",filter:["any",["==","natural","peak"]],layout:{"text-font":["NotoSans-Regular"],"text-field":["get","name"],"text-size":14},paint:{"text-color":t.peak_label,"text-halo-color":t.peak_label_halo,"text-halo-width":1.5}},{id:"places_subplace",type:"symbol",source:e,"source-layer":"places",filter:["==","pmap:kind","neighbourhood"],layout:{"text-field":"{name}","text-font":["NotoSans-Regular"],"text-size":{base:1.2,stops:[[11,10],[14,12]]},"text-transform":"uppercase"},paint:{"text-color":t.subplace_label,"text-halo-color":t.subplace_label_halo,"text-halo-width":.5}},{id:"places_city_circle",type:"circle",source:e,"source-layer":"places",filter:["==","pmap:kind","city"],paint:{"circle-radius":2,"circle-stroke-width":2,"circle-stroke-color":t.city_circle_stroke,"circle-color":t.city_circle},maxzoom:8},{id:"places_city",type:"symbol",source:e,"source-layer":"places",filter:["==","pmap:kind","city"],layout:{"text-field":"{name}","text-font":["NotoSans-Bold"],"text-size":["step",["get","pmap:rank"],0,1,12,2,10],"text-variable-anchor":["bottom-left"],"text-radial-offset":.2},paint:{"text-color":t.city_label,"text-halo-color":t.city_label_halo,"text-halo-width":1}},{id:"places_state",type:"symbol",source:e,"source-layer":"places",filter:["==","pmap:kind","state"],layout:{"text-field":"{name}","text-font":["NotoSans-Regular"],"text-size":12,"text-radial-offset":.2,"text-anchor":"center","text-transform":"uppercase"},paint:{"text-color":t.state_label,"text-halo-color":t.state_label_halo,"text-halo-width":.5}},{id:"places_country",type:"symbol",source:e,"source-layer":"places",filter:["==","place","country"],layout:{"text-field":"{name}","text-font":["NotoSans-Bold"],"text-size":{base:1.2,stops:[[2,13],[6,13],[8,20]]},"text-transform":"uppercase"},paint:{"text-color":t.country_label,"text-halo-color":t.country_label_halo,"text-halo-width":1}}]}var MV={hasCasings:!0,background:"#dddddd",earth:"#e7f1ee",park:"#c2f7d1",hospital:"#ffeae8",industrial:"#f8ffed",school:"#f2fef9",wood:"#eafbe9",pedestrian:"#eef0f0",scrub:"rgb(219,239,209)",glacier:"white",sand:"#eff5e7",aerodrome:"#dbe7e7",runway:"#d1d9d9",water:"#a4cae1",tunnel_other_casing:"#ffffff",tunnel_other:"#f7f7f7",tunnel_minor_casing:"#e2e2e2",tunnel_minor:"#ebebeb",tunnel_medium_casing:"#e1e1e1",tunnel_medium:"#ebebeb",tunnel_major_casing:"#e3cfd3",tunnel_major:"#ebebeb",tunnel_highway_casing:"#ebcea2",tunnel_highway:"#ebebeb",buildings:"#cbcece",other:"#ffffff",minor_casing:"#e2e2e2",minor:"white",medium_casing:"#e1e1e1",medium:"#ffffff",major_casing:"#e3cfd3",major:"#ffffff",highway_casing:"#ebcea2",highway:"#fefffc",railway:"#b3bcc9",railway_tracks:"#ffffff",boundaries:"#5c4a6b",waterway_label_halo:"white",waterway_label:"#a4cae1",bridges_other_casing:"#ffffff",bridges_other:"#ffffff",bridges_minor_casing:"#e2e2e2",bridges_minor:"white",bridges_medium_casing:"#e1e1e1",bridges_medium:"#ffffff",bridges_major_casing:"#e3cfd3",bridges_major:"#ffffff",bridges_highway_casing:"#ebcea2",bridges_highway:"#fefffc",roads_label:"#91888b",roads_label_halo:"white",ocean_label:"white",ocean_label_halo:"#a4cae1",peak_label:"#61bb5b",peak_label_halo:"#ffffff",subplace_label:"#757d91",subplace_label_halo:"white",city_circle:"#666666",city_circle_stroke:"white",city_label:"#787878",city_label_halo:"white",state_label:"#bdbdbd",state_label_halo:"White",country_label:"#9590aa",country_label_halo:"white"},zV={hasCasings:!0,background:"#dddddd",earth:"#151515",park:"#1d3e2e",hospital:"#2e2226",industrial:"#20201e",school:"#193a3c",wood:"#212e25",pedestrian:"#1a1a1a",scrub:"#27362a",glacier:"#1c1c1c",sand:"#374238",aerodrome:"#000000",runway:"#000000",water:"#1e293b",tunnel_other_casing:"#ffffff",tunnel_other:"#000000",tunnel_minor_casing:"#ffffff",tunnel_minor:"#000000",tunnel_medium_casing:"#ffffff",tunnel_medium:"#000000",tunnel_major_casing:"#ffffff",tunnel_major:"#000000",tunnel_highway_casing:"#ffffff",tunnel_highway:"#000000",buildings:"#393f43",other:"#000000",minor_casing:"#222222",minor:"#000000",medium_casing:"#222222",medium:"#282828",major_casing:"#222222",major:"#2f2f2f",highway_casing:"#222222",highway:"#3b3b3b",railway:"#bbbbbb",railway_tracks:"#000000",boundaries:"#6b1001",waterway_label_halo:"#000000",waterway_label:"#ffffff",bridges_other_casing:"#ffffff",bridges_other:"#000000",bridges_minor_casing:"#ffffff",bridges_minor:"#000000",bridges_medium_casing:"#ffffff",bridges_medium:"#000000",bridges_major_casing:"#ffffff",bridges_major:"#000000",bridges_highway_casing:"#ffffff",bridges_highway:"#000000",roads_label:"#7a7a7a",roads_label_halo:"#000000",ocean_label:"#ffffff",ocean_label_halo:"#000000",peak_label:"#ffffff",peak_label_halo:"#000000",subplace_label:"#8e8e8e",subplace_label_halo:"#000000",city_circle:"#ffffff",city_circle_stroke:"#000000",city_label:"#ffffff",city_label_halo:"#000000",state_label:"#ffffff",state_label_halo:"#000000",country_label:"#ffffff",country_label_halo:"#000000"},DV={hasCasings:!1,background:"#fff",earth:"#fff",park:"#fafafa",hospital:"#fafafa",industrial:"#fafafa",school:"#fafafa",wood:"#fafafa",pedestrian:"#fafafa",scrub:"#fafafa",glacier:"#ffffff",sand:"#eee",aerodrome:"#eee",runway:"#eee",water:"#eeeeee",tunnel_other_casing:"#ff00ff",tunnel_other:"#c8c8c8",tunnel_minor_casing:"#ff00ff",tunnel_minor:"#c8c8c8",tunnel_medium_casing:"#ff00ff",tunnel_medium:"#c8c8c8",tunnel_major_casing:"#ff00ff",tunnel_major:"#c8c8c8",tunnel_highway_casing:"#ff00ff",tunnel_highway:"#c8c8c8",buildings:"#ffffff",other:"#c8c8c8",minor_casing:"#ff00ff",minor:"#c8c8c8",medium_casing:"#ff00ff",medium:"#c8c8c8",major_casing:"#ff00ff",major:"#c8c8c8",highway_casing:"#ff00ff",highway:"#c8c8c8",railway:"#eee",railway_tracks:"#ffffff",boundaries:"#000000",waterway_label_halo:"#ffffff",waterway_label:"#000000",bridges_other_casing:"#ff00ff",bridges_other:"#c8c8c8",bridges_minor_casing:"#ff00ff",bridges_minor:"#c8c8c8",bridges_medium_casing:"#ff00ff",bridges_medium:"#c8c8c8",bridges_major_casing:"#ff00ff",bridges_major:"#c8c8c8",bridges_highway_casing:"#ff00ff",bridges_highway:"#ffffff",roads_label:"#888",roads_label_halo:"#ffffff",ocean_label:"#aaa",ocean_label_halo:"#ffffff",peak_label:"#888",peak_label_halo:"#ffffff",subplace_label:"#888",subplace_label_halo:"#ffffff",city_circle:"#aaa",city_circle_stroke:"#ffffff",city_label:"#888",city_label_halo:"#ffffff",state_label:"#999",state_label_halo:"#ffffff",country_label:"#bbb",country_label_halo:"#ffffff"},RV={hasCasings:!1,background:"#000000",earth:"#000000",park:"#060606",hospital:"#060606",industrial:"#060606",school:"#060606",wood:"#060606",pedestrian:"#060606",scrub:"#060606",glacier:"#060606",sand:"#060606",aerodrome:"#060606",runway:"#060606",water:"#333",tunnel_other_casing:"#ff00ff",tunnel_other:"#222",tunnel_minor_casing:"#ff00ff",tunnel_minor:"#222",tunnel_medium_casing:"#ff00ff",tunnel_medium:"#222",tunnel_major_casing:"#ff00ff",tunnel_major:"#222",tunnel_highway_casing:"#ff00ff",tunnel_highway:"#222",buildings:"#101010",other:"#000000",minor_casing:"#ff00ff",minor:"#222",medium_casing:"#ff00ff",medium:"#222",major_casing:"#ff00ff",major:"#222",highway_casing:"#ff00ff",highway:"#222",railway:"#121212",railway_tracks:"#121212",boundaries:"#555",waterway_label_halo:"#333",waterway_label:"#888",bridges_other_casing:"#ff00ff",bridges_other:"#222",bridges_minor_casing:"#ff00ff",bridges_minor:"#222",bridges_medium_casing:"#ff00ff",bridges_medium:"#222",bridges_major_casing:"#ff00ff",bridges_major:"#222",bridges_highway_casing:"#ff00ff",bridges_highway:"#222",roads_label:"#666",roads_label_halo:"#000",ocean_label:"#666",ocean_label_halo:"#333",peak_label:"#777",peak_label_halo:"#000000",subplace_label:"#777",subplace_label_halo:"#000000",city_circle:"#777",city_circle_stroke:"#000000",city_label:"#777",city_label_halo:"#000000",state_label:"#555",state_label_halo:"#000000",country_label:"#555",country_label_halo:"#000000"},LV={hasCasings:!1,background:"#eee",earth:"#eee",park:"#e8e8e8",hospital:"#e8e8e8",industrial:"#e8e8e8",school:"#e8e8e8",wood:"#e8e8e8",pedestrian:"#e8e8e8",scrub:"#e8e8e8",glacier:"#e8e8e8",sand:"#e8e8e8",aerodrome:"#e8e8e8",runway:"#e8e8e8",water:"#ddd",tunnel_other_casing:"#ff00ff",tunnel_other:"#ffffff",tunnel_minor_casing:"#ff00ff",tunnel_minor:"#ffffff",tunnel_medium_casing:"#ff00ff",tunnel_medium:"#ffffff",tunnel_major_casing:"#ff00ff",tunnel_major:"#ffffff",tunnel_highway_casing:"#ff00ff",tunnel_highway:"#ffffff",buildings:"#ffffff",other:"#fff",minor_casing:"#ff00ff",minor:"#fff",medium_casing:"#ff00ff",medium:"#fff",major_casing:"#ff00ff",major:"#fff",highway_casing:"#ff00ff",highway:"#fff",railway:"#fff",railway_tracks:"#eee",boundaries:"#666",waterway_label_halo:"#bbbbbb",waterway_label:"#ffffff",bridges_other_casing:"#ff00ff",bridges_other:"#ffffff",bridges_minor_casing:"#ff00ff",bridges_minor:"#ffffff",bridges_medium_casing:"#ff00ff",bridges_medium:"#ffffff",bridges_major_casing:"#ff00ff",bridges_major:"#ffffff",bridges_highway_casing:"#ff00ff",bridges_highway:"#ffffff",roads_label:"#888",roads_label_halo:"#ffffff",ocean_label:"#666",ocean_label_halo:"#ffffff",peak_label:"#000000",peak_label_halo:"#ffffff",subplace_label:"#888",subplace_label_halo:"#ffffff",city_circle:"#666",city_circle_stroke:"#ffffff",city_label:"#888",city_label_halo:"#ffffff",state_label:"#888",state_label_halo:"#ffffff",country_label:"#888",country_label_halo:"#ffffff"},OV={light:MV,dark:zV,white:DV,black:RV,grayscale:LV};function FV(e,t){return t=="debug"?IV(e):AV(e,OV[t])}Rd.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",()=>{},!0);const $V=un("div",{height:"calc(100vh - $4 - $4)"}),BV=un("div",{color:"black"}),VV=un("div",{marginBottom:"0.5em","&:not(:last-of-type)":{borderBottom:"1px solid black"}}),NV=un("div",{position:"absolute",top:"10px",right:"10px",width:40,height:40,backgroundColor:"#444",cursor:"pointer",zIndex:9999}),jV=un("div",{position:"absolute",backgroundColor:"#444",top:"50px",right:"10px",padding:"$1",zIndex:9999}),Yg=un("label",{display:"flex",gap:6,cursor:"pointer"}),UV=un("ul",{listStyleType:"none"}),GV=e=>Oe(BV,{children:e.features.map((t,n)=>kt(VV,{children:[kt("span",{children:[Oe("strong",{children:t.layer["source-layer"]}),kt("span",{style:{fontSize:"0.8em"},children:[" (",t.geometry.type,")"]})]}),Oe("table",{children:Object.entries(t.properties).map(([i,s],h)=>kt("tr",{children:[Oe("td",{children:i}),Oe("td",{children:s})]},h))})]},n))}),WV=e=>{const{layers:t,onChange:n}=e,i=j.exports.useRef(null),s=t.filter(w=>w.visible).length,h=s>0&&s!==t.length;if(j.exports.useEffect(()=>{i.current&&(i.current.indeterminate=h)},[h]),!e.layers.length)return kt(yf,{children:[Oe("h4",{children:"Layers"}),Oe("span",{children:"No vector layers found"})]});const f=()=>{const w=s!==t.length,b=t.map(C=>({...C,visible:w}));n(b)},u=w=>{const b=w.target.getAttribute("data-layer-id"),C=t.map(M=>M.id===b?{...M,visible:!M.visible}:M);n(C)};return kt(yf,{children:[Oe("h4",{children:"Layers"}),kt(Yg,{children:[Oe("input",{ref:i,type:"checkbox",checked:s===t.length,onChange:f}),Oe("em",{children:"All layers"})]}),Oe(UV,{children:e.layers.map(({id:w,visible:b})=>Oe("li",{children:kt(Yg,{style:{paddingLeft:8},children:[Oe("input",{type:"checkbox",checked:b,onChange:u,"data-layer-id":w}),w]})},w))})]})},qV=async e=>{let t=await e.getHeader();return{version:8,sources:{source:{type:"raster",tiles:["pmtiles://"+e.source.getKey()+"/{z}/{x}/{y}"],minzoom:t.minZoom,maxzoom:t.maxZoom}},layers:[{id:"raster",type:"raster",source:"source"}]}},ZV=async e=>{let t=await e.getHeader(),n=await e.getMetadata(),i=[];n.type!=="baselayer"&&(i=FV("basemap","black"),i[0].paint["background-color"]="black");var s;if(n.json){let f=JSON.parse(n.json);f.tilestats,s=f.vector_layers}else n.tilestats,s=n.vector_layers;if(s)for(let[f,u]of s.entries())i.push({id:u.id+"_fill",type:"fill",source:"source","source-layer":u.id,paint:{"fill-color":Bm[f%12],"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.35,.2],"fill-outline-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0,100%,90%)","rgba(0,0,0,0)"]},filter:["==",["geometry-type"],"Polygon"]}),i.push({id:u.id+"_stroke",type:"line",source:"source","source-layer":u.id,paint:{"line-color":Bm[f%12],"line-width":["case",["boolean",["feature-state","hover"],!1],2,.5]},filter:["==",["geometry-type"],"LineString"]}),i.push({id:u.id+"_point",type:"circle",source:"source","source-layer":u.id,paint:{"circle-color":Bm[f%12],"circle-radius":["case",["boolean",["feature-state","hover"],!1],6,5]},filter:["==",["geometry-type"],"Point"]});for(let f of i)f["source-layer"]==="mask"&&f.type==="fill"&&(f.paint["fill-color"]="black",f.paint["fill-opacity"]=.8);const h=[t.minLon,t.minLat,t.maxLon,t.maxLat];return{style:{version:8,sources:{source:{type:"vector",tiles:["pmtiles://"+e.source.getKey()+"/{z}/{x}/{y}"],minzoom:t.minZoom,maxzoom:t.maxZoom,bounds:h},basemap:{type:"vector",tiles:["https://api.protomaps.com/tiles/v2/{z}/{x}/{y}.pbf?key=1003762824b9687f"],maxzoom:14,bounds:h}},glyphs:"https://cdn.protomaps.com/fonts/pbf/{fontstack}/{range}.pbf",layers:i},layersVisibility:s.map(f=>({id:f.id,visible:!0}))}};function HV(e){let t=j.exports.useRef(null),[n,i]=j.exports.useState(!0),[s,h]=j.exports.useState(!1),[f,u]=j.exports.useState(!1),[w,b]=j.exports.useState([]);const C=j.exports.useRef(null),M=j.exports.useRef(new Set),T=j.exports.useRef(s);j.exports.useEffect(()=>{T.current=s},[s]);const N=()=>{i(!n)},W=()=>{h(!s),C.current.getCanvas().style.cursor=s?"":"crosshair"},H=()=>{u(!f),C.current.showTileBoundaries=!f},le=V=>{b(V);const B=C.current;for(const{id:Y,visible:se}of V){const oe=se?"visible":"none";B.setLayoutProperty(`${Y}_fill`,"visibility",oe),B.setLayoutProperty(`${Y}_stroke`,"visibility",oe),B.setLayoutProperty(`${Y}_point`,"visibility",oe)}};return j.exports.useEffect(()=>{let V=new CR;Rd.addProtocol("pmtiles",V.tile),V.add(e.file);const B=new Rd.Map({container:t.current,hash:"map",zoom:0,center:[0,0],style:{version:8,sources:{},layers:[]}});B.addControl(new Rd.NavigationControl({}),"bottom-left"),B.on("load",B.resize);const Y=new Rd.Popup({closeButton:!1,closeOnClick:!1});return C.current=B,B.on("mousemove",se=>{const oe=M.current;for(const Qe of oe)B.setFeatureState(Qe,{hover:!1}),oe.delete(Qe);if(!T.current){Y.remove();return}const{x:de,y:me}=se.point,xe=2;var Be=B.queryRenderedFeatures([[de-xe,me-xe],[de+xe,me+xe]]);Be=Be.filter(Qe=>Qe.source==="source");for(const Qe of Be)B.setFeatureState(Qe,{hover:!0}),oe.add(Qe);let Ie=PV(Oe(GV,{features:Be}));Be.length?(Y.setHTML(Ie),Y.setLngLat(se.lngLat),Y.addTo(B)):Y.remove()}),()=>{B.remove()}},[]),j.exports.useEffect(()=>{(async()=>{if(C.current){let B=C.current,Y=await e.file.getHeader();if(B.fitBounds([[Y.minLon,Y.minLat],[Y.maxLon,Y.maxLat]],{animate:!1}),Y.tileType===Jl.Png||Y.tileType===Jl.Webp||Y.tileType==Jl.Jpeg){let se=await qV(e.file);B.setStyle(se)}else{let{style:se,layersVisibility:oe}=await ZV(e.file);B.setStyle(se),b(oe)}}})()},[]),kt($V,{ref:t,children:[Oe("div",{ref:t}),Oe(NV,{onClick:N,children:"menu"}),n?kt(jV,{children:[Oe("h4",{children:"Filter"}),Oe("h4",{children:"Popup"}),kt(Yg,{children:[Oe("input",{type:"checkbox",checked:s,onChange:W}),"show attributes"]}),Oe("h4",{children:"Tiles"}),kt(Yg,{children:[Oe("input",{type:"checkbox",checked:f,onChange:H}),"show tile boundaries"]}),Oe(WV,{layers:w,onChange:le})]}):null]})}function XV(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function KV(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var YV=function(){function e(n){var i=this;this._insertTag=function(s){var h;i.tags.length===0?i.insertionPoint?h=i.insertionPoint.nextSibling:i.prepend?h=i.container.firstChild:h=i.before:h=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,h),i.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(KV(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var h=XV(s);try{h.insertRule(i,h.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}(),ui="-ms-",Jg="-moz-",_n="-webkit-",eA="comm",Pw="rule",Iw="decl",JV="@import",tA="@keyframes",QV=Math.abs,Iy=String.fromCharCode,eN=Object.assign;function tN(e,t){return Xr(e,0)^45?(((t<<2^Xr(e,0))<<2^Xr(e,1))<<2^Xr(e,2))<<2^Xr(e,3):0}function nA(e){return e.trim()}function nN(e,t){return(e=t.exec(e))?e[0]:e}function bn(e,t,n){return e.replace(t,n)}function J1(e,t){return e.indexOf(t)}function Xr(e,t){return e.charCodeAt(t)|0}function bf(e,t,n){return e.slice(t,n)}function pa(e){return e.length}function Aw(e){return e.length}function wm(e,t){return t.push(e),e}function rN(e,t){return e.map(t).join("")}var Ay=1,Zc=1,rA=0,Xi=0,Sr=0,ah="";function My(e,t,n,i,s,h,f){return{value:e,root:t,parent:n,type:i,props:s,children:h,line:Ay,column:Zc,length:f,return:""}}function bd(e,t){return eN(My("",null,null,"",null,null,0),e,{length:-e.length},t)}function iN(){return Sr}function oN(){return Sr=Xi>0?Xr(ah,--Xi):0,Zc--,Sr===10&&(Zc=1,Ay--),Sr}function go(){return Sr=Xi<rA?Xr(ah,Xi++):0,Zc++,Sr===10&&(Zc=1,Ay++),Sr}function ba(){return Xr(ah,Xi)}function Ym(){return Xi}function $f(e,t){return bf(ah,e,t)}function Sf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iA(e){return Ay=Zc=1,rA=pa(ah=e),Xi=0,[]}function oA(e){return ah="",e}function Jm(e){return nA($f(Xi-1,Q1(e===91?e+2:e===40?e+1:e)))}function aN(e){for(;(Sr=ba())&&Sr<33;)go();return Sf(e)>2||Sf(Sr)>3?"":" "}function sN(e,t){for(;--t&&go()&&!(Sr<48||Sr>102||Sr>57&&Sr<65||Sr>70&&Sr<97););return $f(e,Ym()+(t<6&&ba()==32&&go()==32))}function Q1(e){for(;go();)switch(Sr){case e:return Xi;case 34:case 39:e!==34&&e!==39&&Q1(Sr);break;case 40:e===41&&Q1(e);break;case 92:go();break}return Xi}function lN(e,t){for(;go()&&e+Sr!==47+10;)if(e+Sr===42+42&&ba()===47)break;return"/*"+$f(t,Xi-1)+"*"+Iy(e===47?e:go())}function uN(e){for(;!Sf(ba());)go();return $f(e,Xi)}function cN(e){return oA(Qm("",null,null,null,[""],e=iA(e),0,[0],e))}function Qm(e,t,n,i,s,h,f,u,w){for(var b=0,C=0,M=f,T=0,N=0,W=0,H=1,le=1,V=1,B=0,Y="",se=s,oe=h,de=i,me=Y;le;)switch(W=B,B=go()){case 40:if(W!=108&&Xr(me,M-1)==58){J1(me+=bn(Jm(B),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:me+=Jm(B);break;case 9:case 10:case 13:case 32:me+=aN(W);break;case 92:me+=sN(Ym()-1,7);continue;case 47:switch(ba()){case 42:case 47:wm(hN(lN(go(),Ym()),t,n),w);break;default:me+="/"}break;case 123*H:u[b++]=pa(me)*V;case 125*H:case 59:case 0:switch(B){case 0:case 125:le=0;case 59+C:N>0&&pa(me)-M&&wm(N>32?jk(me+";",i,n,M-1):jk(bn(me," ","")+";",i,n,M-2),w);break;case 59:me+=";";default:if(wm(de=Nk(me,t,n,b,C,s,u,Y,se=[],oe=[],M),h),B===123)if(C===0)Qm(me,t,de,de,se,h,M,u,oe);else switch(T===99&&Xr(me,3)===110?100:T){case 100:case 109:case 115:Qm(e,de,de,i&&wm(Nk(e,de,de,0,0,s,u,Y,s,se=[],M),oe),s,oe,M,u,i?se:oe);break;default:Qm(me,de,de,de,[""],oe,0,u,oe)}}b=C=N=0,H=V=1,Y=me="",M=f;break;case 58:M=1+pa(me),N=W;default:if(H<1){if(B==123)--H;else if(B==125&&H++==0&&oN()==125)continue}switch(me+=Iy(B),B*H){case 38:V=C>0?1:(me+="\f",-1);break;case 44:u[b++]=(pa(me)-1)*V,V=1;break;case 64:ba()===45&&(me+=Jm(go())),T=ba(),C=M=pa(Y=me+=uN(Ym())),B++;break;case 45:W===45&&pa(me)==2&&(H=0)}}return h}function Nk(e,t,n,i,s,h,f,u,w,b,C){for(var M=s-1,T=s===0?h:[""],N=Aw(T),W=0,H=0,le=0;W<i;++W)for(var V=0,B=bf(e,M+1,M=QV(H=f[W])),Y=e;V<N;++V)(Y=nA(H>0?T[V]+" "+B:bn(B,/&\f/g,T[V])))&&(w[le++]=Y);return My(e,t,n,s===0?Pw:u,w,b,C)}function hN(e,t,n){return My(e,t,n,eA,Iy(iN()),bf(e,2,-2),0)}function jk(e,t,n,i){return My(e,t,n,Iw,bf(e,0,i),bf(e,i+1,-1),i)}function Lc(e,t){for(var n="",i=Aw(e),s=0;s<i;s++)n+=t(e[s],s,e,t)||"";return n}function dN(e,t,n,i){switch(e.type){case JV:case Iw:return e.return=e.return||e.value;case eA:return"";case tA:return e.return=e.value+"{"+Lc(e.children,i)+"}";case Pw:e.value=e.props.join(",")}return pa(n=Lc(e.children,i))?e.return=e.value+"{"+n+"}":""}function fN(e){var t=Aw(e);return function(n,i,s,h){for(var f="",u=0;u<t;u++)f+=e[u](n,i,s,h)||"";return f}}function pN(e){return function(t){t.root||(t=t.return)&&e(t)}}function aA(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var mN=function(t,n,i){for(var s=0,h=0;s=h,h=ba(),s===38&&h===12&&(n[i]=1),!Sf(h);)go();return $f(t,Xi)},gN=function(t,n){var i=-1,s=44;do switch(Sf(s)){case 0:s===38&&ba()===12&&(n[i]=1),t[i]+=mN(Xi-1,n,i);break;case 2:t[i]+=Jm(s);break;case 4:if(s===44){t[++i]=ba()===58?"&\f":"",n[i]=t[i].length;break}default:t[i]+=Iy(s)}while(s=go());return t},yN=function(t,n){return oA(gN(iA(t),n))},Uk=new WeakMap,_N=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Uk.get(i))&&!s){Uk.set(t,!0);for(var h=[],f=yN(n,h),u=i.props,w=0,b=0;w<f.length;w++)for(var C=0;C<u.length;C++,b++)t.props[b]=h[w]?f[w].replace(/&\f/g,u[C]):u[C]+" "+f[w]}}},vN=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function sA(e,t){switch(tN(e,t)){case 5103:return _n+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _n+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _n+e+Jg+e+ui+e+e;case 6828:case 4268:return _n+e+ui+e+e;case 6165:return _n+e+ui+"flex-"+e+e;case 5187:return _n+e+bn(e,/(\w+).+(:[^]+)/,_n+"box-$1$2"+ui+"flex-$1$2")+e;case 5443:return _n+e+ui+"flex-item-"+bn(e,/flex-|-self/,"")+e;case 4675:return _n+e+ui+"flex-line-pack"+bn(e,/align-content|flex-|-self/,"")+e;case 5548:return _n+e+ui+bn(e,"shrink","negative")+e;case 5292:return _n+e+ui+bn(e,"basis","preferred-size")+e;case 6060:return _n+"box-"+bn(e,"-grow","")+_n+e+ui+bn(e,"grow","positive")+e;case 4554:return _n+bn(e,/([^-])(transform)/g,"$1"+_n+"$2")+e;case 6187:return bn(bn(bn(e,/(zoom-|grab)/,_n+"$1"),/(image-set)/,_n+"$1"),e,"")+e;case 5495:case 3959:return bn(e,/(image-set\([^]*)/,_n+"$1$`$1");case 4968:return bn(bn(e,/(.+:)(flex-)?(.*)/,_n+"box-pack:$3"+ui+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_n+e+e;case 4095:case 3583:case 4068:case 2532:return bn(e,/(.+)-inline(.+)/,_n+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pa(e)-1-t>6)switch(Xr(e,t+1)){case 109:if(Xr(e,t+4)!==45)break;case 102:return bn(e,/(.+:)(.+)-([^]+)/,"$1"+_n+"$2-$3$1"+Jg+(Xr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~J1(e,"stretch")?sA(bn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Xr(e,t+1)!==115)break;case 6444:switch(Xr(e,pa(e)-3-(~J1(e,"!important")&&10))){case 107:return bn(e,":",":"+_n)+e;case 101:return bn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_n+(Xr(e,14)===45?"inline-":"")+"box$3$1"+_n+"$2$3$1"+ui+"$2box$3")+e}break;case 5936:switch(Xr(e,t+11)){case 114:return _n+e+ui+bn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _n+e+ui+bn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _n+e+ui+bn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _n+e+ui+e+e}return e}var xN=function(t,n,i,s){if(t.length>-1&&!t.return)switch(t.type){case Iw:t.return=sA(t.value,t.length);break;case tA:return Lc([bd(t,{value:bn(t.value,"@","@"+_n)})],s);case Pw:if(t.length)return rN(t.props,function(h){switch(nN(h,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lc([bd(t,{props:[bn(h,/:(read-\w+)/,":"+Jg+"$1")]})],s);case"::placeholder":return Lc([bd(t,{props:[bn(h,/:(plac\w+)/,":"+_n+"input-$1")]}),bd(t,{props:[bn(h,/:(plac\w+)/,":"+Jg+"$1")]}),bd(t,{props:[bn(h,/:(plac\w+)/,ui+"input-$1")]})],s)}return""})}},wN=[xN],bN=function(t){var n=t.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(H){var le=H.getAttribute("data-emotion");le.indexOf(" ")!==-1&&(document.head.appendChild(H),H.setAttribute("data-s",""))})}var s=t.stylisPlugins||wN,h={},f,u=[];f=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(H){for(var le=H.getAttribute("data-emotion").split(" "),V=1;V<le.length;V++)h[le[V]]=!0;u.push(H)});var w,b=[_N,vN];{var C,M=[dN,pN(function(H){C.insert(H)})],T=fN(b.concat(s,M)),N=function(le){return Lc(cN(le),T)};w=function(le,V,B,Y){C=B,N(le?le+"{"+V.styles+"}":V.styles),Y&&(W.inserted[V.name]=!0)}}var W={key:n,sheet:new YV({key:n,container:f,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:h,registered:{},insert:w};return W.sheet.hydrate(u),W},lA={exports:{}},En={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=typeof Symbol=="function"&&Symbol.for,Mw=Nr?Symbol.for("react.element"):60103,zw=Nr?Symbol.for("react.portal"):60106,zy=Nr?Symbol.for("react.fragment"):60107,Dy=Nr?Symbol.for("react.strict_mode"):60108,Ry=Nr?Symbol.for("react.profiler"):60114,Ly=Nr?Symbol.for("react.provider"):60109,Oy=Nr?Symbol.for("react.context"):60110,Dw=Nr?Symbol.for("react.async_mode"):60111,Fy=Nr?Symbol.for("react.concurrent_mode"):60111,$y=Nr?Symbol.for("react.forward_ref"):60112,By=Nr?Symbol.for("react.suspense"):60113,SN=Nr?Symbol.for("react.suspense_list"):60120,Vy=Nr?Symbol.for("react.memo"):60115,Ny=Nr?Symbol.for("react.lazy"):60116,EN=Nr?Symbol.for("react.block"):60121,kN=Nr?Symbol.for("react.fundamental"):60117,CN=Nr?Symbol.for("react.responder"):60118,TN=Nr?Symbol.for("react.scope"):60119;function bo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mw:switch(e=e.type,e){case Dw:case Fy:case zy:case Ry:case Dy:case By:return e;default:switch(e=e&&e.$$typeof,e){case Oy:case $y:case Ny:case Vy:case Ly:return e;default:return t}}case zw:return t}}}function uA(e){return bo(e)===Fy}En.AsyncMode=Dw;En.ConcurrentMode=Fy;En.ContextConsumer=Oy;En.ContextProvider=Ly;En.Element=Mw;En.ForwardRef=$y;En.Fragment=zy;En.Lazy=Ny;En.Memo=Vy;En.Portal=zw;En.Profiler=Ry;En.StrictMode=Dy;En.Suspense=By;En.isAsyncMode=function(e){return uA(e)||bo(e)===Dw};En.isConcurrentMode=uA;En.isContextConsumer=function(e){return bo(e)===Oy};En.isContextProvider=function(e){return bo(e)===Ly};En.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mw};En.isForwardRef=function(e){return bo(e)===$y};En.isFragment=function(e){return bo(e)===zy};En.isLazy=function(e){return bo(e)===Ny};En.isMemo=function(e){return bo(e)===Vy};En.isPortal=function(e){return bo(e)===zw};En.isProfiler=function(e){return bo(e)===Ry};En.isStrictMode=function(e){return bo(e)===Dy};En.isSuspense=function(e){return bo(e)===By};En.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zy||e===Fy||e===Ry||e===Dy||e===By||e===SN||typeof e=="object"&&e!==null&&(e.$$typeof===Ny||e.$$typeof===Vy||e.$$typeof===Ly||e.$$typeof===Oy||e.$$typeof===$y||e.$$typeof===kN||e.$$typeof===CN||e.$$typeof===TN||e.$$typeof===EN)};En.typeOf=bo;lA.exports=En;var cA=lA.exports,PN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},IN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hA={};hA[cA.ForwardRef]=PN;hA[cA.Memo]=IN;var AN=!0;function dA(e,t,n){var i="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):i+=s+" "}),i}var Rw=function(t,n,i){var s=t.key+"-"+n.name;(i===!1||AN===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},Lw=function(t,n,i){Rw(t,n,i);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var h=n;do t.insert(n===h?"."+s:"",h,t.sheet,!0),h=h.next;while(h!==void 0)}};function MN(e){for(var t=0,n,i=0,s=e.length;s>=4;++i,s-=4)n=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var zN={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},DN=/[A-Z]|^ms/g,RN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fA=function(t){return t.charCodeAt(1)===45},Gk=function(t){return t!=null&&typeof t!="boolean"},J_=aA(function(e){return fA(e)?e:e.replace(DN,"-$&").toLowerCase()}),Wk=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(RN,function(i,s,h){return ma={name:s,styles:h,next:ma},s})}return zN[t]!==1&&!fA(t)&&typeof n=="number"&&n!==0?n+"px":n};function Ef(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ma={name:n.name,styles:n.styles,next:ma},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)ma={name:i.name,styles:i.styles,next:ma},i=i.next;var s=n.styles+";";return s}return LN(e,t,n)}case"function":{if(e!==void 0){var h=ma,f=n(e);return ma=h,Ef(e,t,f)}break}}if(t==null)return n;var u=t[n];return u!==void 0?u:n}function LN(e,t,n){var i="";if(Array.isArray(n))for(var s=0;s<n.length;s++)i+=Ef(e,t,n[s])+";";else for(var h in n){var f=n[h];if(typeof f!="object")t!=null&&t[f]!==void 0?i+=h+"{"+t[f]+"}":Gk(f)&&(i+=J_(h)+":"+Wk(h,f)+";");else if(Array.isArray(f)&&typeof f[0]=="string"&&(t==null||t[f[0]]===void 0))for(var u=0;u<f.length;u++)Gk(f[u])&&(i+=J_(h)+":"+Wk(h,f[u])+";");else{var w=Ef(e,t,f);switch(h){case"animation":case"animationName":{i+=J_(h)+":"+w+";";break}default:i+=h+"{"+w+"}"}}}return i}var qk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ma,Ow=function(t,n,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,h="";ma=void 0;var f=t[0];f==null||f.raw===void 0?(s=!1,h+=Ef(i,n,f)):h+=f[0];for(var u=1;u<t.length;u++)h+=Ef(i,n,t[u]),s&&(h+=f[u]);qk.lastIndex=0;for(var w="",b;(b=qk.exec(h))!==null;)w+="-"+b[1];var C=MN(h)+w;return{name:C,styles:h,next:ma}},ON=function(t){return t()},pA=yv["useInsertionEffect"]?yv["useInsertionEffect"]:!1,mA=pA||ON,Zk=pA||j.exports.useLayoutEffect,jy={}.hasOwnProperty,gA=j.exports.createContext(typeof HTMLElement!="undefined"?bN({key:"css"}):null);gA.Provider;var Fw=function(t){return j.exports.forwardRef(function(n,i){var s=j.exports.useContext(gA);return t(n,s,i)})},Uy=j.exports.createContext({}),ex="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yA=function(t,n){var i={};for(var s in n)jy.call(n,s)&&(i[s]=n[s]);return i[ex]=t,i},FN=function(t){var n=t.cache,i=t.serialized,s=t.isStringTag;return Rw(n,i,s),mA(function(){return Lw(n,i,s)}),null},_A=Fw(function(e,t,n){var i=e.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var s=e[ex],h=[i],f="";typeof e.className=="string"?f=dA(t.registered,h,e.className):e.className!=null&&(f=e.className+" ");var u=Ow(h,void 0,j.exports.useContext(Uy));f+=t.key+"-"+u.name;var w={};for(var b in e)jy.call(e,b)&&b!=="css"&&b!==ex&&(w[b]=e[b]);return w.ref=n,w.className=f,j.exports.createElement(j.exports.Fragment,null,j.exports.createElement(FN,{cache:t,serialized:u,isStringTag:typeof s=="string"}),j.exports.createElement(s,w))}),ho=yf;function vt(e,t,n){return jy.call(t,"css")?Oe(_A,yA(e,t),n):Oe(e,t,n)}function Ti(e,t,n){return jy.call(t,"css")?kt(_A,yA(e,t),n):kt(e,t,n)}const $N={black:"#000",white:"#fff"};var kf=$N;const BN={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var oc=BN;const VN={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var ac=VN;const NN={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var sc=NN;const jN={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var lc=jN;const UN={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var uc=UN;const GN={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var Sd=GN;const WN={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var qN=WN;function hi(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,h;for(h=0;h<i.length;h++)s=i[h],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var ZN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HN=aA(function(e){return ZN.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),XN=Fw(function(e,t){var n=e.styles,i=Ow([n],void 0,j.exports.useContext(Uy)),s=j.exports.useRef();return Zk(function(){var h=t.key+"-global",f=new t.sheet.constructor({key:h,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),u=!1,w=document.querySelector('style[data-emotion="'+h+" "+i.name+'"]');return t.sheet.tags.length&&(f.before=t.sheet.tags[0]),w!==null&&(u=!0,w.setAttribute("data-emotion",h),f.hydrate([w])),s.current=[f,u],function(){f.flush()}},[t]),Zk(function(){var h=s.current,f=h[0],u=h[1];if(u){h[1]=!1;return}if(i.next!==void 0&&Lw(t,i.next,!0),f.tags.length){var w=f.tags[f.tags.length-1].nextElementSibling;f.before=w,f.flush()}t.insert("",i,f,!1)},[t,i.name]),null}),KN=HN,YN=function(t){return t!=="theme"},Hk=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?KN:YN},Xk=function(t,n,i){var s;if(n){var h=n.shouldForwardProp;s=t.__emotion_forwardProp&&h?function(f){return t.__emotion_forwardProp(f)&&h(f)}:h}return typeof s!="function"&&i&&(s=t.__emotion_forwardProp),s},JN=function(t){var n=t.cache,i=t.serialized,s=t.isStringTag;return Rw(n,i,s),mA(function(){return Lw(n,i,s)}),null},QN=function e(t,n){var i=t.__emotion_real===t,s=i&&t.__emotion_base||t,h,f;n!==void 0&&(h=n.label,f=n.target);var u=Xk(t,n,i),w=u||Hk(s),b=!w("as");return function(){var C=arguments,M=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(h!==void 0&&M.push("label:"+h+";"),C[0]==null||C[0].raw===void 0)M.push.apply(M,C);else{M.push(C[0][0]);for(var T=C.length,N=1;N<T;N++)M.push(C[N],C[0][N])}var W=Fw(function(H,le,V){var B=b&&H.as||s,Y="",se=[],oe=H;if(H.theme==null){oe={};for(var de in H)oe[de]=H[de];oe.theme=j.exports.useContext(Uy)}typeof H.className=="string"?Y=dA(le.registered,se,H.className):H.className!=null&&(Y=H.className+" ");var me=Ow(M.concat(se),le.registered,oe);Y+=le.key+"-"+me.name,f!==void 0&&(Y+=" "+f);var xe=b&&u===void 0?Hk(B):w,Be={};for(var Ie in H)b&&Ie==="as"||xe(Ie)&&(Be[Ie]=H[Ie]);return Be.className=Y,Be.ref=V,j.exports.createElement(j.exports.Fragment,null,j.exports.createElement(JN,{cache:le,serialized:me,isStringTag:typeof B=="string"}),j.exports.createElement(B,Be))});return W.displayName=h!==void 0?h:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",W.defaultProps=t.defaultProps,W.__emotion_real=W,W.__emotion_base=s,W.__emotion_styles=M,W.__emotion_forwardProp=u,Object.defineProperty(W,"toString",{value:function(){return"."+f}}),W.withComponent=function(H,le){return e(H,We({},n,le,{shouldForwardProp:Xk(W,le,!0)})).apply(void 0,M)},W}},e9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],tx=QN.bind();e9.forEach(function(e){tx[e]=tx(e)});var t9=tx;function n9(e){return e==null||Object.keys(e).length===0}function r9(e){const{styles:t,defaultTheme:n={}}=e;return Oe(XN,{styles:typeof t=="function"?s=>t(n9(s)?n:s):t})}/** @license MUI v5.10.16
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function vA(e,t){return t9(e,t)}const i9=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function Ld(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function es(e,t,n={clone:!0}){const i=n.clone?We({},e):e;return Ld(e)&&Ld(t)&&Object.keys(t).forEach(s=>{s!=="__proto__"&&(Ld(t[s])&&s in e&&Ld(e[s])?i[s]=es(e[s],t[s],n):i[s]=t[s])}),i}function au(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Sa(e){if(typeof e!="string")throw new Error(au(7));return e.charAt(0).toUpperCase()+e.slice(1)}function o9(e,t=166){let n;function i(...s){const h=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(h,t)}return i.clear=()=>{clearTimeout(n)},i}function a9(e){return e&&e.ownerDocument||document}function Kk(e){return a9(e).defaultView||window}function s9(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const l9=typeof window!="undefined"?j.exports.useLayoutEffect:j.exports.useEffect;var $w=l9;function xA(...e){return j.exports.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{s9(n,t)})},e)}function u9(e,t){const n=We({},t);return Object.keys(e).forEach(i=>{n[i]===void 0&&(n[i]=e[i])}),n}function Bw(e,t,n){const i={};return Object.keys(e).forEach(s=>{i[s]=e[s].reduce((h,f)=>(f&&(h.push(t(f)),n&&n[f]&&h.push(n[f])),h),[]).join(" ")}),i}const Yk=e=>e,c9=()=>{let e=Yk;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Yk}}},h9=c9();var wA=h9;const d9={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Gy(e,t,n="Mui"){const i=d9[t];return i?`${n}-${i}`:`${wA.generate(e)}-${t}`}function Vw(e,t,n="Mui"){const i={};return t.forEach(s=>{i[s]=Gy(e,s,n)}),i}function Xd(e,t){return t?es(e,t,{clone:!1}):e}const Nw={xs:0,sm:600,md:900,lg:1200,xl:1536},Jk={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Nw[e]}px)`};function sl(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const h=i.breakpoints||Jk;return t.reduce((f,u,w)=>(f[h.up(h.keys[w])]=n(t[w]),f),{})}if(typeof t=="object"){const h=i.breakpoints||Jk;return Object.keys(t).reduce((f,u)=>{if(Object.keys(h.values||Nw).indexOf(u)!==-1){const w=h.up(u);f[w]=n(t[u],u)}else{const w=u;f[w]=t[w]}return f},{})}return n(t)}function f9(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((i,s)=>{const h=e.up(s);return i[h]={},i},{}))||{}}function p9(e,t){return e.reduce((n,i)=>{const s=n[i];return(!s||Object.keys(s).length===0)&&delete n[i],n},t)}function jw(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const i=`vars.${t}`.split(".").reduce((s,h)=>s&&s[h]?s[h]:null,e);if(i!=null)return i}return t.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,e)}function Qk(e,t,n,i=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||i:s=jw(e,n)||i,t&&(s=t(s,i)),s}function yt(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:s}=e,h=f=>{if(f[t]==null)return null;const u=f[t],w=f.theme,b=jw(w,i)||{};return sl(f,u,M=>{let T=Qk(b,s,M);return M===T&&typeof M=="string"&&(T=Qk(b,s,`${t}${M==="default"?"":Sa(M)}`,M)),n===!1?T:{[n]:T}})};return h.propTypes={},h.filterProps=[t],h}function ll(...e){const t=e.reduce((i,s)=>(s.filterProps.forEach(h=>{i[h]=s}),i),{}),n=i=>Object.keys(i).reduce((s,h)=>t[h]?Xd(s,t[h](i)):s,{});return n.propTypes={},n.filterProps=e.reduce((i,s)=>i.concat(s.filterProps),[]),n}function m9(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const g9={m:"margin",p:"padding"},y9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_9=m9(e=>{if(e.length>2)if(eC[e])e=eC[e];else return[e];const[t,n]=e.split(""),i=g9[t],s=y9[n]||"";return Array.isArray(s)?s.map(h=>i+h):[i+s]}),v9=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],x9=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],bA=[...v9,...x9];function Bf(e,t,n,i){var s;const h=(s=jw(e,t,!1))!=null?s:n;return typeof h=="number"?f=>typeof f=="string"?f:h*f:Array.isArray(h)?f=>typeof f=="string"?f:h[f]:typeof h=="function"?h:()=>{}}function SA(e){return Bf(e,"spacing",8)}function Vf(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),i=e(n);return t>=0?i:typeof i=="number"?-i:`-${i}`}function w9(e,t){return n=>e.reduce((i,s)=>(i[s]=Vf(t,n),i),{})}function b9(e,t,n,i){if(t.indexOf(n)===-1)return null;const s=_9(n),h=w9(s,i),f=e[n];return sl(e,f,h)}function S9(e,t){const n=SA(e.theme);return Object.keys(e).map(i=>b9(e,t,i,n)).reduce(Xd,{})}function Wy(e){return S9(e,bA)}Wy.propTypes={};Wy.filterProps=bA;function Nf(e){return typeof e!="number"?e:`${e}px solid`}const E9=yt({prop:"border",themeKey:"borders",transform:Nf}),k9=yt({prop:"borderTop",themeKey:"borders",transform:Nf}),C9=yt({prop:"borderRight",themeKey:"borders",transform:Nf}),T9=yt({prop:"borderBottom",themeKey:"borders",transform:Nf}),P9=yt({prop:"borderLeft",themeKey:"borders",transform:Nf}),I9=yt({prop:"borderColor",themeKey:"palette"}),A9=yt({prop:"borderTopColor",themeKey:"palette"}),M9=yt({prop:"borderRightColor",themeKey:"palette"}),z9=yt({prop:"borderBottomColor",themeKey:"palette"}),D9=yt({prop:"borderLeftColor",themeKey:"palette"}),Uw=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Bf(e.theme,"shape.borderRadius",4),n=i=>({borderRadius:Vf(t,i)});return sl(e,e.borderRadius,n)}return null};Uw.propTypes={};Uw.filterProps=["borderRadius"];const R9=ll(E9,k9,C9,T9,P9,I9,A9,M9,z9,D9,Uw);var EA=R9;const L9=yt({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),O9=yt({prop:"display"}),F9=yt({prop:"overflow"}),$9=yt({prop:"textOverflow"}),B9=yt({prop:"visibility"}),V9=yt({prop:"whiteSpace"});var kA=ll(L9,O9,F9,$9,B9,V9);const N9=yt({prop:"flexBasis"}),j9=yt({prop:"flexDirection"}),U9=yt({prop:"flexWrap"}),G9=yt({prop:"justifyContent"}),W9=yt({prop:"alignItems"}),q9=yt({prop:"alignContent"}),Z9=yt({prop:"order"}),H9=yt({prop:"flex"}),X9=yt({prop:"flexGrow"}),K9=yt({prop:"flexShrink"}),Y9=yt({prop:"alignSelf"}),J9=yt({prop:"justifyItems"}),Q9=yt({prop:"justifySelf"}),e7=ll(N9,j9,U9,G9,W9,q9,Z9,H9,X9,K9,Y9,J9,Q9);var CA=e7;const Gw=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Bf(e.theme,"spacing",8),n=i=>({gap:Vf(t,i)});return sl(e,e.gap,n)}return null};Gw.propTypes={};Gw.filterProps=["gap"];const Ww=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Bf(e.theme,"spacing",8),n=i=>({columnGap:Vf(t,i)});return sl(e,e.columnGap,n)}return null};Ww.propTypes={};Ww.filterProps=["columnGap"];const qw=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Bf(e.theme,"spacing",8),n=i=>({rowGap:Vf(t,i)});return sl(e,e.rowGap,n)}return null};qw.propTypes={};qw.filterProps=["rowGap"];const t7=yt({prop:"gridColumn"}),n7=yt({prop:"gridRow"}),r7=yt({prop:"gridAutoFlow"}),i7=yt({prop:"gridAutoColumns"}),o7=yt({prop:"gridAutoRows"}),a7=yt({prop:"gridTemplateColumns"}),s7=yt({prop:"gridTemplateRows"}),l7=yt({prop:"gridTemplateAreas"}),u7=yt({prop:"gridArea"}),c7=ll(Gw,Ww,qw,t7,n7,r7,i7,o7,a7,s7,l7,u7);var TA=c7;function Zw(e,t){return t==="grey"?t:e}const h7=yt({prop:"color",themeKey:"palette",transform:Zw}),d7=yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Zw}),f7=yt({prop:"backgroundColor",themeKey:"palette",transform:Zw}),p7=ll(h7,d7,f7);var PA=p7;const m7=yt({prop:"position"}),g7=yt({prop:"zIndex",themeKey:"zIndex"}),y7=yt({prop:"top"}),_7=yt({prop:"right"}),v7=yt({prop:"bottom"}),x7=yt({prop:"left"});var IA=ll(m7,g7,y7,_7,v7,x7);const w7=yt({prop:"boxShadow",themeKey:"shadows"});var AA=w7;function ul(e){return e<=1&&e!==0?`${e*100}%`:e}const b7=yt({prop:"width",transform:ul}),MA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,h;return{maxWidth:((i=e.theme)==null||(s=i.breakpoints)==null||(h=s.values)==null?void 0:h[n])||Nw[n]||ul(n)}};return sl(e,e.maxWidth,t)}return null};MA.filterProps=["maxWidth"];const S7=yt({prop:"minWidth",transform:ul}),E7=yt({prop:"height",transform:ul}),k7=yt({prop:"maxHeight",transform:ul}),C7=yt({prop:"minHeight",transform:ul});yt({prop:"size",cssProperty:"width",transform:ul});yt({prop:"size",cssProperty:"height",transform:ul});const T7=yt({prop:"boxSizing"}),P7=ll(b7,MA,S7,E7,k7,C7,T7);var zA=P7;const I7=yt({prop:"fontFamily",themeKey:"typography"}),A7=yt({prop:"fontSize",themeKey:"typography"}),M7=yt({prop:"fontStyle",themeKey:"typography"}),z7=yt({prop:"fontWeight",themeKey:"typography"}),D7=yt({prop:"letterSpacing"}),R7=yt({prop:"textTransform"}),L7=yt({prop:"lineHeight"}),O7=yt({prop:"textAlign"}),F7=yt({prop:"typography",cssProperty:!1,themeKey:"typography"}),$7=ll(F7,I7,A7,M7,z7,D7,L7,O7,R7);var DA=$7;const tC={borders:EA.filterProps,display:kA.filterProps,flexbox:CA.filterProps,grid:TA.filterProps,positions:IA.filterProps,palette:PA.filterProps,shadows:AA.filterProps,sizing:zA.filterProps,spacing:Wy.filterProps,typography:DA.filterProps},RA={borders:EA,display:kA,flexbox:CA,grid:TA,positions:IA,palette:PA,shadows:AA,sizing:zA,spacing:Wy,typography:DA},B7=Object.keys(tC).reduce((e,t)=>(tC[t].forEach(n=>{e[n]=RA[t]}),e),{});function V7(...e){const t=e.reduce((i,s)=>i.concat(Object.keys(s)),[]),n=new Set(t);return e.every(i=>n.size===Object.keys(i).length)}function N7(e,t){return typeof e=="function"?e(t):e}function j7(e=RA){const t=Object.keys(e).reduce((s,h)=>(e[h].filterProps.forEach(f=>{s[f]=e[h]}),s),{});function n(s,h,f){const u={[s]:h,theme:f},w=t[s];return w?w(u):{[s]:h}}function i(s){const{sx:h,theme:f={}}=s||{};if(!h)return null;function u(w){let b=w;if(typeof w=="function")b=w(f);else if(typeof w!="object")return w;if(!b)return null;const C=f9(f.breakpoints),M=Object.keys(C);let T=C;return Object.keys(b).forEach(N=>{const W=N7(b[N],f);if(W!=null)if(typeof W=="object")if(t[N])T=Xd(T,n(N,W,f));else{const H=sl({theme:f},W,le=>({[N]:le}));V7(H,W)?T[N]=i({sx:W,theme:f}):T=Xd(T,H)}else T=Xd(T,n(N,W,f))}),p9(M,T)}return Array.isArray(h)?h.map(u):u(h)}return i}const LA=j7();LA.filterProps=["sx"];var OA=LA;const U7=["sx"],G7=e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach(n=>{B7[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function W7(e){const{sx:t}=e,n=hi(e,U7),{systemProps:i,otherProps:s}=G7(n);let h;return Array.isArray(t)?h=[i,...t]:typeof t=="function"?h=(...f)=>{const u=t(...f);return Ld(u)?We({},i,u):i}:h=We({},i,t),We({},s,{sx:h})}function FA(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=FA(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function Cf(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=FA(e))&&(i&&(i+=" "),i+=t);return i}const q7=["values","unit","step"],Z7=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,i)=>n.val-i.val),t.reduce((n,i)=>We({},n,{[i.key]:i.val}),{})};function H7(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=e,s=hi(e,q7),h=Z7(t),f=Object.keys(h);function u(T){return`@media (min-width:${typeof t[T]=="number"?t[T]:T}${n})`}function w(T){return`@media (max-width:${(typeof t[T]=="number"?t[T]:T)-i/100}${n})`}function b(T,N){const W=f.indexOf(N);return`@media (min-width:${typeof t[T]=="number"?t[T]:T}${n}) and (max-width:${(W!==-1&&typeof t[f[W]]=="number"?t[f[W]]:N)-i/100}${n})`}function C(T){return f.indexOf(T)+1<f.length?b(T,f[f.indexOf(T)+1]):u(T)}function M(T){const N=f.indexOf(T);return N===0?u(f[1]):N===f.length-1?w(f[N]):b(T,f[f.indexOf(T)+1]).replace("@media","@media not all and")}return We({keys:f,values:h,up:u,down:w,between:b,only:C,not:M,unit:n},s)}const X7={borderRadius:4};var K7=X7;function Y7(e=8){if(e.mui)return e;const t=SA({spacing:e}),n=(...i)=>(i.length===0?[1]:i).map(h=>{const f=t(h);return typeof f=="number"?`${f}px`:f}).join(" ");return n.mui=!0,n}const J7=["breakpoints","palette","spacing","shape"];function Hw(e={},...t){const{breakpoints:n={},palette:i={},spacing:s,shape:h={}}=e,f=hi(e,J7),u=H7(n),w=Y7(s);let b=es({breakpoints:u,direction:"ltr",components:{},palette:We({mode:"light"},i),spacing:w,shape:We({},K7,h)},f);return b=t.reduce((C,M)=>es(C,M),b),b}const Q7=j.exports.createContext(null);var $A=Q7;function BA(){return j.exports.useContext($A)}const ej=typeof Symbol=="function"&&Symbol.for;var tj=ej?Symbol.for("mui.nested"):"__THEME_NESTED__";function nj(e,t){return typeof t=="function"?t(e):We({},e,t)}function rj(e){const{children:t,theme:n}=e,i=BA(),s=j.exports.useMemo(()=>{const h=i===null?n:nj(i,n);return h!=null&&(h[tj]=i!==null),h},[n,i]);return Oe($A.Provider,{value:s,children:t})}function ij(e){return Object.keys(e).length===0}function oj(e=null){const t=BA();return!t||ij(t)?e:t}const aj=Hw();function Xw(e=aj){return oj(e)}const sj=["className","component"];function lj(e={}){const{defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:i,styleFunctionSx:s=OA}=e,h=vA("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(s);return j.exports.forwardRef(function(w,b){const C=Xw(t),M=W7(w),{className:T,component:N="div"}=M,W=hi(M,sj);return Oe(h,We({as:N,ref:b,className:Cf(T,i?i(n):n),theme:C},W))})}const uj=["variant"];function nC(e){return e.length===0}function VA(e){const{variant:t}=e,n=hi(e,uj);let i=t||"";return Object.keys(n).sort().forEach(s=>{s==="color"?i+=nC(i)?e[s]:Sa(e[s]):i+=`${nC(i)?s:Sa(s)}${Sa(e[s].toString())}`}),i}const cj=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],hj=["theme"],dj=["theme"];function Ed(e){return Object.keys(e).length===0}function fj(e){return typeof e=="string"&&e.charCodeAt(0)>96}const pj=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,mj=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const i={};return n.forEach(s=>{const h=VA(s.props);i[h]=s.style}),i},gj=(e,t,n,i)=>{var s,h;const{ownerState:f={}}=e,u=[],w=n==null||(s=n.components)==null||(h=s[i])==null?void 0:h.variants;return w&&w.forEach(b=>{let C=!0;Object.keys(b.props).forEach(M=>{f[M]!==b.props[M]&&e[M]!==b.props[M]&&(C=!1)}),C&&u.push(t[VA(b.props)])}),u};function eg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const yj=Hw();function _j(e={}){const{defaultTheme:t=yj,rootShouldForwardProp:n=eg,slotShouldForwardProp:i=eg,styleFunctionSx:s=OA}=e,h=f=>{const u=Ed(f.theme)?t:f.theme;return s(We({},f,{theme:u}))};return h.__mui_systemSx=!0,(f,u={})=>{i9(f,se=>se.filter(oe=>!(oe!=null&&oe.__mui_systemSx)));const{name:w,slot:b,skipVariantsResolver:C,skipSx:M,overridesResolver:T}=u,N=hi(u,cj),W=C!==void 0?C:b&&b!=="Root"||!1,H=M||!1;let le,V=eg;b==="Root"?V=n:b?V=i:fj(f)&&(V=void 0);const B=vA(f,We({shouldForwardProp:V,label:le},N)),Y=(se,...oe)=>{const de=oe?oe.map(Ie=>typeof Ie=="function"&&Ie.__emotion_real!==Ie?Qe=>{let{theme:Tt}=Qe,Ct=hi(Qe,hj);return Ie(We({theme:Ed(Tt)?t:Tt},Ct))}:Ie):[];let me=se;w&&T&&de.push(Ie=>{const Qe=Ed(Ie.theme)?t:Ie.theme,Tt=pj(w,Qe);if(Tt){const Ct={};return Object.entries(Tt).forEach(([Et,jt])=>{Ct[Et]=typeof jt=="function"?jt(We({},Ie,{theme:Qe})):jt}),T(Ie,Ct)}return null}),w&&!W&&de.push(Ie=>{const Qe=Ed(Ie.theme)?t:Ie.theme;return gj(Ie,mj(w,Qe),Qe,w)}),H||de.push(h);const xe=de.length-oe.length;if(Array.isArray(se)&&xe>0){const Ie=new Array(xe).fill("");me=[...se,...Ie],me.raw=[...se.raw,...Ie]}else typeof se=="function"&&se.__emotion_real!==se&&(me=Ie=>{let{theme:Qe}=Ie,Tt=hi(Ie,dj);return se(We({theme:Ed(Qe)?t:Qe},Tt))});return B(me,...de)};return B.withConfig&&(Y.withConfig=B.withConfig),Y}}function vj(e){const{theme:t,name:n,props:i}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?i:u9(t.components[n].defaultProps,i)}function xj({props:e,name:t,defaultTheme:n}){const i=Xw(n);return vj({theme:i,name:t,props:e})}function Kw(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function wj(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function su(e){if(e.type)return e;if(e.charAt(0)==="#")return su(wj(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(au(9,e));let i=e.substring(t+1,e.length-1),s;if(n==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(au(10,s))}else i=i.split(",");return i=i.map(h=>parseFloat(h)),{type:n,values:i,colorSpace:s}}function qy(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return t.indexOf("rgb")!==-1?i=i.map((s,h)=>h<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.indexOf("color")!==-1?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function bj(e){e=su(e);const{values:t}=e,n=t[0],i=t[1]/100,s=t[2]/100,h=i*Math.min(s,1-s),f=(b,C=(b+n/30)%12)=>s-h*Math.max(Math.min(C-3,9-C,1),-1);let u="rgb";const w=[Math.round(f(0)*255),Math.round(f(8)*255),Math.round(f(4)*255)];return e.type==="hsla"&&(u+="a",w.push(t[3])),qy({type:u,values:w})}function rC(e){e=su(e);let t=e.type==="hsl"||e.type==="hsla"?su(bj(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Sj(e,t){const n=rC(e),i=rC(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function iC(e,t){return e=su(e),t=Kw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,qy(e)}function Ej(e,t){if(e=su(e),t=Kw(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return qy(e)}function kj(e,t){if(e=su(e),t=Kw(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return qy(e)}const Cj={};function Tj(e){const t=Xw();return Oe(Uy.Provider,{value:typeof t=="object"?t:Cj,children:e.children})}function Pj(e){const{children:t,theme:n}=e;return Oe(rj,{theme:n,children:Oe(Tj,{children:t})})}function Ij(e,t){return We({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Aj=["mode","contrastThreshold","tonalOffset"],oC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:kf.white,default:kf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Q_={text:{primary:kf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:kf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function aC(e,t,n,i){const s=i.light||i,h=i.dark||i*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=kj(e.main,s):t==="dark"&&(e.dark=Ej(e.main,h)))}function Mj(e="light"){return e==="dark"?{main:sc[200],light:sc[50],dark:sc[400]}:{main:sc[700],light:sc[400],dark:sc[800]}}function zj(e="light"){return e==="dark"?{main:ac[200],light:ac[50],dark:ac[400]}:{main:ac[500],light:ac[300],dark:ac[700]}}function Dj(e="light"){return e==="dark"?{main:oc[500],light:oc[300],dark:oc[700]}:{main:oc[700],light:oc[400],dark:oc[800]}}function Rj(e="light"){return e==="dark"?{main:lc[400],light:lc[300],dark:lc[700]}:{main:lc[700],light:lc[500],dark:lc[900]}}function Lj(e="light"){return e==="dark"?{main:uc[400],light:uc[300],dark:uc[700]}:{main:uc[800],light:uc[500],dark:uc[900]}}function Oj(e="light"){return e==="dark"?{main:Sd[400],light:Sd[300],dark:Sd[700]}:{main:"#ed6c02",light:Sd[500],dark:Sd[900]}}function Fj(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,s=hi(e,Aj),h=e.primary||Mj(t),f=e.secondary||zj(t),u=e.error||Dj(t),w=e.info||Rj(t),b=e.success||Lj(t),C=e.warning||Oj(t);function M(H){return Sj(H,Q_.text.primary)>=n?Q_.text.primary:oC.text.primary}const T=({color:H,name:le,mainShade:V=500,lightShade:B=300,darkShade:Y=700})=>{if(H=We({},H),!H.main&&H[V]&&(H.main=H[V]),!H.hasOwnProperty("main"))throw new Error(au(11,le?` (${le})`:"",V));if(typeof H.main!="string")throw new Error(au(12,le?` (${le})`:"",JSON.stringify(H.main)));return aC(H,"light",B,i),aC(H,"dark",Y,i),H.contrastText||(H.contrastText=M(H.main)),H},N={dark:Q_,light:oC};return es(We({common:We({},kf),mode:t,primary:T({color:h,name:"primary"}),secondary:T({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:u,name:"error"}),warning:T({color:C,name:"warning"}),info:T({color:w,name:"info"}),success:T({color:b,name:"success"}),grey:qN,contrastThreshold:n,getContrastText:M,augmentColor:T,tonalOffset:i},N[t]),s)}const $j=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Bj(e){return Math.round(e*1e5)/1e5}const sC={textTransform:"uppercase"},lC='"Roboto", "Helvetica", "Arial", sans-serif';function Vj(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:i=lC,fontSize:s=14,fontWeightLight:h=300,fontWeightRegular:f=400,fontWeightMedium:u=500,fontWeightBold:w=700,htmlFontSize:b=16,allVariants:C,pxToRem:M}=n,T=hi(n,$j),N=s/14,W=M||(V=>`${V/b*N}rem`),H=(V,B,Y,se,oe)=>We({fontFamily:i,fontWeight:V,fontSize:W(B),lineHeight:Y},i===lC?{letterSpacing:`${Bj(se/B)}em`}:{},oe,C),le={h1:H(h,96,1.167,-1.5),h2:H(h,60,1.2,-.5),h3:H(f,48,1.167,0),h4:H(f,34,1.235,.25),h5:H(f,24,1.334,0),h6:H(u,20,1.6,.15),subtitle1:H(f,16,1.75,.15),subtitle2:H(u,14,1.57,.1),body1:H(f,16,1.5,.15),body2:H(f,14,1.43,.15),button:H(u,14,1.75,.4,sC),caption:H(f,12,1.66,.4),overline:H(f,12,2.66,1,sC)};return es(We({htmlFontSize:b,pxToRem:W,fontFamily:i,fontSize:s,fontWeightLight:h,fontWeightRegular:f,fontWeightMedium:u,fontWeightBold:w},le),T,{clone:!1})}const Nj=.2,jj=.14,Uj=.12;function Xn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Nj})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${jj})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Uj})`].join(",")}const Gj=["none",Xn(0,2,1,-1,0,1,1,0,0,1,3,0),Xn(0,3,1,-2,0,2,2,0,0,1,5,0),Xn(0,3,3,-2,0,3,4,0,0,1,8,0),Xn(0,2,4,-1,0,4,5,0,0,1,10,0),Xn(0,3,5,-1,0,5,8,0,0,1,14,0),Xn(0,3,5,-1,0,6,10,0,0,1,18,0),Xn(0,4,5,-2,0,7,10,1,0,2,16,1),Xn(0,5,5,-3,0,8,10,1,0,3,14,2),Xn(0,5,6,-3,0,9,12,1,0,3,16,2),Xn(0,6,6,-3,0,10,14,1,0,4,18,3),Xn(0,6,7,-4,0,11,15,1,0,4,20,3),Xn(0,7,8,-4,0,12,17,2,0,5,22,4),Xn(0,7,8,-4,0,13,19,2,0,5,24,4),Xn(0,7,9,-4,0,14,21,2,0,5,26,4),Xn(0,8,9,-5,0,15,22,2,0,6,28,5),Xn(0,8,10,-5,0,16,24,2,0,6,30,5),Xn(0,8,11,-5,0,17,26,2,0,6,32,5),Xn(0,9,11,-5,0,18,28,2,0,7,34,6),Xn(0,9,12,-6,0,19,29,2,0,7,36,6),Xn(0,10,13,-6,0,20,31,3,0,8,38,7),Xn(0,10,13,-6,0,21,33,3,0,8,40,7),Xn(0,10,14,-6,0,22,35,3,0,8,42,7),Xn(0,11,14,-7,0,23,36,3,0,9,44,8),Xn(0,11,15,-7,0,24,38,3,0,9,46,8)];var Wj=Gj;const qj=["duration","easing","delay"],Zj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Hj={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uC(e){return`${Math.round(e)}ms`}function Xj(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Kj(e){const t=We({},Zj,e.easing),n=We({},Hj,e.duration);return We({getAutoHeightDuration:Xj,create:(s=["all"],h={})=>{const{duration:f=n.standard,easing:u=t.easeInOut,delay:w=0}=h;return hi(h,qj),(Array.isArray(s)?s:[s]).map(b=>`${b} ${typeof f=="string"?f:uC(f)} ${u} ${typeof w=="string"?w:uC(w)}`).join(",")}},e,{easing:t,duration:n})}const Yj={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var Jj=Yj;const Qj=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Yw(e={},...t){const{mixins:n={},palette:i={},transitions:s={},typography:h={}}=e,f=hi(e,Qj);if(e.vars)throw new Error(au(18));const u=Fj(i),w=Hw(e);let b=es(w,{mixins:Ij(w.breakpoints,n),palette:u,shadows:Wj.slice(),typography:Vj(u,h),transitions:Kj(s),zIndex:We({},Jj)});return b=es(b,f),b=t.reduce((C,M)=>es(C,M),b),b}const eU=Yw();var Jw=eU;function Qw({props:e,name:t}){return xj({props:e,name:t,defaultTheme:Jw})}const tU=e=>eg(e)&&e!=="classes",nU=_j({defaultTheme:Jw,rootShouldForwardProp:tU});var sh=nU;const rU=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var cC=rU;function hC(e){return typeof e=="string"}function eb(e){const{children:t,defer:n=!1,fallback:i=null}=e,[s,h]=j.exports.useState(!1);return $w(()=>{n||h(!0)},[n]),j.exports.useEffect(()=>{n&&h(!0)},[n]),Oe(j.exports.Fragment,{children:s?t:i})}const iU=["onChange","maxRows","minRows","style","value"];function bm(e,t){return parseInt(e[t],10)||0}const oU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dC(e){return e==null||Object.keys(e).length===0}const aU=j.exports.forwardRef(function(t,n){const{onChange:i,maxRows:s,minRows:h=1,style:f,value:u}=t,w=hi(t,iU),{current:b}=j.exports.useRef(u!=null),C=j.exports.useRef(null),M=xA(n,C),T=j.exports.useRef(null),N=j.exports.useRef(0),[W,H]=j.exports.useState({}),le=j.exports.useCallback(()=>{const oe=C.current,me=Kk(oe).getComputedStyle(oe);if(me.width==="0px")return{};const xe=T.current;xe.style.width=me.width,xe.value=oe.value||t.placeholder||"x",xe.value.slice(-1)===`
`&&(xe.value+=" ");const Be=me["box-sizing"],Ie=bm(me,"padding-bottom")+bm(me,"padding-top"),Qe=bm(me,"border-bottom-width")+bm(me,"border-top-width"),Tt=xe.scrollHeight;xe.value="x";const Ct=xe.scrollHeight;let Et=Tt;h&&(Et=Math.max(Number(h)*Ct,Et)),s&&(Et=Math.min(Number(s)*Ct,Et)),Et=Math.max(Et,Ct);const jt=Et+(Be==="border-box"?Ie+Qe:0),tt=Math.abs(Et-Tt)<=1;return{outerHeightStyle:jt,overflow:tt}},[s,h,t.placeholder]),V=(oe,de)=>{const{outerHeightStyle:me,overflow:xe}=de;return N.current<20&&(me>0&&Math.abs((oe.outerHeightStyle||0)-me)>1||oe.overflow!==xe)?(N.current+=1,{overflow:xe,outerHeightStyle:me}):oe},B=j.exports.useCallback(()=>{const oe=le();dC(oe)||H(de=>V(de,oe))},[le]),Y=()=>{const oe=le();dC(oe)||Qg.exports.flushSync(()=>{H(de=>V(de,oe))})};j.exports.useEffect(()=>{const oe=o9(()=>{N.current=0,C.current&&Y()}),de=Kk(C.current);de.addEventListener("resize",oe);let me;return typeof ResizeObserver!="undefined"&&(me=new ResizeObserver(oe),me.observe(C.current)),()=>{oe.clear(),de.removeEventListener("resize",oe),me&&me.disconnect()}}),$w(()=>{B()}),j.exports.useEffect(()=>{N.current=0},[u]);const se=oe=>{N.current=0,b||B(),i&&i(oe)};return kt(j.exports.Fragment,{children:[Oe("textarea",We({value:u,onChange:se,ref:M,rows:h,style:We({height:W.outerHeightStyle,overflow:W.overflow?"hidden":null},f)},w)),Oe("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:T,tabIndex:-1,style:We({},oU.shadow,f,{padding:0})})]})});var sU=aU;function lU(e){return Gy("MuiSvgIcon",e)}Vw("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],cU=e=>{const{color:t,fontSize:n,classes:i}=e,s={root:["root",t!=="inherit"&&`color${Sa(t)}`,`fontSize${Sa(n)}`]};return Bw(s,lU,i)},hU=sh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Sa(n.color)}`],t[`fontSize${Sa(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,i,s,h,f,u,w,b,C,M,T,N,W,H,le,V,B;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(i=n.create)==null?void 0:i.call(n,"fill",{duration:(s=e.transitions)==null||(h=s.duration)==null?void 0:h.shorter}),fontSize:{inherit:"inherit",small:((f=e.typography)==null||(u=f.pxToRem)==null?void 0:u.call(f,20))||"1.25rem",medium:((w=e.typography)==null||(b=w.pxToRem)==null?void 0:b.call(w,24))||"1.5rem",large:((C=e.typography)==null||(M=C.pxToRem)==null?void 0:M.call(C,35))||"2.1875rem"}[t.fontSize],color:(T=(N=(e.vars||e).palette)==null||(W=N[t.color])==null?void 0:W.main)!=null?T:{action:(H=(e.vars||e).palette)==null||(le=H.action)==null?void 0:le.active,disabled:(V=(e.vars||e).palette)==null||(B=V.action)==null?void 0:B.disabled,inherit:void 0}[t.color]}}),NA=j.exports.forwardRef(function(t,n){const i=Qw({props:t,name:"MuiSvgIcon"}),{children:s,className:h,color:f="inherit",component:u="svg",fontSize:w="medium",htmlColor:b,inheritViewBox:C=!1,titleAccess:M,viewBox:T="0 0 24 24"}=i,N=hi(i,uU),W=We({},i,{color:f,component:u,fontSize:w,instanceFontSize:t.fontSize,inheritViewBox:C,viewBox:T}),H={};C||(H.viewBox=T);const le=cU(W);return kt(hU,We({as:u,className:Cf(le.root,h),focusable:"false",color:b,"aria-hidden":M?void 0:!0,role:M?"img":void 0,ref:n},H,N,{ownerState:W,children:[s,M?Oe("title",{children:M}):null]}))});NA.muiName="SvgIcon";var nx=NA;function lh(e,t){function n(i,s){return Oe(nx,We({"data-testid":`${t}Icon`,ref:s},i,{children:e}))}return n.muiName=nx.muiName,j.exports.memo(j.exports.forwardRef(n))}function dU(e){return Gy("MuiPaper",e)}Vw("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fU=["className","component","elevation","square","variant"],pU=e=>{const{square:t,elevation:n,variant:i,classes:s}=e,h={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${n}`]};return Bw(h,dU,s)},mU=sh("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return We({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&We({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${iC("#fff",cC(t.elevation))}, ${iC("#fff",cC(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),gU=j.exports.forwardRef(function(t,n){const i=Qw({props:t,name:"MuiPaper"}),{className:s,component:h="div",elevation:f=1,square:u=!1,variant:w="elevation"}=i,b=hi(i,fU),C=We({},i,{component:h,elevation:f,square:u,variant:w}),M=pU(C);return Oe(mU,We({as:h,ownerState:C,className:Cf(M.root,s),ref:n},b))});var yU=gU;function _U({props:e,states:t,muiFormControl:n}){return t.reduce((i,s)=>(i[s]=e[s],n&&typeof e[s]=="undefined"&&(i[s]=n[s]),i),{})}const vU=j.exports.createContext(void 0);var jA=vU;function xU(){return j.exports.useContext(jA)}function wU(e){return Oe(r9,We({},e,{defaultTheme:Jw}))}function fC(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function bU(e,t=!1){return e&&(fC(e.value)&&e.value!==""||t&&fC(e.defaultValue)&&e.defaultValue!=="")}function SU(e){return Gy("MuiInputBase",e)}const EU=Vw("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var rx=EU;const kU=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],CU=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Sa(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},TU=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},PU=e=>{const{classes:t,color:n,disabled:i,error:s,endAdornment:h,focused:f,formControl:u,fullWidth:w,hiddenLabel:b,multiline:C,readOnly:M,size:T,startAdornment:N,type:W}=e,H={root:["root",`color${Sa(n)}`,i&&"disabled",s&&"error",w&&"fullWidth",f&&"focused",u&&"formControl",T==="small"&&"sizeSmall",C&&"multiline",N&&"adornedStart",h&&"adornedEnd",b&&"hiddenLabel",M&&"readOnly"],input:["input",i&&"disabled",W==="search"&&"inputTypeSearch",C&&"inputMultiline",T==="small"&&"inputSizeSmall",b&&"inputHiddenLabel",N&&"inputAdornedStart",h&&"inputAdornedEnd",M&&"readOnly"]};return Bw(H,SU,t)},IU=sh("div",{name:"MuiInputBase",slot:"Root",overridesResolver:CU})(({theme:e,ownerState:t})=>We({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${rx.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&We({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),AU=sh("input",{name:"MuiInputBase",slot:"Input",overridesResolver:TU})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",i=We({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},h=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return We({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${rx.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":h,"&:focus::-moz-placeholder":h,"&:focus:-ms-input-placeholder":h,"&:focus::-ms-input-placeholder":h},[`&.${rx.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),MU=Oe(wU,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),zU=j.exports.forwardRef(function(t,n){var i;const s=Qw({props:t,name:"MuiInputBase"}),{"aria-describedby":h,autoComplete:f,autoFocus:u,className:w,components:b={},componentsProps:C={},defaultValue:M,disabled:T,disableInjectingGlobalStyles:N,endAdornment:W,fullWidth:H=!1,id:le,inputComponent:V="input",inputProps:B={},inputRef:Y,maxRows:se,minRows:oe,multiline:de=!1,name:me,onBlur:xe,onChange:Be,onClick:Ie,onFocus:Qe,onKeyDown:Tt,onKeyUp:Ct,placeholder:Et,readOnly:jt,renderSuffix:tt,rows:dn,slotProps:Ne={},slots:nt={},startAdornment:ut,type:Ft="text",value:ct}=s,mn=hi(s,kU),rn=B.value!=null?B.value:ct,{current:Jn}=j.exports.useRef(rn!=null),Ht=j.exports.useRef(),Gn=j.exports.useCallback(ve=>{},[]),kr=xA(Ht,Y,B.ref,Gn),[fi,pi]=j.exports.useState(!1),fn=xU(),Rn=_U({props:s,muiFormControl:fn,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Rn.focused=fn?fn.focused:fi,j.exports.useEffect(()=>{!fn&&T&&fi&&(pi(!1),xe&&xe())},[fn,T,fi,xe]);const Pn=fn&&fn.onFilled,jr=fn&&fn.onEmpty,ti=j.exports.useCallback(ve=>{bU(ve)?Pn&&Pn():jr&&jr()},[Pn,jr]);$w(()=>{Jn&&ti({value:rn})},[rn,ti,Jn]);const Oi=ve=>{if(Rn.disabled){ve.stopPropagation();return}Qe&&Qe(ve),B.onFocus&&B.onFocus(ve),fn&&fn.onFocus?fn.onFocus(ve):pi(!0)},fr=ve=>{xe&&xe(ve),B.onBlur&&B.onBlur(ve),fn&&fn.onBlur?fn.onBlur(ve):pi(!1)},So=(ve,...je)=>{if(!Jn){const Cr=ve.target||Ht.current;if(Cr==null)throw new Error(au(1));ti({value:Cr.value})}B.onChange&&B.onChange(ve,...je),Be&&Be(ve,...je)};j.exports.useEffect(()=>{ti(Ht.current)},[]);const Rr=ve=>{Ht.current&&ve.currentTarget===ve.target&&Ht.current.focus(),Ie&&Ie(ve)};let pr=V,Wn=B;de&&pr==="input"&&(dn?Wn=We({type:void 0,minRows:dn,maxRows:dn},Wn):Wn=We({type:void 0,maxRows:se,minRows:oe},Wn),pr=sU);const jo=ve=>{ti(ve.animationName==="mui-auto-fill-cancel"?Ht.current:{value:"x"})};j.exports.useEffect(()=>{fn&&fn.setAdornedStart(Boolean(ut))},[fn,ut]);const $t=We({},s,{color:Rn.color||"primary",disabled:Rn.disabled,endAdornment:W,error:Rn.error,focused:Rn.focused,formControl:fn,fullWidth:H,hiddenLabel:Rn.hiddenLabel,multiline:de,size:Rn.size,startAdornment:ut,type:Ft}),He=PU($t),xt=nt.root||b.Root||IU,on=Ne.root||C.root||{},kn=nt.input||b.Input||AU;return Wn=We({},Wn,(i=Ne.input)!=null?i:C.input),kt(j.exports.Fragment,{children:[!N&&MU,kt(xt,We({},on,!hC(xt)&&{ownerState:We({},$t,on.ownerState)},{ref:n,onClick:Rr},mn,{className:Cf(He.root,on.className,w),children:[ut,Oe(jA.Provider,{value:null,children:Oe(kn,We({ownerState:$t,"aria-invalid":Rn.error,"aria-describedby":h,autoComplete:f,autoFocus:u,defaultValue:M,disabled:Rn.disabled,id:le,onAnimationStart:jo,name:me,placeholder:Et,readOnly:jt,required:Rn.required,rows:dn,value:rn,onKeyDown:Tt,onKeyUp:Ct,type:Ft},Wn,!hC(kn)&&{as:pr,ownerState:We({},$t,Wn.ownerState)},{ref:kr,className:Cf(He.input,Wn.className),onBlur:fr,onChange:So,onFocus:Oi}))}),W,tt?tt(We({},Rn,{startAdornment:ut})):null]}))]})});var DU=zU;const RU=Yw(),LU=lj({defaultTheme:RU,defaultClassName:"MuiBox-root",generateClassName:wA.generate});var zr=LU,pC=lh(Oe("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),OU=lh(Oe("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),FU=lh(Oe("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),$U=lh(Oe("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy"),BU=lh(Oe("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),VU=lh(Oe("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const mC=e=>{let t;const n=new Set,i=(w,b)=>{const C=typeof w=="function"?w(t):w;if(!Object.is(C,t)){const M=t;t=(b!=null?b:typeof C!="object")?C:Object.assign({},t,C),n.forEach(T=>T(t,M))}},s=()=>t,u={setState:i,getState:s,subscribe:w=>(n.add(w),()=>n.delete(w)),destroy:()=>n.clear()};return t=e(i,s,u),u},NU=e=>e?mC(e):mC;var UA={exports:{}},GA={},WA={exports:{}},qA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=j.exports;function jU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UU=typeof Object.is=="function"?Object.is:jU,GU=Hc.useState,WU=Hc.useEffect,qU=Hc.useLayoutEffect,ZU=Hc.useDebugValue;function HU(e,t){var n=t(),i=GU({inst:{value:n,getSnapshot:t}}),s=i[0].inst,h=i[1];return qU(function(){s.value=n,s.getSnapshot=t,ev(s)&&h({inst:s})},[e,n,t]),WU(function(){return ev(s)&&h({inst:s}),e(function(){ev(s)&&h({inst:s})})},[e]),ZU(n),n}function ev(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!UU(e,n)}catch{return!0}}function XU(e,t){return t()}var KU=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?XU:HU;qA.useSyncExternalStore=Hc.useSyncExternalStore!==void 0?Hc.useSyncExternalStore:KU;WA.exports=qA;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=j.exports,YU=WA.exports;function JU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QU=typeof Object.is=="function"?Object.is:JU,eG=YU.useSyncExternalStore,tG=Zy.useRef,nG=Zy.useEffect,rG=Zy.useMemo,iG=Zy.useDebugValue;GA.useSyncExternalStoreWithSelector=function(e,t,n,i,s){var h=tG(null);if(h.current===null){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=rG(function(){function w(N){if(!b){if(b=!0,C=N,N=i(N),s!==void 0&&f.hasValue){var W=f.value;if(s(W,N))return M=W}return M=N}if(W=M,QU(C,N))return W;var H=i(N);return s!==void 0&&s(W,H)?W:(C=N,M=H)}var b=!1,C,M,T=n===void 0?null:n;return[function(){return w(t())},T===null?void 0:function(){return w(T())}]},[t,n,i,s]);var u=eG(e,h[0],h[1]);return nG(function(){f.hasValue=!0,f.value=u},[u]),iG(u),u};UA.exports=GA;var oG=UA.exports;const{useSyncExternalStoreWithSelector:aG}=oG;function ZA(e,t=e.getState,n){const i=aG(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return j.exports.useDebugValue(i),i}const gC=e=>{const t=typeof e=="function"?NU(e):e,n=(i,s)=>ZA(t,i,s);return Object.assign(n,t),n},HA=e=>e?gC(e):gC;function XA(){const e=j.exports.createContext(void 0);return{Provider:({createStore:s,children:h})=>{const f=j.exports.useRef();return f.current||(f.current=s()),j.exports.createElement(e.Provider,{value:f.current},h)},useStore:(s,h)=>{const f=j.exports.useContext(e);if(!f)throw new Error("Seems like you have not used zustand provider as an ancestor.");return ZA(f,s,h)},useStoreApi:()=>{const s=j.exports.useContext(e);if(!s)throw new Error("Seems like you have not used zustand provider as an ancestor.");return j.exports.useMemo(()=>({...s}),[s])}}}const KA=(e,t)=>(...n)=>Object.assign({},e,t(...n));var YA={},Hy={},tb={exports:{}},JA={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Kd,function(){var n=typeof Promise=="function",i=typeof self=="object"?self:Kd,s=typeof Symbol!="undefined",h=typeof Map!="undefined",f=typeof Set!="undefined",u=typeof WeakMap!="undefined",w=typeof WeakSet!="undefined",b=typeof DataView!="undefined",C=s&&typeof Symbol.iterator!="undefined",M=s&&typeof Symbol.toStringTag!="undefined",T=f&&typeof Set.prototype.entries=="function",N=h&&typeof Map.prototype.entries=="function",W=T&&Object.getPrototypeOf(new Set().entries()),H=N&&Object.getPrototypeOf(new Map().entries()),le=C&&typeof Array.prototype[Symbol.iterator]=="function",V=le&&Object.getPrototypeOf([][Symbol.iterator]()),B=C&&typeof String.prototype[Symbol.iterator]=="function",Y=B&&Object.getPrototypeOf(""[Symbol.iterator]()),se=8,oe=-1;function de(me){var xe=typeof me;if(xe!=="object")return xe;if(me===null)return"null";if(me===i)return"global";if(Array.isArray(me)&&(M===!1||!(Symbol.toStringTag in me)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&me===window.location)return"Location";if(typeof window.document=="object"&&me===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&me===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&me===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&me instanceof window.HTMLElement){if(me.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(me.tagName==="TD")return"HTMLTableDataCellElement";if(me.tagName==="TH")return"HTMLTableHeaderCellElement"}}var Be=M&&me[Symbol.toStringTag];if(typeof Be=="string")return Be;var Ie=Object.getPrototypeOf(me);return Ie===RegExp.prototype?"RegExp":Ie===Date.prototype?"Date":n&&Ie===Promise.prototype?"Promise":f&&Ie===Set.prototype?"Set":h&&Ie===Map.prototype?"Map":w&&Ie===WeakSet.prototype?"WeakSet":u&&Ie===WeakMap.prototype?"WeakMap":b&&Ie===DataView.prototype?"DataView":h&&Ie===H?"Map Iterator":f&&Ie===W?"Set Iterator":le&&Ie===V?"Array Iterator":B&&Ie===Y?"String Iterator":Ie===null?"Object":Object.prototype.toString.call(me).slice(se,oe)}return de})})(JA);/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var yC=JA.exports;function QA(){this._key="chai/deep-eql__"+Math.random()+Date.now()}QA.prototype={get:function(t){return t[this._key]},set:function(t,n){Object.isExtensible(t)&&Object.defineProperty(t,this._key,{value:n,configurable:!0})}};var nb=typeof WeakMap=="function"?WeakMap:QA;/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/function _C(e,t,n){if(!n||Xc(e)||Xc(t))return null;var i=n.get(e);if(i){var s=i.get(t);if(typeof s=="boolean")return s}return null}/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/function Sm(e,t,n,i){if(!(!n||Xc(e)||Xc(t))){var s=n.get(e);s?s.set(t,i):(s=new nb,s.set(t,i),n.set(e,s))}}/*!
 * Primary Export
 */tb.exports=Xy;tb.exports.MemoizeMap=nb;function Xy(e,t,n){if(n&&n.comparator)return vC(e,t,n);var i=eM(e,t);return i!==null?i:vC(e,t,n)}function eM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t?!0:Xc(e)||Xc(t)?!1:null}/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/function vC(e,t,n){n=n||{},n.memoize=n.memoize===!1?!1:n.memoize||new nb;var i=n&&n.comparator,s=_C(e,t,n.memoize);if(s!==null)return s;var h=_C(t,e,n.memoize);if(h!==null)return h;if(i){var f=i(e,t);if(f===!1||f===!0)return Sm(e,t,n.memoize,f),f;var u=eM(e,t);if(u!==null)return u}var w=yC(e);if(w!==yC(t))return Sm(e,t,n.memoize,!1),!1;Sm(e,t,n.memoize,!0);var b=sG(e,t,w,n);return Sm(e,t,n.memoize,b),b}function sG(e,t,n,i){switch(n){case"String":case"Number":case"Boolean":case"Date":return Xy(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return tM(e,t,["name","message","code"],i);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return eu(e,t,i);case"RegExp":return lG(e,t);case"Generator":return uG(e,t,i);case"DataView":return eu(new Uint8Array(e.buffer),new Uint8Array(t.buffer),i);case"ArrayBuffer":return eu(new Uint8Array(e),new Uint8Array(t),i);case"Set":return xC(e,t,i);case"Map":return xC(e,t,i);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return hG(e,t,i)}}/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */function lG(e,t){return e.toString()===t.toString()}/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function xC(e,t,n){if(e.size!==t.size)return!1;if(e.size===0)return!0;var i=[],s=[];return e.forEach(function(f,u){i.push([f,u])}),t.forEach(function(f,u){s.push([f,u])}),eu(i.sort(),s.sort(),n)}/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function eu(e,t,n){var i=e.length;if(i!==t.length)return!1;if(i===0)return!0;for(var s=-1;++s<i;)if(Xy(e[s],t[s],n)===!1)return!1;return!0}/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function uG(e,t,n){return eu(ix(e),ix(t),n)}/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */function cG(e){return typeof Symbol!="undefined"&&typeof e=="object"&&typeof Symbol.iterator!="undefined"&&typeof e[Symbol.iterator]=="function"}/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */function wC(e){if(cG(e))try{return ix(e[Symbol.iterator]())}catch{return[]}return[]}/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */function ix(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */function bC(e){var t=[];for(var n in e)t.push(n);return t}function SC(e){var t=Object.getOwnPropertySymbols(e);return t}/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function tM(e,t,n,i){var s=n.length;if(s===0)return!0;for(var h=0;h<s;h+=1)if(Xy(e[n[h]],t[n[h]],i)===!1)return!1;return!0}/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function hG(e,t,n){var i=bC(e),s=bC(t),h=SC(e),f=SC(t);if(i=i.concat(h),s=s.concat(f),i.length&&i.length===s.length)return eu(EC(i).sort(),EC(s).sort())===!1?!1:tM(e,t,i,n);var u=wC(e),w=wC(t);return u.length&&u.length===w.length?(u.sort(),w.sort(),eu(u,w,n)):i.length===0&&u.length===0&&s.length===0&&w.length===0}/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */function Xc(e){return e===null||typeof e!="object"}function EC(e){return e.map(function(n){return typeof n=="symbol"?n.toString():n})}var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.findOrCreate=void 0;function dG(e,t,n){const i=e.findIndex(h=>t(h));if(i>=0)return e[i];const s=n();return e.push(s),s}Ky.findOrCreate=dG;var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.asArraysFactory=void 0;function fG(e){return()=>e.map(t=>t.items)}Yy.asArraysFactory=fG;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.asEntriesFactory=void 0;function pG(e){return t=>{var n,i;const s=(n=t==null?void 0:t.keyName)!==null&&n!==void 0?n:"key",h=(i=t==null?void 0:t.itemsName)!==null&&i!==void 0?i:"items";return e.map(f=>({[s]:f.key,[h]:f.items}))}}Jy.asEntriesFactory=pG;var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.asMapFactory=void 0;function mG(e){return()=>{const t=new Map;for(const n of e)t.set(n.key,n.items);return t}}Qy.asMapFactory=mG;var e0={};Object.defineProperty(e0,"__esModule",{value:!0});e0.asObjectFactory=void 0;function gG(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"}function yG(e){return()=>{const t={};for(const n of e)gG(n.key)&&(t[n.key]=n.items);return t}}e0.asObjectFactory=yG;var t0={};Object.defineProperty(t0,"__esModule",{value:!0});t0.asTuplesFactory=void 0;function _G(e){return()=>e.map(t=>[t.key,t.items])}t0.asTuplesFactory=_G;var n0={};Object.defineProperty(n0,"__esModule",{value:!0});n0.keysFactory=void 0;function vG(e){return()=>e.map(t=>t.key)}n0.keysFactory=vG;var xG=Kd&&Kd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.group=void 0;const wG=xG(tb.exports),bG=Ky,SG=Yy,EG=Jy,kG=Qy,CG=e0,TG=t0,PG=n0;function IG(e,t){const n=[];let i=0;for(const s of e){const h=t(s,i);i++;const f=w=>(0,wG.default)(w.key,h),u=()=>({key:h,items:[]});(0,bG.findOrCreate)(n,f,u).items.push(s)}return n}function AG(e){return Object.freeze({by:n=>{const s=IG(e,typeof n=="function"?n:h=>h[n]);return Object.freeze({asArrays:(0,SG.asArraysFactory)(s),asEntries:(0,EG.asEntriesFactory)(s),asMap:(0,kG.asMapFactory)(s),asObject:(0,CG.asObjectFactory)(s),asTuples:(0,TG.asTuplesFactory)(s),keys:(0,PG.keysFactory)(s)})}})}Hy.group=AG;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.group=void 0;var t=Hy;Object.defineProperty(e,"group",{enumerable:!0,get:function(){return t.group}})})(YA);const rb={scheme:"Light Theme",author:"mac gainor (https://github.com/mac-s-g)",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},nM={scheme:"Dark Theme",author:"Chris Kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},rM=()=>null;rM.when=()=>!1;var tv,nv,rv,iv,ov,av,sv,lv,uv,cv,hv,dv,fv,pv,mv;const MG=e=>HA(KA({enableClipboard:(tv=e.enableClipboard)!==null&&tv!==void 0?tv:!0,indentWidth:(nv=e.indentWidth)!==null&&nv!==void 0?nv:3,groupArraysAfterLength:(rv=e.groupArraysAfterLength)!==null&&rv!==void 0?rv:100,collapseStringsAfterLength:e.collapseStringsAfterLength===!1?Number.MAX_VALUE:(iv=e.collapseStringsAfterLength)!==null&&iv!==void 0?iv:50,maxDisplayLength:(ov=e.maxDisplayLength)!==null&&ov!==void 0?ov:30,rootName:(av=e.rootName)!==null&&av!==void 0?av:"root",onChange:(sv=e.onChange)!==null&&sv!==void 0?sv:()=>{},onCopy:(lv=e.onCopy)!==null&&lv!==void 0?lv:void 0,keyRenderer:(uv=e.keyRenderer)!==null&&uv!==void 0?uv:rM,editable:(cv=e.editable)!==null&&cv!==void 0?cv:!1,defaultInspectDepth:(hv=e.defaultInspectDepth)!==null&&hv!==void 0?hv:5,objectSortKeys:(dv=e.objectSortKeys)!==null&&dv!==void 0?dv:!1,quotesOnKeys:(fv=e.quotesOnKeys)!==null&&fv!==void 0?fv:!0,displayDataTypes:(pv=e.displayDataTypes)!==null&&pv!==void 0?pv:!0,inspectCache:{},hoverPath:null,colorspace:rb,value:e.value,displayObjectSize:(mv=e.displayObjectSize)!==null&&mv!==void 0?mv:!0},(t,n)=>({getInspectCache:(i,s)=>{const h=s!==void 0?i.join(".")+`[${s}]nt`:i.join(".");return n().inspectCache[h]},setInspectCache:(i,s,h)=>{const f=h!==void 0?i.join(".")+`[${h}]nt`:i.join(".");t(u=>({inspectCache:{...u.inspectCache,[f]:typeof s=="function"?s(u.inspectCache[f]):s}}))},setHover:(i,s)=>{t({hoverPath:i?{path:i,nestedIndex:s}:null})}}))),{useStore:tn,useStoreApi:iM,Provider:zG}=XA(),ib=()=>tn(e=>e.colorspace.base07);function DG({timeout:e=2e3}={}){const[t,n]=j.exports.useState(!1),i=j.exports.useRef(null),s=j.exports.useCallback(w=>{const b=i.current;b&&window.clearTimeout(b),i.current=window.setTimeout(()=>n(!1),e),n(w)},[e]),h=tn(w=>w.onCopy),f=j.exports.useCallback((w,b)=>{if(typeof h=="function")try{const C=h(w,b);C instanceof Promise?C.then(()=>{s(!0)}).catch(M=>{console.error(`error when copy ${w.length===0?"src":`src[${w.join(".")}`}]`,M)}):s(!0)}catch(C){console.error(`error when copy ${w.length===0?"src":`src[${w.join(".")}`}]`,C)}else{const C=JSON.stringify(typeof b=="function"?b.toString():b,null,"  ");"clipboard"in navigator?navigator.clipboard.writeText(C).then(()=>s(!0)).catch(()=>bE(C)):bE(C)}},[s,h]),u=j.exports.useCallback(()=>{n(!1),i.current&&clearTimeout(i.current)},[]);return{copy:f,reset:u,copied:t}}const RG=(e,t,n)=>{if(e===null||n===null||typeof e!="object"||typeof n!="object")return!1;if(Object.is(e,n)&&t.length!==0)return"";const i=[],s=[...t];let h=e;for(;h!==n||s.length!==0;){if(typeof h!="object"||h===null)return!1;if(Object.is(h,n))return i.reduce((u,w,b)=>typeof w=="number"?u+`[${w}]`:u+`${b===0?"":"."}${w}`,"");const f=s.shift();i.push(f),h=h[f]}return!1};function ob(e,t){const n=tn(i=>i.value);return j.exports.useMemo(()=>RG(n,e,t),[e,t,n])}function LG(e,t,n){const i=e.length,s=ob(e,t),h=tn(M=>M.getInspectCache),f=tn(M=>M.setInspectCache),u=tn(M=>M.defaultInspectDepth);j.exports.useEffect(()=>{if(h(e,n)===void 0)if(n!==void 0)f(e,!1,n);else{const T=s?!1:i<u;f(e,T)}},[u,i,h,s,n,e,f]);const[w,b]=j.exports.useState(()=>{const M=h(e,n);return M!==void 0?M:n!==void 0||s?!1:i<u}),C=j.exports.useCallback(M=>{b(T=>{const N=typeof M=="boolean"?M:M(T);return f(e,N,n),N})},[n,e,f]);return[w,C]}class OG extends Error{constructor(t){super(t?`${t}
`:`The behavior is not expected and not allowed.
If you see this in development, please fix the error ASAP.
If you see this in production, please contract our customer service.
`)}}const Ys=sh(e=>vt(zr,{component:"div",...e}))`
  display: inline-block;
`,oM=({dataType:e,enable:t=!0})=>t?vt(Ys,{className:"data-type-label",sx:{mx:.5,fontSize:"0.7rem",opacity:.8},children:e}):null;function Wa(e,t,n){var i;const s=(i=n.displayTypeLabel)!==null&&i!==void 0?i:!0,h=Le.memo(t),f=b=>{const C=tn(T=>T.displayDataTypes),M=tn(T=>T.colorspace[n.colorKey]);return Ti(Ys,{sx:{color:M},children:[s&&C&&vt(oM,{dataType:e}),vt(Ys,{className:`${e}-value`,children:vt(h,{value:b.value})})]})};if(f.displayName=`easy-${e}-type`,!n.fromString)return{Component:f};const u=n.fromString,w=({value:b,setValue:C})=>{const M=tn(T=>T.colorspace[n.colorKey]);return vt(DU,{value:`${b}`,onChange:j.exports.useCallback(T=>{const N=u(T.target.value);C(N)},[C]),size:"small",multiline:!0,sx:{color:M,padding:.5,borderStyle:"solid",borderColor:"black",borderWidth:1,fontSize:"0.8rem",fontFamily:"monospace",display:"inline-flex"}})};return w.displayName=`easy-${e}-type-editor`,{Component:f,Editor:w}}const FG=e=>{const t=e.toString();let n=!0;const i=t.indexOf(")"),s=t.indexOf("=>");return s!==-1&&s>i&&(n=!1),n?t.substring(t.indexOf("{",i)+1,t.lastIndexOf("}")):t.substring(t.indexOf("=>")+2)},$G=e=>{const t=e.toString();return t.indexOf("function")!==-1?t.substring(8,t.indexOf("{")).trim():t.substring(0,t.indexOf("=>")+2).trim()},BG="{",VG="}",NG=e=>Ti(eb,{children:[vt(oM,{dataType:"function"}),Ti(zr,{component:"span",className:"data-function-start",sx:{letterSpacing:.5},children:[$G(e.value)," ",BG]})]}),jG=()=>vt(eb,{children:vt(zr,{component:"span",className:"data-function-end",children:VG})}),UG=e=>{const t=tn(n=>n.colorspace.base05);return vt(eb,{children:vt(zr,{className:"data-function",sx:{display:e.inspect?"block":"inline-block",pl:e.inspect?2:0,color:t},children:e.inspect?FG(e.value):vt(zr,{component:"span",className:"data-function-body",onClick:()=>e.setInspect(!0),sx:{"&:hover":{cursor:"pointer"}},children:"..."})})})},GG=e=>vt(nx,{...e,children:vt("path",{d:"M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z"})}),WG="{",qG="[",ZG="}",HG="]";function aM(e){let t,n="";return Array.isArray(e)?t=e.length:e instanceof Map||e instanceof Set?(n=e[Symbol.toStringTag],t=e.size):t=Object.keys(e).length,Object.prototype.hasOwnProperty.call(e,Symbol.toStringTag)&&(n=e[Symbol.toStringTag]),`${t} Items${n?` (${n})`:""}`}const XG=e=>{const t=tn(u=>u.colorspace.base04),n=ib(),i=j.exports.useMemo(()=>Array.isArray(e.value),[e.value]),s=j.exports.useMemo(()=>e.inspect?aM(e.value):"",[e.inspect,e.value]),h=tn(u=>u.displayObjectSize),f=ob(e.path,e.value);return Ti(zr,{component:"span",className:"data-object-start",sx:{letterSpacing:.5},children:[i?qG:WG,h?vt(zr,{component:"span",sx:{pl:.5,fontStyle:"italic",color:t},children:s}):null,f&&!e.inspect?Ti(ho,{children:[vt(GG,{sx:{fontSize:12,color:n,mx:.5}}),f]}):null]})},KG=e=>{const t=tn(h=>h.colorspace.base04),n=j.exports.useMemo(()=>Array.isArray(e.value),[e.value]),i=tn(h=>h.displayObjectSize),s=j.exports.useMemo(()=>e.inspect?"":aM(e.value),[e.inspect,e.value]);return Ti(zr,{component:"span",className:"data-object-end",children:[n?HG:ZG,i?vt(zr,{component:"span",sx:{pl:.5,fontStyle:"italic",color:t},children:s}):null]})};function YG(e){return typeof(e==null?void 0:e[Symbol.iterator])=="function"}const JG=e=>{const t=ib(),n=tn(T=>T.colorspace.base02),i=tn(T=>T.groupArraysAfterLength),s=ob(e.path,e.value),[h,f]=j.exports.useState(tn(T=>T.maxDisplayLength)),u=tn(T=>T.objectSortKeys),w=j.exports.useMemo(()=>{if(!e.inspect)return null;const T=e.value;if(YG(T)&&!Array.isArray(T)){const le=[];if(T instanceof Map)for(const V of T){const[B,Y]=V,se=`${B}`;le.push(vt(dc,{path:[...e.path,se],value:Y,editable:!1},se))}else{let V=0;for(const B of T)le.push(vt(dc,{path:[...e.path,`iterator:${V}`],value:B,nestedIndex:V,editable:!1},V)),V++}return le}if(Array.isArray(T)){if(T.length<=i){const V=T.slice(0,h).map((B,Y)=>{const se=[...e.path,Y];return vt(dc,{path:se,value:B},Y)});if(T.length>h){const B=T.length-h;V.push(Ti(Ys,{sx:{cursor:"pointer",lineHeight:1.5,color:t,letterSpacing:.5,opacity:.8},onClick:()=>f(Y=>Y*2),children:["hidden ",B," items..."]},"last"))}return V}return YA.group(T).by((V,B)=>Math.floor(B/i)).asArrays().map((V,B)=>{const Y=[...e.path];return vt(dc,{path:Y,value:V,nestedIndex:B},B)})}let W=Object.entries(T);u&&(W=W.sort(([le],[V])=>u===!0?le.localeCompare(V):u(le,V)));const H=W.slice(0,h).map(([le,V])=>{const B=[...e.path,le];return vt(dc,{path:B,value:V},le)});if(W.length>h){const le=W.length-h;H.push(Ti(Ys,{sx:{cursor:"pointer",lineHeight:1.5,color:t,letterSpacing:.5,opacity:.8},onClick:()=>f(V=>V*2),children:["hidden ",le," items..."]},"last"))}return H},[e.inspect,e.value,e.path,i,h,t,u]),b=e.inspect?.6:0,C=tn(T=>T.indentWidth),M=e.inspect?C-b:C;return vt(zr,{className:"data-object",sx:{display:e.inspect?"block":"inline-block",pl:e.inspect?M-.6:0,marginLeft:b,color:t,borderLeft:e.inspect?`1px solid ${n}`:"none"},children:e.inspect?w:s?null:vt(zr,{component:"span",className:"data-object-body",onClick:()=>e.setInspect(!0),sx:{"&:hover":{cursor:"pointer"}},children:"..."})})},QG=()=>HA(KA({registry:[]},e=>({registerTypes:t=>{e(n=>({registry:typeof t=="function"?t(n.registry):t}))}}))),{Provider:eW,useStore:sM,useStoreApi:aq}=XA(),tW={is:e=>typeof e=="object",Component:JG,PreComponent:XG,PostComponent:KG};function nW(e,t,n){let i;for(const s of n)if(s.is(e,t)&&(i=s,typeof e=="object"))return s;if(i===void 0){if(typeof e=="object")return tW;throw new OG("this is not possible")}return i}function rW(e,t){const n=sM(i=>i.registry);return j.exports.useMemo(()=>nW(e,t,n),[e,t,n])}function iW(){const e=[];function t(s){function h(f,u){var w,b;return Object.is(f.value,u.value)&&f.inspect&&u.inspect&&((w=f.path)===null||w===void 0?void 0:w.join("."))===((b=u.path)===null||b===void 0?void 0:b.join("."))}s.Component=j.exports.memo(s.Component,h),s.Editor&&(s.Editor=j.exports.memo(s.Editor,function(u,w){return Object.is(u.value,w.value)})),s.PreComponent&&(s.PreComponent=j.exports.memo(s.PreComponent,h)),s.PostComponent&&(s.PostComponent=j.exports.memo(s.PostComponent,h)),e.push(s)}t({is:s=>typeof s=="boolean",...Wa("bool",({value:s})=>vt(ho,{children:s?"true":"false"}),{colorKey:"base0E",fromString:s=>Boolean(s)})});const n={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};t({is:s=>s instanceof Date,...Wa("date",({value:s})=>vt(ho,{children:s.toLocaleTimeString("en-us",n)}),{colorKey:"base0D"})}),t({is:s=>s===null,...Wa("null",()=>{const s=tn(h=>h.colorspace.base02);return vt(zr,{sx:{fontSize:"0.8rem",backgroundColor:s,fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NULL"})},{colorKey:"base08",displayTypeLabel:!1})}),t({is:s=>s===void 0,...Wa("undefined",()=>{const s=tn(h=>h.colorspace.base02);return vt(zr,{sx:{fontSize:"0.7rem",backgroundColor:s,borderRadius:"3px",padding:"0.5px 2px"},children:"undefined"})},{colorKey:"base05",displayTypeLabel:!1})}),t({is:s=>typeof s=="string",...Wa("string",s=>{const[h,f]=j.exports.useState(!1),u=tn(C=>C.collapseStringsAfterLength),w=h?s.value:s.value.slice(0,u),b=s.value.length>u;return Ti(zr,{component:"span",sx:{overflowWrap:"anywhere",cursor:b?"pointer":"inherit"},onClick:()=>{f(C=>!C)},children:['"',w,h?vt("span",{children:"..."}):vt(ho,{}),'"']})},{colorKey:"base09",fromString:s=>s})}),t({is:s=>typeof s=="function",Component:UG,PreComponent:NG,PostComponent:jG});const i=s=>s%1===0;return t({is:s=>typeof s=="number"&&isNaN(s),...Wa("NaN",()=>{const s=tn(h=>h.colorspace.base02);return vt(zr,{sx:{backgroundColor:s,fontSize:"0.8rem",fontWeight:"bold",borderRadius:"3px"},children:"NaN"})},{colorKey:"base08",displayTypeLabel:!1})}),t({is:s=>typeof s=="number"&&!i(s),...Wa("float",({value:s})=>vt(ho,{children:`${s}`}),{colorKey:"base0B",fromString:s=>parseFloat(s)})}),t({is:s=>typeof s=="number"&&i(s),...Wa("int",({value:s})=>vt(ho,{children:`${s}`}),{colorKey:"base0F",fromString:s=>parseInt(s)})}),t({is:s=>typeof s=="bigint",...Wa("bigint",({value:s})=>vt(ho,{children:`${s}n`}),{colorKey:"base0F",fromString:s=>BigInt(s.replace(/\D/g,""))})}),e}const Em=sh(e=>vt(zr,{...e,component:"span"}))`
  cursor: pointer;
  padding-left: 0.7rem;
`,dc=e=>{const{value:t,path:n,nestedIndex:i}=e;var s;const h=(s=e.editable)!==null&&s!==void 0?s:void 0,f=tn(ct=>ct.editable),u=j.exports.useMemo(()=>f===!1||h===!1?!1:typeof f=="function"?!!f(n,t):f,[n,h,f,t]),[w,b]=j.exports.useState(typeof t=="function"?()=>t:t),C=n.length,M=n[C-1],T=tn(ct=>ct.hoverPath),N=j.exports.useMemo(()=>T&&n.every((ct,mn)=>ct===T.path[mn]&&i===T.nestedIndex),[T,n,i]),W=tn(ct=>ct.setHover),H=tn(ct=>ct.value),[le,V]=LG(n,t,i),[B,Y]=j.exports.useState(!1),se=tn(ct=>ct.onChange),oe=ib(),de=tn(ct=>ct.colorspace.base0C),{Component:me,PreComponent:xe,PostComponent:Be,Editor:Ie}=rW(t,n),Qe=tn(ct=>ct.quotesOnKeys),Tt=tn(ct=>ct.rootName),Ct=H===t,Et=Number.isInteger(Number(M)),jt=tn(ct=>ct.enableClipboard),{copy:tt,copied:dn}=DG(),Ne=j.exports.useMemo(()=>B?Ti(ho,{children:[vt(Em,{children:vt(FU,{sx:{fontSize:".8rem"},onClick:()=>{Y(!1),b(t)}})}),vt(Em,{children:vt(pC,{sx:{fontSize:".8rem"},onClick:()=>{Y(!1),se(n,t,w)}})})]}):Ti(ho,{children:[jt&&vt(Em,{onClick:ct=>{ct.preventDefault();try{tt(n,t)}catch(mn){console.error(mn)}},children:dn?vt(pC,{sx:{fontSize:".8rem"}}):vt($U,{sx:{fontSize:".8rem"}})}),Ie&&u&&vt(Em,{onClick:ct=>{ct.preventDefault(),Y(!0)},children:vt(BU,{sx:{fontSize:".8rem"}})})]}),[Ie,dn,tt,u,B,jt,se,n,w,t]),nt=!!(xe&&Be),ut=tn(ct=>ct.keyRenderer),Ft=j.exports.useMemo(()=>({path:n,inspect:le,setInspect:V,value:t}),[le,n,V,t]);return Ti(zr,{className:"data-key-pair","data-testid":"data-key-pair"+n.join("."),onMouseEnter:j.exports.useCallback(()=>W(n,i),[W,n,i]),children:[Ti(Ys,{component:"span",className:"data-key",sx:{lineHeight:1.5,color:oe,letterSpacing:.5,opacity:.8},onClick:j.exports.useCallback(ct=>{ct.isDefaultPrevented()||V(mn=>!mn)},[V]),children:[nt?le?vt(VU,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):vt(OU,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):null,Ct?Tt!==!1?Qe?Ti(ho,{children:['"',Tt,'"']}):vt(ho,{children:Tt}):null:ut.when(Ft)?vt(ut,{...Ft}):i===void 0&&(Et?vt(zr,{component:"span",style:{color:de},children:M}):Qe?Ti(ho,{children:['"',M,'"']}):vt(ho,{children:M})),Ct?Tt!==!1?vt(Ys,{sx:{mx:.5},children:":"}):null:i===void 0&&vt(Ys,{sx:{mx:.5},children:":"}),xe&&vt(xe,{...Ft}),N&&nt&&le&&Ne]}),B&&u?Ie&&vt(Ie,{value:w,setValue:b}):me?vt(me,{...Ft}):vt(zr,{component:"span",className:"data-value-fallback",children:`fallback: ${t}`}),Be&&vt(Be,{...Ft}),N&&nt&&!le&&Ne,N&&!nt&&Ne]})},kC="(prefers-color-scheme: dark)";function oW(){const[e,t]=j.exports.useState(!1);return j.exports.useEffect(()=>{const n=s=>{t(s.matches)};t(window.matchMedia(kC).matches);const i=window.matchMedia(kC);return i.addEventListener("change",n),()=>i.removeEventListener("change",n)},[]),e}function Mo(e,t){const n=iM();j.exports.useEffect(()=>{t!==void 0&&n.setState({[e]:t})},[e,t,n])}const aW=e=>{const t=iM();Mo("value",e.value),Mo("editable",e.editable),Mo("indentWidth",e.indentWidth),Mo("onChange",e.onChange),Mo("groupArraysAfterLength",e.groupArraysAfterLength),Mo("keyRenderer",e.keyRenderer),Mo("maxDisplayLength",e.maxDisplayLength),Mo("enableClipboard",e.enableClipboard),Mo("rootName",e.rootName),Mo("displayDataTypes",e.displayDataTypes),Mo("displayObjectSize",e.displayObjectSize),Mo("onCopy",e.onCopy),j.exports.useEffect(()=>{e.theme==="light"?t.setState({colorspace:rb}):e.theme==="dark"?t.setState({colorspace:nM}):typeof e.theme=="object"&&t.setState({colorspace:e.theme})},[t,e.theme]);const n=j.exports.useRef(!0),i=j.exports.useMemo(()=>iW(),[]),s=sM(w=>w.registerTypes);if(n.current){var h;const w=[...i];(h=e.valueTypes)===null||h===void 0||h.forEach(b=>{w.push(b)}),s(w),n.current=!1}j.exports.useEffect(()=>{var w;const b=[...i];(w=e.valueTypes)===null||w===void 0||w.forEach(C=>{b.push(C)}),s(b)},[i,e.valueTypes,s]);const f=tn(w=>w.value),u=tn(w=>w.setHover);return vt(yU,{elevation:0,className:e.className,style:e.style,sx:{fontFamily:"monospace",userSelect:"none",contentVisibility:"auto"},onMouseLeave:j.exports.useCallback(()=>{u(null)},[u]),children:vt(dc,{value:f,path:j.exports.useMemo(()=>[],[])})})},sW=function(t){const n=oW();var i;const s=j.exports.useMemo(()=>t.theme==="auto"?n?"light":"dark":(i=t.theme)!==null&&i!==void 0?i:"light",[n,t.theme]),h=j.exports.useMemo(()=>{const u=typeof s=="object"?s.base00:s==="dark"?nM.base00:rb.base00;return Yw({components:{MuiPaper:{styleOverrides:{root:{backgroundColor:u}}}},palette:{mode:s==="dark"?"dark":"light",background:{default:u}}})},[s]),f={...t,theme:s};return vt(Pj,{theme:h,children:vt(eW,{createStore:QG,children:vt(zG,{createStore:()=>MG(t),children:vt(aW,{...f})})})})},lW=un("div",{padding:"2rem"}),uW=un("div",{paddingBottom:"2rem",fontFamily:"monospace"});function cW(e){let[t,n]=j.exports.useState(),[i,s]=j.exports.useState(null);return j.exports.useEffect(()=>{let h=e.file;(async()=>{n(await h.getMetadata()),s(await h.getHeader())})()},[e.file]),kt(lW,{children:[i?kt(uW,{children:[kt("div",{children:["root directory: offset=",i.rootDirectoryOffset," len=",i.rootDirectoryLength]}),kt("div",{children:["metadata: offset=",i.jsonMetadataOffset," len=",i.jsonMetadataLength]}),kt("div",{children:["leaf directories: offset=",i.leafDirectoryOffset," len=",i.leafDirectoryLength]}),kt("div",{children:["tile data: offset=",i.tileDataOffset," len=",i.tileDataLength]}),kt("div",{children:["num addressed tiles: ",i.numAddressedTiles]}),kt("div",{children:["num tile entries: ",i.numTileEntries]}),kt("div",{children:["num tile contents: ",i.numTileContents]}),kt("div",{children:["clustered: ",i.clustered?"true":"false"]}),kt("div",{children:["internal compression: ",i.internalCompression]}),kt("div",{children:["tile compression: ",i.tileCompression]}),kt("div",{children:["tile type: ",i.tileType]}),kt("div",{children:["min zoom: ",i.minZoom]}),kt("div",{children:["max zoom: ",i.maxZoom]}),kt("div",{children:["min lon, min lat, max lon, max lat: ",i.minLon,", ",i.minLat,", ",i.maxLon,", ",i.maxLat]}),kt("div",{children:["center zoom: ",i.centerZoom]}),kt("div",{children:["center lon, center lat: ",i.centerLon,", ",i.centerLat]})]}):null,Oe(sW,{value:t,theme:"dark",defaultInspectDepth:1})]})}const hW=j.exports.forwardRef((e,t)=>{const{pressed:n,defaultPressed:i=!1,onPressedChange:s,...h}=e,[f=!1,u]=Df({prop:n,onChange:s,defaultProp:i});return j.exports.createElement(Hi.button,We({type:"button","aria-pressed":f,"data-state":f?"on":"off","data-disabled":e.disabled?"":void 0},h,{ref:t,onClick:Ai(e.onClick,()=>{e.disabled||u(!f)})}))});function dW(e){const t=e+"CollectionProvider",[n,i]=Rf(t),[s,h]=n(t,{collectionRef:{current:null},itemMap:new Map}),f=T=>{const{scope:N,children:W}=T,H=Le.useRef(null),le=Le.useRef(new Map).current;return Le.createElement(s,{scope:N,itemMap:le,collectionRef:H},W)},u=e+"CollectionSlot",w=Le.forwardRef((T,N)=>{const{scope:W,children:H}=T,le=h(u,W),V=os(N,le.collectionRef);return Le.createElement(mf,{ref:V},H)}),b=e+"CollectionItemSlot",C="data-radix-collection-item";return[{Provider:f,Slot:w,ItemSlot:Le.forwardRef((T,N)=>{const{scope:W,children:H,...le}=T,V=Le.useRef(null),B=os(N,V),Y=h(b,W);return Le.useEffect(()=>(Y.itemMap.set(V,{ref:V,...le}),()=>{Y.itemMap.delete(V)})),Le.createElement(mf,{[C]:"",ref:B},H)})},function(T){const N=h(e+"CollectionConsumer",T);return Le.useCallback(()=>{const W=N.collectionRef.current;if(!W)return[];const H=Array.from(W.querySelectorAll(`[${C}]`));return Array.from(N.itemMap.values()).sort((le,V)=>H.indexOf(le.ref.current)-H.indexOf(V.ref.current))},[N.collectionRef,N.itemMap])},i]}const fW={bubbles:!1,cancelable:!0},[ox,lM,pW]=dW("RovingFocusGroup"),[mW,r0]=Rf("RovingFocusGroup",[pW]),[gW,yW]=mW("RovingFocusGroup"),_W=j.exports.forwardRef((e,t)=>j.exports.createElement(ox.Provider,{scope:e.__scopeRovingFocusGroup},j.exports.createElement(ox.Slot,{scope:e.__scopeRovingFocusGroup},j.exports.createElement(vW,We({},e,{ref:t}))))),vW=j.exports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,dir:s="ltr",loop:h=!1,currentTabStopId:f,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:w,onEntryFocus:b,...C}=e,M=j.exports.useRef(null),T=os(t,M),[N=null,W]=Df({prop:f,defaultProp:u,onChange:w}),[H,le]=j.exports.useState(!1),V=tl(b),B=lM(n),Y=j.exports.useRef(!1);return j.exports.useEffect(()=>{const se=M.current;if(se)return se.addEventListener("rovingFocusGroup.onEntryFocus",V),()=>se.removeEventListener("rovingFocusGroup.onEntryFocus",V)},[V]),j.exports.createElement(gW,{scope:n,orientation:i,dir:s,loop:h,currentTabStopId:N,onItemFocus:j.exports.useCallback(se=>W(se),[W]),onItemShiftTab:j.exports.useCallback(()=>le(!0),[])},j.exports.createElement(Hi.div,We({tabIndex:H?-1:0,"data-orientation":i},C,{ref:T,style:{outline:"none",...e.style},onMouseDown:Ai(e.onMouseDown,()=>{Y.current=!0}),onFocus:Ai(e.onFocus,se=>{const oe=!Y.current;if(se.target===se.currentTarget&&oe&&!H){const de=new Event("rovingFocusGroup.onEntryFocus",fW);if(se.currentTarget.dispatchEvent(de),!de.defaultPrevented){const me=B().filter(xe=>xe.focusable);uM([me.find(xe=>xe.active),me.find(xe=>xe.id===N),...me].filter(Boolean).map(xe=>xe.ref.current))}}Y.current=!1}),onBlur:Ai(e.onBlur,()=>le(!1))})))}),xW=j.exports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,...h}=e,f=qd(),u=yW("RovingFocusGroupItem",n),w=u.currentTabStopId===f,b=lM(n);return j.exports.createElement(ox.ItemSlot,{scope:n,id:f,focusable:i,active:s},j.exports.createElement(Hi.span,We({tabIndex:w?0:-1,"data-orientation":u.orientation},h,{ref:t,onMouseDown:Ai(e.onMouseDown,C=>{i?u.onItemFocus(f):C.preventDefault()}),onFocus:Ai(e.onFocus,()=>u.onItemFocus(f)),onKeyDown:Ai(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey)return void u.onItemShiftTab();if(C.target!==C.currentTarget)return;const M=function(W,H,le){const V=function(B,Y){return Y!=="rtl"?B:B==="ArrowLeft"?"ArrowRight":B==="ArrowRight"?"ArrowLeft":B}(W.key,le);return H==="vertical"&&["ArrowLeft","ArrowRight"].includes(V)||H==="horizontal"&&["ArrowUp","ArrowDown"].includes(V)?void 0:wW[V]}(C,u.orientation,u.dir);if(M!==void 0){C.preventDefault();let W=b().filter(H=>H.focusable).map(H=>H.ref.current);if(M==="last")W.reverse();else if(M==="prev"||M==="next"){M==="prev"&&W.reverse();const H=W.indexOf(C.currentTarget);W=u.loop?(N=H+1,(T=W).map((le,V)=>T[(N+V)%T.length])):W.slice(H+1)}setTimeout(()=>uM(W))}var T,N})})))}),wW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uM(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}const cM=_W,ab=xW,[hM,dM]=Rf("ToggleGroup",[r0]),fM=r0(),bW=Le.forwardRef((e,t)=>{const{type:n,...i}=e;if(n==="single"){const s=i;return Le.createElement(SW,We({},s,{ref:t}))}if(n==="multiple"){const s=i;return Le.createElement(EW,We({},s,{ref:t}))}throw new Error("Missing prop `type` expected on `ToggleGroup`")}),[pM,mM]=hM("ToggleGroup"),SW=Le.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:s=()=>{},...h}=e,[f,u]=Df({prop:n,defaultProp:i,onChange:s});return Le.createElement(pM,{scope:e.__scopeToggleGroup,type:"single",value:f?[f]:[],onItemActivate:u,onItemDeactivate:Le.useCallback(()=>u(""),[u])},Le.createElement(gM,We({},h,{ref:t})))}),EW=Le.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:s=()=>{},...h}=e,[f=[],u]=Df({prop:n,defaultProp:i,onChange:s}),w=Le.useCallback(C=>u((M=[])=>[...M,C]),[u]),b=Le.useCallback(C=>u((M=[])=>M.filter(T=>T!==C)),[u]);return Le.createElement(pM,{scope:e.__scopeToggleGroup,type:"multiple",value:f,onItemActivate:w,onItemDeactivate:b},Le.createElement(gM,We({},h,{ref:t})))}),[kW,CW]=hM("ToggleGroup"),gM=Le.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:i=!1,rovingFocus:s=!0,orientation:h,dir:f="ltr",loop:u=!0,...w}=e,b=fM(n),C={role:"group",dir:f,...w};return Le.createElement(kW,{scope:n,rovingFocus:s,disabled:i},s?Le.createElement(cM,We({asChild:!0},b,{orientation:h,dir:f,loop:u}),Le.createElement(Hi.div,We({},C,{ref:t}))):Le.createElement(Hi.div,We({},C,{ref:t})))}),TW=Le.forwardRef((e,t)=>{const n=mM("ToggleGroupItem",e.__scopeToggleGroup),i=CW("ToggleGroupItem",e.__scopeToggleGroup),s=fM(e.__scopeToggleGroup),h=n.value.includes(e.value),f=i.disabled||e.disabled,u={...e,pressed:h,disabled:f},w=Le.useRef(null);return i.rovingFocus?Le.createElement(ab,We({asChild:!0},s,{focusable:!f,active:h,ref:w}),Le.createElement(CC,We({},u,{ref:t}))):Le.createElement(CC,We({},u,{ref:t}))}),CC=Le.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:i,...s}=e,h=mM("ToggleGroupItem",n),f={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},u=h.type==="single"?f:void 0;return Le.createElement(hW,We({},u,s,{ref:t,onPressedChange:w=>{w?h.onItemActivate(i):h.onItemDeactivate(i)}}))}),PW=bW,IW=TW,[AW,sq]=Rf("Toolbar",[r0,dM]),sb=r0(),yM=dM(),[MW,zW]=AW("Toolbar"),DW=j.exports.forwardRef((e,t)=>{const{__scopeToolbar:n,orientation:i="horizontal",dir:s="ltr",loop:h=!0,...f}=e,u=sb(n);return j.exports.createElement(MW,{scope:n,orientation:i},j.exports.createElement(cM,We({asChild:!0},u,{orientation:i,dir:s,loop:h}),j.exports.createElement(Hi.div,We({role:"toolbar","aria-orientation":i,dir:s},f,{ref:t}))))}),RW=j.exports.forwardRef((e,t)=>{const{__scopeToolbar:n,...i}=e,s=sb(n);return j.exports.createElement(ab,We({asChild:!0},s,{focusable:!e.disabled}),j.exports.createElement(Hi.button,We({type:"button"},i,{ref:t})))}),LW=j.exports.forwardRef((e,t)=>{const{__scopeToolbar:n,...i}=e,s=sb(n);return j.exports.createElement(ab,We({asChild:!0},s,{focusable:!0}),j.exports.createElement(Hi.a,We({},i,{ref:t,onKeyDown:Ai(e.onKeyDown,h=>{h.key===" "&&h.currentTarget.click()})})))}),OW=j.exports.forwardRef((e,t)=>{const{__scopeToolbar:n,...i}=e,s=zW("ToolbarToggleGroup",n),h=yM(n);return j.exports.createElement(PW,We({"data-orientation":s.orientation},h,i,{ref:t,rovingFocus:!1}))}),FW=j.exports.forwardRef((e,t)=>{const{__scopeToolbar:n,...i}=e,s=yM(n);return j.exports.createElement(RW,We({asChild:!0},e),j.exports.createElement(IW,We({},s,i,{ref:t})))}),$W=DW,BW=LW,VW=OW,NW=FW,jW=un($W,{display:"flex",height:"$4",width:"100%",boxSizing:"border-box",minWidth:"max-content",backgroundColor:"white",boxShadow:'0 2px 10px "black"'}),_M={all:"unset",flex:"0 0 auto",color:"$black",display:"inline-flex",padding:"0 $1 0 $1",fontSize:"$2",alignItems:"center","&:hover":{backgroundColor:"$hover",color:"$white"},"&:focus":{position:"relative",boxShadow:"0 0 0 2px blue"}},UW=un(BW,{..._M,backgroundColor:"transparent",color:"black",display:"inline-flex",justifyContent:"center",alignItems:"center"},{"&:hover":{backgroundColor:"$hover",color:"$white",cursor:"pointer"}}),GW=un(VW,{display:"inline-flex",borderRadius:4}),WW=un(NW,{..._M,boxShadow:0,backgroundColor:"white",marginLeft:2,cursor:"pointer","&:first-child":{marginLeft:0},"&[data-state=on]":{backgroundColor:"$primary",color:"$primaryText"}}),qW=jW,ZW=UW,HW=GW,gv=WW;function XW(e){let[t,n]=j.exports.useState("maplibre"),i;return t==="maplibre"?i=Oe(HV,{file:e.file}):t==="inspector"?i=Oe(CB,{file:e.file}):i=Oe(cW,{file:e.file}),kt(yf,{children:[kt(qW,{"aria-label":"Formatting options",children:[kt(HW,{type:"single",defaultValue:"center","aria-label":"Text alignment",value:t,onValueChange:n,children:[Oe(gv,{value:"maplibre","aria-label":"Right aligned",children:"Map View"}),kt(gv,{value:"inspector","aria-label":"Left aligned",children:[Oe(UR,{})," Tile Inspector"]}),Oe(gv,{value:"metadata","aria-label":"Left aligned",children:"Metadata"})]}),Oe(ZW,{css:{marginRight:10},children:e.file.source.getKey()})]}),i]})}const KW=un("div",{height:"$4",display:"flex",alignItems:"center",padding:"0 $2 0 $2"}),YW=un("a",{fontWeight:500,color:"unset",textDecoration:"none"}),JW=un("a",{color:"white",textDecoration:"none",fontSize:"$1"}),QW=un("span",{marginLeft:"auto"}),eq=un(JL,{backgroundColor:"black",position:"fixed",inset:0,opacity:"40%",zIndex:3}),tq=un(QL,{backgroundColor:"black",color:"#ef4444",padding:"$1",borderRadius:6,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",zIndex:4,"&:focus":{outline:"none"}}),nq="23a3056".substr(0,8);function rq(){eR();let[e,t]=j.exports.useState(),[n,i]=j.exports.useState();j.exports.useEffect(()=>{const f=new URLSearchParams(location.search).get("url");if(f){let u=new Dc(f);i(u)}},[]),j.exports.useEffect(()=>{n&&n.getHeader().catch(f=>{t(f.message)})},[n]),j.exports.useEffect(()=>{const f=new URL(window.location.href);n&&n.source.getKey().startsWith("http")?(f.searchParams.set("url",n.source.getKey()),history.pushState(null,"",f.toString())):(f.searchParams.delete("url"),history.pushState(null,"",f.toString()))},[n]);let s=f=>{f.preventDefault(),i(void 0)};const h=()=>{t(void 0)};return kt("div",{children:[kt(KW,{children:[Oe(YW,{href:"/PMTiles/",onClick:s,children:"PMTiles Viewer"}),Oe(QW,{children:kt(JW,{href:"https://github.com/protomaps/PMTiles",target:"_blank",children:[Oe(NR,{})," ",nq]})})]}),n?Oe(XW,{file:n}):Oe(yO,{setFile:i}),Oe(KL,{open:e!==void 0,children:kt(YL,{children:[Oe(eq,{}),kt(tq,{onEscapeKeyDown:h,onPointerDownOutside:h,children:[Oe("div",{children:n?n.source.getKey():null}),Oe("div",{children:e}),Oe(e6,{})]})]})})]})}_v.createRoot(document.getElementById("root")).render(Oe(Le.StrictMode,{children:Oe(rq,{})}));
